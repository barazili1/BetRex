(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();function gb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var mf={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function Yw(){if(Gx)return il;Gx=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(l,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:i,type:l,key:f,ref:c!==void 0?c:null,props:u}}return il.Fragment=t,il.jsx=a,il.jsxs=a,il}var Hx;function $w(){return Hx||(Hx=1,mf.exports=Yw()),mf.exports}var s=$w(),pf={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function qw(){if(Vx)return $e;Vx=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function k(_){return _===null||typeof _!="object"?null:(_=N&&_[N]||_["@@iterator"],typeof _=="function"?_:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,O={};function D(_,T,z){this.props=_,this.context=T,this.refs=O,this.updater=z||M}D.prototype.isReactComponent={},D.prototype.setState=function(_,T){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,T,"setState")},D.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function W(){}W.prototype=D.prototype;function te(_,T,z){this.props=_,this.context=T,this.refs=O,this.updater=z||M}var he=te.prototype=new W;he.constructor=te,L(he,D.prototype),he.isPureReactComponent=!0;var pe=Array.isArray;function Ne(){}var ie={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function ue(_,T,z){var G=z.ref;return{$$typeof:i,type:_,key:T,ref:G!==void 0?G:null,props:z}}function xe(_,T){return ue(_.type,T,_.props)}function se(_){return typeof _=="object"&&_!==null&&_.$$typeof===i}function je(_){var T={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(z){return T[z]})}var we=/\/+/g;function Ce(_,T){return typeof _=="object"&&_!==null&&_.key!=null?je(""+_.key):T.toString(36)}function X(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(Ne,Ne):(_.status="pending",_.then(function(T){_.status==="pending"&&(_.status="fulfilled",_.value=T)},function(T){_.status==="pending"&&(_.status="rejected",_.reason=T)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function S(_,T,z,G,ne){var A=typeof _;(A==="undefined"||A==="boolean")&&(_=null);var Q=!1;if(_===null)Q=!0;else switch(A){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(_.$$typeof){case i:case t:Q=!0;break;case v:return Q=_._init,S(Q(_._payload),T,z,G,ne)}}if(Q)return ne=ne(_),Q=G===""?"."+Ce(_,0):G,pe(ne)?(z="",Q!=null&&(z=Q.replace(we,"$&/")+"/"),S(ne,T,z,"",function(B){return B})):ne!=null&&(se(ne)&&(ne=xe(ne,z+(ne.key==null||_&&_.key===ne.key?"":(""+ne.key).replace(we,"$&/")+"/")+Q)),T.push(ne)),1;Q=0;var _e=G===""?".":G+":";if(pe(_))for(var ee=0;ee<_.length;ee++)G=_[ee],A=_e+Ce(G,ee),Q+=S(G,T,z,A,ne);else if(ee=k(_),typeof ee=="function")for(_=ee.call(_),ee=0;!(G=_.next()).done;)G=G.value,A=_e+Ce(G,ee++),Q+=S(G,T,z,A,ne);else if(A==="object"){if(typeof _.then=="function")return S(X(_),T,z,G,ne);throw T=String(_),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return Q}function $(_,T,z){if(_==null)return _;var G=[],ne=0;return S(_,G,"","",function(A){return T.call(z,A,ne++)}),G}function H(_){if(_._status===-1){var T=_._result;T=T(),T.then(function(z){(_._status===0||_._status===-1)&&(_._status=1,_._result=z)},function(z){(_._status===0||_._status===-1)&&(_._status=2,_._result=z)}),_._status===-1&&(_._status=0,_._result=T)}if(_._status===1)return _._result.default;throw _._result}var V=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},q={map:$,forEach:function(_,T,z){$(_,function(){T.apply(this,arguments)},z)},count:function(_){var T=0;return $(_,function(){T++}),T},toArray:function(_){return $(_,function(T){return T})||[]},only:function(_){if(!se(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return $e.Activity=w,$e.Children=q,$e.Component=D,$e.Fragment=a,$e.Profiler=c,$e.PureComponent=te,$e.StrictMode=l,$e.Suspense=p,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,$e.__COMPILER_RUNTIME={__proto__:null,c:function(_){return ie.H.useMemoCache(_)}},$e.cache=function(_){return function(){return _.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(_,T,z){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var G=L({},_.props),ne=_.key;if(T!=null)for(A in T.key!==void 0&&(ne=""+T.key),T)!P.call(T,A)||A==="key"||A==="__self"||A==="__source"||A==="ref"&&T.ref===void 0||(G[A]=T[A]);var A=arguments.length-2;if(A===1)G.children=z;else if(1<A){for(var Q=Array(A),_e=0;_e<A;_e++)Q[_e]=arguments[_e+2];G.children=Q}return ue(_.type,ne,G)},$e.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},$e.createElement=function(_,T,z){var G,ne={},A=null;if(T!=null)for(G in T.key!==void 0&&(A=""+T.key),T)P.call(T,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ne[G]=T[G]);var Q=arguments.length-2;if(Q===1)ne.children=z;else if(1<Q){for(var _e=Array(Q),ee=0;ee<Q;ee++)_e[ee]=arguments[ee+2];ne.children=_e}if(_&&_.defaultProps)for(G in Q=_.defaultProps,Q)ne[G]===void 0&&(ne[G]=Q[G]);return ue(_,A,ne)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(_){return{$$typeof:m,render:_}},$e.isValidElement=se,$e.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:H}},$e.memo=function(_,T){return{$$typeof:x,type:_,compare:T===void 0?null:T}},$e.startTransition=function(_){var T=ie.T,z={};ie.T=z;try{var G=_(),ne=ie.S;ne!==null&&ne(z,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Ne,V)}catch(A){V(A)}finally{T!==null&&z.types!==null&&(T.types=z.types),ie.T=T}},$e.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},$e.use=function(_){return ie.H.use(_)},$e.useActionState=function(_,T,z){return ie.H.useActionState(_,T,z)},$e.useCallback=function(_,T){return ie.H.useCallback(_,T)},$e.useContext=function(_){return ie.H.useContext(_)},$e.useDebugValue=function(){},$e.useDeferredValue=function(_,T){return ie.H.useDeferredValue(_,T)},$e.useEffect=function(_,T){return ie.H.useEffect(_,T)},$e.useEffectEvent=function(_){return ie.H.useEffectEvent(_)},$e.useId=function(){return ie.H.useId()},$e.useImperativeHandle=function(_,T,z){return ie.H.useImperativeHandle(_,T,z)},$e.useInsertionEffect=function(_,T){return ie.H.useInsertionEffect(_,T)},$e.useLayoutEffect=function(_,T){return ie.H.useLayoutEffect(_,T)},$e.useMemo=function(_,T){return ie.H.useMemo(_,T)},$e.useOptimistic=function(_,T){return ie.H.useOptimistic(_,T)},$e.useReducer=function(_,T,z){return ie.H.useReducer(_,T,z)},$e.useRef=function(_){return ie.H.useRef(_)},$e.useState=function(_){return ie.H.useState(_)},$e.useSyncExternalStore=function(_,T,z){return ie.H.useSyncExternalStore(_,T,z)},$e.useTransition=function(){return ie.H.useTransition()},$e.version="19.2.4",$e}var Yx;function ah(){return Yx||(Yx=1,pf.exports=qw()),pf.exports}var b=ah();const Ww=gb(b);var xf={exports:{}},rl={},gf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function Xw(){return $x||($x=1,(function(i){function t(S,$){var H=S.length;S.push($);e:for(;0<H;){var V=H-1>>>1,q=S[V];if(0<c(q,$))S[V]=$,S[H]=q,H=V;else break e}}function a(S){return S.length===0?null:S[0]}function l(S){if(S.length===0)return null;var $=S[0],H=S.pop();if(H!==$){S[0]=H;e:for(var V=0,q=S.length,_=q>>>1;V<_;){var T=2*(V+1)-1,z=S[T],G=T+1,ne=S[G];if(0>c(z,H))G<q&&0>c(ne,z)?(S[V]=ne,S[G]=H,V=G):(S[V]=z,S[T]=H,V=T);else if(G<q&&0>c(ne,H))S[V]=ne,S[G]=H,V=G;else break e}}return $}function c(S,$){var H=S.sortIndex-$.sortIndex;return H!==0?H:S.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],x=[],v=1,w=null,N=3,k=!1,M=!1,L=!1,O=!1,D=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function he(S){for(var $=a(x);$!==null;){if($.callback===null)l(x);else if($.startTime<=S)l(x),$.sortIndex=$.expirationTime,t(p,$);else break;$=a(x)}}function pe(S){if(L=!1,he(S),!M)if(a(p)!==null)M=!0,Ne||(Ne=!0,je());else{var $=a(x);$!==null&&X(pe,$.startTime-S)}}var Ne=!1,ie=-1,P=5,ue=-1;function xe(){return O?!0:!(i.unstable_now()-ue<P)}function se(){if(O=!1,Ne){var S=i.unstable_now();ue=S;var $=!0;try{e:{M=!1,L&&(L=!1,W(ie),ie=-1),k=!0;var H=N;try{t:{for(he(S),w=a(p);w!==null&&!(w.expirationTime>S&&xe());){var V=w.callback;if(typeof V=="function"){w.callback=null,N=w.priorityLevel;var q=V(w.expirationTime<=S);if(S=i.unstable_now(),typeof q=="function"){w.callback=q,he(S),$=!0;break t}w===a(p)&&l(p),he(S)}else l(p);w=a(p)}if(w!==null)$=!0;else{var _=a(x);_!==null&&X(pe,_.startTime-S),$=!1}}break e}finally{w=null,N=H,k=!1}$=void 0}}finally{$?je():Ne=!1}}}var je;if(typeof te=="function")je=function(){te(se)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ce=we.port2;we.port1.onmessage=se,je=function(){Ce.postMessage(null)}}else je=function(){D(se,0)};function X(S,$){ie=D(function(){S(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(S){S.callback=null},i.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<S?Math.floor(1e3/S):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(S){switch(N){case 1:case 2:case 3:var $=3;break;default:$=N}var H=N;N=$;try{return S()}finally{N=H}},i.unstable_requestPaint=function(){O=!0},i.unstable_runWithPriority=function(S,$){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var H=N;N=S;try{return $()}finally{N=H}},i.unstable_scheduleCallback=function(S,$,H){var V=i.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,S){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=H+q,S={id:v++,callback:$,priorityLevel:S,startTime:H,expirationTime:q,sortIndex:-1},H>V?(S.sortIndex=H,t(x,S),a(p)===null&&S===a(x)&&(L?(W(ie),ie=-1):L=!0,X(pe,H-V))):(S.sortIndex=q,t(p,S),M||k||(M=!0,Ne||(Ne=!0,je()))),S},i.unstable_shouldYield=xe,i.unstable_wrapCallback=function(S){var $=N;return function(){var H=N;N=$;try{return S.apply(this,arguments)}finally{N=H}}}})(bf)),bf}var qx;function Kw(){return qx||(qx=1,gf.exports=Xw()),gf.exports}var vf={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function Qw(){if(Wx)return cn;Wx=1;var i=ah();function t(p){var x="https://react.dev/errors/"+p;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)x+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(p,x,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:p,containerInfo:x,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,x){if(p==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,cn.createPortal=function(p,x){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return u(p,x,null,v)},cn.flushSync=function(p){var x=f.T,v=l.p;try{if(f.T=null,l.p=2,p)return p()}finally{f.T=x,l.p=v,l.d.f()}},cn.preconnect=function(p,x){typeof p=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,l.d.C(p,x))},cn.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},cn.preinit=function(p,x){if(typeof p=="string"&&x&&typeof x.as=="string"){var v=x.as,w=m(v,x.crossOrigin),N=typeof x.integrity=="string"?x.integrity:void 0,k=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;v==="style"?l.d.S(p,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:k}):v==="script"&&l.d.X(p,{crossOrigin:w,integrity:N,fetchPriority:k,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},cn.preinitModule=function(p,x){if(typeof p=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var v=m(x.as,x.crossOrigin);l.d.M(p,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&l.d.M(p)},cn.preload=function(p,x){if(typeof p=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var v=x.as,w=m(v,x.crossOrigin);l.d.L(p,v,{crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},cn.preloadModule=function(p,x){if(typeof p=="string")if(x){var v=m(x.as,x.crossOrigin);l.d.m(p,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else l.d.m(p)},cn.requestFormReset=function(p){l.d.r(p)},cn.unstable_batchedUpdates=function(p,x){return p(x)},cn.useFormState=function(p,x,v){return f.H.useFormState(p,x,v)},cn.useFormStatus=function(){return f.H.useHostTransitionStatus()},cn.version="19.2.4",cn}var Xx;function Zw(){if(Xx)return vf.exports;Xx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),vf.exports=Qw(),vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function Jw(){if(Kx)return rl;Kx=1;var i=Kw(),t=ah(),a=Zw();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(l(188))}function x(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(l(188));return n!==e?null:e}for(var r=e,o=n;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return p(d),e;if(h===o)return p(d),n;h=h.sibling}throw Error(l(188))}if(r.return!==o.return)r=d,o=h;else{for(var g=!1,y=d.child;y;){if(y===r){g=!0,r=d,o=h;break}if(y===o){g=!0,o=d,r=h;break}y=y.sibling}if(!g){for(y=h.child;y;){if(y===r){g=!0,r=h,o=d;break}if(y===o){g=!0,o=h,r=d;break}y=y.sibling}if(!g)throw Error(l(189))}}if(r.alternate!==o)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),te=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function je(e){return e===null||typeof e!="object"?null:(e=se&&e[se]||e["@@iterator"],typeof e=="function"?e:null)}var we=Symbol.for("react.client.reference");function Ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===we?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case D:return"Profiler";case O:return"StrictMode";case pe:return"Suspense";case Ne:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case te:return e.displayName||"Context";case W:return(e._context.displayName||"Context")+".Consumer";case he:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return n=e.displayName||null,n!==null?n:Ce(e.type)||"Memo";case P:n=e._payload,e=e._init;try{return Ce(e(n))}catch{}}return null}var X=Array.isArray,S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},V=[],q=-1;function _(e){return{current:e}}function T(e){0>q||(e.current=V[q],V[q]=null,q--)}function z(e,n){q++,V[q]=e.current,e.current=n}var G=_(null),ne=_(null),A=_(null),Q=_(null);function _e(e,n){switch(z(A,n),z(ne,e),z(G,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?dx(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=dx(n),e=fx(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}T(G),z(G,e)}function ee(){T(G),T(ne),T(A)}function B(e){e.memoizedState!==null&&z(Q,e);var n=G.current,r=fx(n,e.type);n!==r&&(z(ne,e),z(G,r))}function C(e){ne.current===e&&(T(G),T(ne)),Q.current===e&&(T(Q),tl._currentValue=H)}var K,Ee;function ge(e){if(K===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);K=n&&n[1]||"",Ee=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+e+Ee}var Te=!1;function Ge(e,n){if(!e||Te)return"";Te=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(J){var Y=J}Reflect.construct(e,[],de)}else{try{de.call()}catch(J){Y=J}e.call(de.prototype)}}else{try{throw Error()}catch(J){Y=J}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),g=h[0],y=h[1];if(g&&y){var j=g.split(`
`),F=y.split(`
`);for(d=o=0;o<j.length&&!j[o].includes("DetermineComponentFrameRoot");)o++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(o===j.length||d===F.length)for(o=j.length-1,d=F.length-1;1<=o&&0<=d&&j[o]!==F[d];)d--;for(;1<=o&&0<=d;o--,d--)if(j[o]!==F[d]){if(o!==1||d!==1)do if(o--,d--,0>d||j[o]!==F[d]){var re=`
`+j[o].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=o&&0<=d);break}}}finally{Te=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ge(r):""}function Ue(e,n){switch(e.tag){case 26:case 27:case 5:return ge(e.type);case 16:return ge("Lazy");case 13:return e.child!==n&&n!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return Ge(e.type,!1);case 11:return Ge(e.type.render,!1);case 1:return Ge(e.type,!0);case 31:return ge("Activity");default:return""}}function fe(e){try{var n="",r=null;do n+=Ue(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ie=Object.prototype.hasOwnProperty,me=i.unstable_scheduleCallback,ae=i.unstable_cancelCallback,Z=i.unstable_shouldYield,I=i.unstable_requestPaint,ce=i.unstable_now,ke=i.unstable_getCurrentPriorityLevel,Re=i.unstable_ImmediatePriority,Ae=i.unstable_UserBlockingPriority,Oe=i.unstable_NormalPriority,Ve=i.unstable_LowPriority,it=i.unstable_IdlePriority,He=i.log,Nt=i.unstable_setDisableYieldValue,rt=null,Ye=null;function kt(e){if(typeof He=="function"&&Nt(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(rt,e)}catch{}}var mt=Math.clz32?Math.clz32:hr,Nn=Math.log,nu=Math.LN2;function hr(e){return e>>>=0,e===0?32:31-(Nn(e)/nu|0)|0}var ai=256,os=262144,ka=4194304;function In(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oe(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var d=0,h=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var y=o&134217727;return y!==0?(o=y&~h,o!==0?d=In(o):(g&=y,g!==0?d=In(g):r||(r=y&~e,r!==0&&(d=In(r))))):(y=o&~h,y!==0?d=In(y):g!==0?d=In(g):r||(r=o&~e,r!==0&&(d=In(r)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,r=n&-n,h>=r||h===32&&(r&4194048)!==0)?n:d}function be(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function dt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(){var e=ka;return ka<<=1,(ka&62914560)===0&&(ka=4194304),e}function jt(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ft(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tt(e,n,r,o,d,h){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var y=e.entanglements,j=e.expirationTimes,F=e.hiddenUpdates;for(r=g&~r;0<r;){var re=31-mt(r),de=1<<re;y[re]=0,j[re]=-1;var Y=F[re];if(Y!==null)for(F[re]=null,re=0;re<Y.length;re++){var J=Y[re];J!==null&&(J.lane&=-536870913)}r&=~de}o!==0&&Mt(e,o,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(g&~n))}function Mt(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-mt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function en(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-mt(r),d=1<<o;d&n|e[o]&n&&(e[o]|=n),r&=~d}}function cs(e,n){var r=n&-n;return r=(r&42)!==0?1:Et(r),(r&(e.suspendedLanes|n))!==0?0:r}function Et(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function un(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Ox(e.type))}function pr(e,n){var r=$.p;try{return $.p=e,n()}finally{$.p=r}}var zn=Math.random().toString(36).slice(2),Le="__reactFiber$"+zn,Xt="__reactProps$"+zn,Fs="__reactContainer$"+zn,ii="__reactEvents$"+zn,su="__reactListeners$"+zn,au="__reactHandles$"+zn,Zh="__reactResources$"+zn,xr="__reactMarker$"+zn;function iu(e){delete e[Le],delete e[Xt],delete e[ii],delete e[su],delete e[au]}function ri(e){var n=e[Le];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Fs]||r[Le]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=vx(e);e!==null;){if(r=e[Le])return r;e=vx(e)}return n}e=r,r=e.parentNode}return null}function li(e){if(e=e[Le]||e[Fs]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function gr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function oi(e){var n=e[Zh];return n||(n=e[Zh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Kt(e){e[xr]=!0}var Jh=new Set,em={};function Ea(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(em[e]=n,e=0;e<n.length;e++)Jh.add(n[e])}var D1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tm={},nm={};function L1(e){return Ie.call(nm,e)?!0:Ie.call(tm,e)?!1:D1.test(e)?nm[e]=!0:(tm[e]=!0,!1)}function $l(e,n,r){if(L1(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function ql(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function us(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sm(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function U1(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(g){r=""+g,h.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ru(e){if(!e._valueTracker){var n=sm(e)?"checked":"value";e._valueTracker=U1(e,n,""+e[n])}}function am(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=sm(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var F1=/[\n"\\]/g;function On(e){return e.replace(F1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function lu(e,n,r,o,d,h,g,y){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Mn(n)):e.value!==""+Mn(n)&&(e.value=""+Mn(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?ou(e,g,Mn(n)):r!=null?ou(e,g,Mn(r)):o!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Mn(y):e.removeAttribute("name")}function im(e,n,r,o,d,h,g,y){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){ru(e);return}r=r!=null?""+Mn(r):"",n=n!=null?""+Mn(n):r,y||n===e.value||(e.value=n),e.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=y?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),ru(e)}function ou(e,n,r){n==="number"&&Wl(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ui(e,n,r,o){if(e=e.options,n){n={};for(var d=0;d<r.length;d++)n["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=n.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Mn(r),n=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function rm(e,n,r){if(n!=null&&(n=""+Mn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Mn(r):""}function lm(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(l(92));if(X(o)){if(1<o.length)throw Error(l(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Mn(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),ru(e)}function di(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var P1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function om(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||P1.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function cm(e,n,r){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&r[d]!==o&&om(e,d,o)}else for(var h in n)n.hasOwnProperty(h)&&om(e,h,n[h])}function cu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),G1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xl(e){return G1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ds(){}var uu=null;function du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fi=null,hi=null;function um(e){var n=li(e);if(n&&(e=n.stateNode)){var r=e[Xt]||null;e:switch(e=n.stateNode,n.type){case"input":if(lu(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+On(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var d=o[Xt]||null;if(!d)throw Error(l(90));lu(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&am(o)}break e;case"textarea":rm(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ui(e,!!r.multiple,n,!1)}}}var fu=!1;function dm(e,n,r){if(fu)return e(n,r);fu=!0;try{var o=e(n);return o}finally{if(fu=!1,(fi!==null||hi!==null)&&(Lo(),fi&&(n=fi,e=hi,hi=fi=null,um(n),e)))for(n=0;n<e.length;n++)um(e[n])}}function br(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Xt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(l(231,n,typeof r));return r}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=!1;if(fs)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){hu=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{hu=!1}var Ps=null,mu=null,Kl=null;function fm(){if(Kl)return Kl;var e,n=mu,r=n.length,o,d="value"in Ps?Ps.value:Ps.textContent,h=d.length;for(e=0;e<r&&n[e]===d[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===d[h-o];o++);return Kl=d.slice(e,1<o?1-o:void 0)}function Ql(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Zl(){return!0}function hm(){return!1}function pn(e){function n(r,o,d,h,g){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(r=e[y],this[y]=r?r(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Zl:hm,this.isPropagationStopped=hm,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),n}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=pn(Ca),yr=w({},Ca,{view:0,detail:0}),H1=pn(yr),pu,xu,wr,eo=w({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wr&&(wr&&e.type==="mousemove"?(pu=e.screenX-wr.screenX,xu=e.screenY-wr.screenY):xu=pu=0,wr=e),pu)},movementY:function(e){return"movementY"in e?e.movementY:xu}}),mm=pn(eo),V1=w({},eo,{dataTransfer:0}),Y1=pn(V1),$1=w({},yr,{relatedTarget:0}),gu=pn($1),q1=w({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),W1=pn(q1),X1=w({},Ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),K1=pn(X1),Q1=w({},Ca,{data:0}),pm=pn(Q1),Z1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ey={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ty(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ey[e])?!!n[e]:!1}function bu(){return ty}var ny=w({},yr,{key:function(e){if(e.key){var n=Z1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ql(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?J1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(e){return e.type==="keypress"?Ql(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ql(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sy=pn(ny),ay=w({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xm=pn(ay),iy=w({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),ry=pn(iy),ly=w({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),oy=pn(ly),cy=w({},eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uy=pn(cy),dy=w({},Ca,{newState:0,oldState:0}),fy=pn(dy),hy=[9,13,27,32],vu=fs&&"CompositionEvent"in window,_r=null;fs&&"documentMode"in document&&(_r=document.documentMode);var my=fs&&"TextEvent"in window&&!_r,gm=fs&&(!vu||_r&&8<_r&&11>=_r),bm=" ",vm=!1;function ym(e,n){switch(e){case"keyup":return hy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mi=!1;function py(e,n){switch(e){case"compositionend":return wm(n);case"keypress":return n.which!==32?null:(vm=!0,bm);case"textInput":return e=n.data,e===bm&&vm?null:e;default:return null}}function xy(e,n){if(mi)return e==="compositionend"||!vu&&ym(e,n)?(e=fm(),Kl=mu=Ps=null,mi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gm&&n.locale!=="ko"?null:n.data;default:return null}}var gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _m(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!gy[e.type]:n==="textarea"}function Nm(e,n,r,o){fi?hi?hi.push(o):hi=[o]:fi=o,n=Vo(n,"onChange"),0<n.length&&(r=new Jl("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Nr=null,jr=null;function by(e){ix(e,0)}function to(e){var n=gr(e);if(am(n))return e}function jm(e,n){if(e==="change")return n}var Sm=!1;if(fs){var yu;if(fs){var wu="oninput"in document;if(!wu){var km=document.createElement("div");km.setAttribute("oninput","return;"),wu=typeof km.oninput=="function"}yu=wu}else yu=!1;Sm=yu&&(!document.documentMode||9<document.documentMode)}function Em(){Nr&&(Nr.detachEvent("onpropertychange",Cm),jr=Nr=null)}function Cm(e){if(e.propertyName==="value"&&to(jr)){var n=[];Nm(n,jr,e,du(e)),dm(by,n)}}function vy(e,n,r){e==="focusin"?(Em(),Nr=n,jr=r,Nr.attachEvent("onpropertychange",Cm)):e==="focusout"&&Em()}function yy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return to(jr)}function wy(e,n){if(e==="click")return to(n)}function _y(e,n){if(e==="input"||e==="change")return to(n)}function Ny(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var jn=typeof Object.is=="function"?Object.is:Ny;function Sr(e,n){if(jn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!Ie.call(n,d)||!jn(e[d],n[d]))return!1}return!0}function Tm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Am(e,n){var r=Tm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tm(r)}}function Rm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Im(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Wl(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Wl(e.document)}return n}function _u(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var jy=fs&&"documentMode"in document&&11>=document.documentMode,pi=null,Nu=null,kr=null,ju=!1;function zm(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ju||pi==null||pi!==Wl(o)||(o=pi,"selectionStart"in o&&_u(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),kr&&Sr(kr,o)||(kr=o,o=Vo(Nu,"onSelect"),0<o.length&&(n=new Jl("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=pi)))}function Ta(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var xi={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},Su={},Mm={};fs&&(Mm=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function Aa(e){if(Su[e])return Su[e];if(!xi[e])return e;var n=xi[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Mm)return Su[e]=n[r];return e}var Om=Aa("animationend"),Dm=Aa("animationiteration"),Lm=Aa("animationstart"),Sy=Aa("transitionrun"),ky=Aa("transitionstart"),Ey=Aa("transitioncancel"),Um=Aa("transitionend"),Fm=new Map,ku="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ku.push("scrollEnd");function qn(e,n){Fm.set(e,n),Ea(n,[e])}var no=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],gi=0,Eu=0;function so(){for(var e=gi,n=Eu=gi=0;n<e;){var r=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var d=Dn[n];Dn[n++]=null;var h=Dn[n];if(Dn[n++]=null,o!==null&&d!==null){var g=o.pending;g===null?d.next=d:(d.next=g.next,g.next=d),o.pending=d}h!==0&&Pm(r,d,h)}}function ao(e,n,r,o){Dn[gi++]=e,Dn[gi++]=n,Dn[gi++]=r,Dn[gi++]=o,Eu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Cu(e,n,r,o){return ao(e,n,r,o),io(e)}function Ra(e,n){return ao(e,null,null,n),io(e)}function Pm(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var d=!1,h=e.return;h!==null;)h.childLanes|=r,o=h.alternate,o!==null&&(o.childLanes|=r),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-mt(r),e=h.hiddenUpdates,o=e[d],o===null?e[d]=[n]:o.push(n),n.lane=r|536870912),h):null}function io(e){if(50<Wr)throw Wr=0,Ld=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var bi={};function Cy(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,r,o){return new Cy(e,n,r,o)}function Tu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hs(e,n){var r=e.alternate;return r===null?(r=Sn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Bm(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ro(e,n,r,o,d,h){var g=0;if(o=e,typeof e=="function")Tu(e)&&(g=1);else if(typeof e=="string")g=zw(e,r,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=Sn(31,r,n,d),e.elementType=ue,e.lanes=h,e;case L:return Ia(r.children,d,h,n);case O:g=8,d|=24;break;case D:return e=Sn(12,r,n,d|2),e.elementType=D,e.lanes=h,e;case pe:return e=Sn(13,r,n,d),e.elementType=pe,e.lanes=h,e;case Ne:return e=Sn(19,r,n,d),e.elementType=Ne,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:g=10;break e;case W:g=9;break e;case he:g=11;break e;case ie:g=14;break e;case P:g=16,o=null;break e}g=29,r=Error(l(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,r,n,d),n.elementType=e,n.type=o,n.lanes=h,n}function Ia(e,n,r,o){return e=Sn(7,e,o,n),e.lanes=r,e}function Au(e,n,r){return e=Sn(6,e,null,n),e.lanes=r,e}function Gm(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Ru(e,n,r){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Hm=new WeakMap;function Ln(e,n){if(typeof e=="object"&&e!==null){var r=Hm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:fe(n)},Hm.set(e,n),n)}return{value:e,source:n,stack:fe(n)}}var vi=[],yi=0,lo=null,Er=0,Un=[],Fn=0,Bs=null,ts=1,ns="";function ms(e,n){vi[yi++]=Er,vi[yi++]=lo,lo=e,Er=n}function Vm(e,n,r){Un[Fn++]=ts,Un[Fn++]=ns,Un[Fn++]=Bs,Bs=e;var o=ts;e=ns;var d=32-mt(o)-1;o&=~(1<<d),r+=1;var h=32-mt(n)+d;if(30<h){var g=d-d%5;h=(o&(1<<g)-1).toString(32),o>>=g,d-=g,ts=1<<32-mt(n)+d|r<<d|o,ns=h+e}else ts=1<<h|r<<d|o,ns=e}function Iu(e){e.return!==null&&(ms(e,1),Vm(e,1,0))}function zu(e){for(;e===lo;)lo=vi[--yi],vi[yi]=null,Er=vi[--yi],vi[yi]=null;for(;e===Bs;)Bs=Un[--Fn],Un[Fn]=null,ns=Un[--Fn],Un[Fn]=null,ts=Un[--Fn],Un[Fn]=null}function Ym(e,n){Un[Fn++]=ts,Un[Fn++]=ns,Un[Fn++]=Bs,ts=n.id,ns=n.overflow,Bs=e}var tn=null,At=null,at=!1,Gs=null,Pn=!1,Mu=Error(l(519));function Hs(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cr(Ln(n,e)),Mu}function $m(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Le]=e,n[Xt]=o,r){case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":case"embed":Je("load",n);break;case"video":case"audio":for(r=0;r<Kr.length;r++)Je(Kr[r],n);break;case"source":Je("error",n);break;case"img":case"image":case"link":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"input":Je("invalid",n),im(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Je("invalid",n);break;case"textarea":Je("invalid",n),lm(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||cx(n.textContent,r)?(o.popover!=null&&(Je("beforetoggle",n),Je("toggle",n)),o.onScroll!=null&&Je("scroll",n),o.onScrollEnd!=null&&Je("scrollend",n),o.onClick!=null&&(n.onclick=ds),n=!0):n=!1,n||Hs(e,!0)}function qm(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:tn=tn.return}}function wi(e){if(e!==tn)return!1;if(!at)return qm(e),at=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Zd(e.type,e.memoizedProps)),r=!r),r&&At&&Hs(e),qm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));At=bx(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));At=bx(e)}else n===27?(n=At,sa(e.type)?(e=sf,sf=null,At=e):At=n):At=tn?Gn(e.stateNode.nextSibling):null;return!0}function za(){At=tn=null,at=!1}function Ou(){var e=Gs;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),Gs=null),e}function Cr(e){Gs===null?Gs=[e]:Gs.push(e)}var Du=_(null),Ma=null,ps=null;function Vs(e,n,r){z(Du,n._currentValue),n._currentValue=r}function xs(e){e._currentValue=Du.current,T(Du)}function Lu(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Uu(e,n,r,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var g=d.child;h=h.firstContext;e:for(;h!==null;){var y=h;h=d;for(var j=0;j<n.length;j++)if(y.context===n[j]){h.lanes|=r,y=h.alternate,y!==null&&(y.lanes|=r),Lu(h.return,r,e),o||(g=null);break e}h=y.next}}else if(d.tag===18){if(g=d.return,g===null)throw Error(l(341));g.lanes|=r,h=g.alternate,h!==null&&(h.lanes|=r),Lu(g,r,e),g=null}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===e){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}}function _i(e,n,r,o){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var g=d.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var y=d.type;jn(d.pendingProps.value,g.value)||(e!==null?e.push(y):e=[y])}}else if(d===Q.current){if(g=d.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(tl):e=[tl])}d=d.return}e!==null&&Uu(n,e,r,o),n.flags|=262144}function oo(e){for(e=e.firstContext;e!==null;){if(!jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oa(e){Ma=e,ps=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nn(e){return Wm(Ma,e)}function co(e,n){return Ma===null&&Oa(e),Wm(e,n)}function Wm(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ps===null){if(e===null)throw Error(l(308));ps=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ps=ps.next=n;return r}var Ty=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},Ay=i.unstable_scheduleCallback,Ry=i.unstable_NormalPriority,Bt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fu(){return{controller:new Ty,data:new Map,refCount:0}}function Tr(e){e.refCount--,e.refCount===0&&Ay(Ry,function(){e.controller.abort()})}var Ar=null,Pu=0,Ni=0,ji=null;function Iy(e,n){if(Ar===null){var r=Ar=[];Pu=0,Ni=Hd(),ji={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Pu++,n.then(Xm,Xm),n}function Xm(){if(--Pu===0&&Ar!==null){ji!==null&&(ji.status="fulfilled");var e=Ar;Ar=null,Ni=0,ji=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function zy(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<r.length;d++)(0,r[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var Km=S.S;S.S=function(e,n){zp=ce(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Iy(e,n),Km!==null&&Km(e,n)};var Da=_(null);function Bu(){var e=Da.current;return e!==null?e:St.pooledCache}function uo(e,n){n===null?z(Da,Da.current):z(Da,n.pool)}function Qm(){var e=Bu();return e===null?null:{parent:Bt._currentValue,pool:e}}var Si=Error(l(460)),Gu=Error(l(474)),fo=Error(l(542)),ho={then:function(){}};function Zm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jm(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ds,ds),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,t0(e),e;default:if(typeof n.status=="string")n.then(ds,ds);else{if(e=St,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,t0(e),e}throw Ua=n,Si}}function La(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ua=r,Si):r}}var Ua=null;function e0(){if(Ua===null)throw Error(l(459));var e=Ua;return Ua=null,e}function t0(e){if(e===Si||e===fo)throw Error(l(483))}var ki=null,Rr=0;function mo(e){var n=Rr;return Rr+=1,ki===null&&(ki=[]),Jm(ki,e,n)}function Ir(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function po(e,n){throw n.$$typeof===N?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function n0(e){function n(R,E){if(e){var U=R.deletions;U===null?(R.deletions=[E],R.flags|=16):U.push(E)}}function r(R,E){if(!e)return null;for(;E!==null;)n(R,E),E=E.sibling;return null}function o(R){for(var E=new Map;R!==null;)R.key!==null?E.set(R.key,R):E.set(R.index,R),R=R.sibling;return E}function d(R,E){return R=hs(R,E),R.index=0,R.sibling=null,R}function h(R,E,U){return R.index=U,e?(U=R.alternate,U!==null?(U=U.index,U<E?(R.flags|=67108866,E):U):(R.flags|=67108866,E)):(R.flags|=1048576,E)}function g(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function y(R,E,U,le){return E===null||E.tag!==6?(E=Au(U,R.mode,le),E.return=R,E):(E=d(E,U),E.return=R,E)}function j(R,E,U,le){var De=U.type;return De===L?re(R,E,U.props.children,le,U.key):E!==null&&(E.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===P&&La(De)===E.type)?(E=d(E,U.props),Ir(E,U),E.return=R,E):(E=ro(U.type,U.key,U.props,null,R.mode,le),Ir(E,U),E.return=R,E)}function F(R,E,U,le){return E===null||E.tag!==4||E.stateNode.containerInfo!==U.containerInfo||E.stateNode.implementation!==U.implementation?(E=Ru(U,R.mode,le),E.return=R,E):(E=d(E,U.children||[]),E.return=R,E)}function re(R,E,U,le,De){return E===null||E.tag!==7?(E=Ia(U,R.mode,le,De),E.return=R,E):(E=d(E,U),E.return=R,E)}function de(R,E,U){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Au(""+E,R.mode,U),E.return=R,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case k:return U=ro(E.type,E.key,E.props,null,R.mode,U),Ir(U,E),U.return=R,U;case M:return E=Ru(E,R.mode,U),E.return=R,E;case P:return E=La(E),de(R,E,U)}if(X(E)||je(E))return E=Ia(E,R.mode,U,null),E.return=R,E;if(typeof E.then=="function")return de(R,mo(E),U);if(E.$$typeof===te)return de(R,co(R,E),U);po(R,E)}return null}function Y(R,E,U,le){var De=E!==null?E.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return De!==null?null:y(R,E,""+U,le);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case k:return U.key===De?j(R,E,U,le):null;case M:return U.key===De?F(R,E,U,le):null;case P:return U=La(U),Y(R,E,U,le)}if(X(U)||je(U))return De!==null?null:re(R,E,U,le,null);if(typeof U.then=="function")return Y(R,E,mo(U),le);if(U.$$typeof===te)return Y(R,E,co(R,U),le);po(R,U)}return null}function J(R,E,U,le,De){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return R=R.get(U)||null,y(E,R,""+le,De);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case k:return R=R.get(le.key===null?U:le.key)||null,j(E,R,le,De);case M:return R=R.get(le.key===null?U:le.key)||null,F(E,R,le,De);case P:return le=La(le),J(R,E,U,le,De)}if(X(le)||je(le))return R=R.get(U)||null,re(E,R,le,De,null);if(typeof le.then=="function")return J(R,E,U,mo(le),De);if(le.$$typeof===te)return J(R,E,U,co(E,le),De);po(E,le)}return null}function ze(R,E,U,le){for(var De=null,ot=null,Me=E,We=E=0,st=null;Me!==null&&We<U.length;We++){Me.index>We?(st=Me,Me=null):st=Me.sibling;var ct=Y(R,Me,U[We],le);if(ct===null){Me===null&&(Me=st);break}e&&Me&&ct.alternate===null&&n(R,Me),E=h(ct,E,We),ot===null?De=ct:ot.sibling=ct,ot=ct,Me=st}if(We===U.length)return r(R,Me),at&&ms(R,We),De;if(Me===null){for(;We<U.length;We++)Me=de(R,U[We],le),Me!==null&&(E=h(Me,E,We),ot===null?De=Me:ot.sibling=Me,ot=Me);return at&&ms(R,We),De}for(Me=o(Me);We<U.length;We++)st=J(Me,R,We,U[We],le),st!==null&&(e&&st.alternate!==null&&Me.delete(st.key===null?We:st.key),E=h(st,E,We),ot===null?De=st:ot.sibling=st,ot=st);return e&&Me.forEach(function(oa){return n(R,oa)}),at&&ms(R,We),De}function Fe(R,E,U,le){if(U==null)throw Error(l(151));for(var De=null,ot=null,Me=E,We=E=0,st=null,ct=U.next();Me!==null&&!ct.done;We++,ct=U.next()){Me.index>We?(st=Me,Me=null):st=Me.sibling;var oa=Y(R,Me,ct.value,le);if(oa===null){Me===null&&(Me=st);break}e&&Me&&oa.alternate===null&&n(R,Me),E=h(oa,E,We),ot===null?De=oa:ot.sibling=oa,ot=oa,Me=st}if(ct.done)return r(R,Me),at&&ms(R,We),De;if(Me===null){for(;!ct.done;We++,ct=U.next())ct=de(R,ct.value,le),ct!==null&&(E=h(ct,E,We),ot===null?De=ct:ot.sibling=ct,ot=ct);return at&&ms(R,We),De}for(Me=o(Me);!ct.done;We++,ct=U.next())ct=J(Me,R,We,ct.value,le),ct!==null&&(e&&ct.alternate!==null&&Me.delete(ct.key===null?We:ct.key),E=h(ct,E,We),ot===null?De=ct:ot.sibling=ct,ot=ct);return e&&Me.forEach(function(Vw){return n(R,Vw)}),at&&ms(R,We),De}function yt(R,E,U,le){if(typeof U=="object"&&U!==null&&U.type===L&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case k:e:{for(var De=U.key;E!==null;){if(E.key===De){if(De=U.type,De===L){if(E.tag===7){r(R,E.sibling),le=d(E,U.props.children),le.return=R,R=le;break e}}else if(E.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===P&&La(De)===E.type){r(R,E.sibling),le=d(E,U.props),Ir(le,U),le.return=R,R=le;break e}r(R,E);break}else n(R,E);E=E.sibling}U.type===L?(le=Ia(U.props.children,R.mode,le,U.key),le.return=R,R=le):(le=ro(U.type,U.key,U.props,null,R.mode,le),Ir(le,U),le.return=R,R=le)}return g(R);case M:e:{for(De=U.key;E!==null;){if(E.key===De)if(E.tag===4&&E.stateNode.containerInfo===U.containerInfo&&E.stateNode.implementation===U.implementation){r(R,E.sibling),le=d(E,U.children||[]),le.return=R,R=le;break e}else{r(R,E);break}else n(R,E);E=E.sibling}le=Ru(U,R.mode,le),le.return=R,R=le}return g(R);case P:return U=La(U),yt(R,E,U,le)}if(X(U))return ze(R,E,U,le);if(je(U)){if(De=je(U),typeof De!="function")throw Error(l(150));return U=De.call(U),Fe(R,E,U,le)}if(typeof U.then=="function")return yt(R,E,mo(U),le);if(U.$$typeof===te)return yt(R,E,co(R,U),le);po(R,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,E!==null&&E.tag===6?(r(R,E.sibling),le=d(E,U),le.return=R,R=le):(r(R,E),le=Au(U,R.mode,le),le.return=R,R=le),g(R)):r(R,E)}return function(R,E,U,le){try{Rr=0;var De=yt(R,E,U,le);return ki=null,De}catch(Me){if(Me===Si||Me===fo)throw Me;var ot=Sn(29,Me,null,R.mode);return ot.lanes=le,ot.return=R,ot}finally{}}}var Fa=n0(!0),s0=n0(!1),Ys=!1;function Hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qs(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ht&2)!==0){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=io(e),Pm(e,null,r),n}return ao(e,o,n,r),io(e)}function zr(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,en(e,r)}}function Yu(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?d=h=g:h=h.next=g,r=r.next}while(r!==null);h===null?d=h=n:h=h.next=n}else d=h=n;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var $u=!1;function Mr(){if($u){var e=ji;if(e!==null)throw e}}function Or(e,n,r,o){$u=!1;var d=e.updateQueue;Ys=!1;var h=d.firstBaseUpdate,g=d.lastBaseUpdate,y=d.shared.pending;if(y!==null){d.shared.pending=null;var j=y,F=j.next;j.next=null,g===null?h=F:g.next=F,g=j;var re=e.alternate;re!==null&&(re=re.updateQueue,y=re.lastBaseUpdate,y!==g&&(y===null?re.firstBaseUpdate=F:y.next=F,re.lastBaseUpdate=j))}if(h!==null){var de=d.baseState;g=0,re=F=j=null,y=h;do{var Y=y.lane&-536870913,J=Y!==y.lane;if(J?(nt&Y)===Y:(o&Y)===Y){Y!==0&&Y===Ni&&($u=!0),re!==null&&(re=re.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ze=e,Fe=y;Y=n;var yt=r;switch(Fe.tag){case 1:if(ze=Fe.payload,typeof ze=="function"){de=ze.call(yt,de,Y);break e}de=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Fe.payload,Y=typeof ze=="function"?ze.call(yt,de,Y):ze,Y==null)break e;de=w({},de,Y);break e;case 2:Ys=!0}}Y=y.callback,Y!==null&&(e.flags|=64,J&&(e.flags|=8192),J=d.callbacks,J===null?d.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:y.tag,payload:y.payload,callback:y.callback,next:null},re===null?(F=re=J,j=de):re=re.next=J,g|=Y;if(y=y.next,y===null){if(y=d.shared.pending,y===null)break;J=y,y=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);re===null&&(j=de),d.baseState=j,d.firstBaseUpdate=F,d.lastBaseUpdate=re,h===null&&(d.shared.lanes=0),Zs|=g,e.lanes=g,e.memoizedState=de}}function a0(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function i0(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)a0(r[e],n)}var Ei=_(null),xo=_(0);function r0(e,n){e=Ss,z(xo,e),z(Ei,n),Ss=e|n.baseLanes}function qu(){z(xo,Ss),z(Ei,Ei.current)}function Wu(){Ss=xo.current,T(Ei),T(xo)}var kn=_(null),Bn=null;function Ws(e){var n=e.alternate;z(Ft,Ft.current&1),z(kn,e),Bn===null&&(n===null||Ei.current!==null||n.memoizedState!==null)&&(Bn=e)}function Xu(e){z(Ft,Ft.current),z(kn,e),Bn===null&&(Bn=e)}function l0(e){e.tag===22?(z(Ft,Ft.current),z(kn,e),Bn===null&&(Bn=e)):Xs()}function Xs(){z(Ft,Ft.current),z(kn,kn.current)}function En(e){T(kn),Bn===e&&(Bn=null),T(Ft)}var Ft=_(0);function go(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||tf(r)||nf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var gs=0,qe=null,bt=null,Gt=null,bo=!1,Ci=!1,Pa=!1,vo=0,Dr=0,Ti=null,My=0;function Ot(){throw Error(l(321))}function Ku(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!jn(e[r],n[r]))return!1;return!0}function Qu(e,n,r,o,d,h){return gs=h,qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=e===null||e.memoizedState===null?V0:fd,Pa=!1,h=r(o,d),Pa=!1,Ci&&(h=c0(n,r,o,d)),o0(e),h}function o0(e){S.H=Fr;var n=bt!==null&&bt.next!==null;if(gs=0,Gt=bt=qe=null,bo=!1,Dr=0,Ti=null,n)throw Error(l(300));e===null||Ht||(e=e.dependencies,e!==null&&oo(e)&&(Ht=!0))}function c0(e,n,r,o){qe=e;var d=0;do{if(Ci&&(Ti=null),Dr=0,Ci=!1,25<=d)throw Error(l(301));if(d+=1,Gt=bt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}S.H=Y0,h=n(r,o)}while(Ci);return h}function Oy(){var e=S.H,n=e.useState()[0];return n=typeof n.then=="function"?Lr(n):n,e=e.useState()[0],(bt!==null?bt.memoizedState:null)!==e&&(qe.flags|=1024),n}function Zu(){var e=vo!==0;return vo=0,e}function Ju(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function ed(e){if(bo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}bo=!1}gs=0,Gt=bt=qe=null,Ci=!1,Dr=vo=0,Ti=null}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?qe.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function Pt(){if(bt===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var n=Gt===null?qe.memoizedState:Gt.next;if(n!==null)Gt=n,bt=e;else{if(e===null)throw qe.alternate===null?Error(l(467)):Error(l(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Gt===null?qe.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lr(e){var n=Dr;return Dr+=1,Ti===null&&(Ti=[]),e=Jm(Ti,e,n),n=qe,(Gt===null?n.memoizedState:Gt.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?V0:fd),e}function wo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lr(e);if(e.$$typeof===te)return nn(e)}throw Error(l(438,String(e)))}function td(e){var n=null,r=qe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=qe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=yo(),qe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=xe;return n.index++,r}function bs(e,n){return typeof n=="function"?n(e):n}function _o(e){var n=Pt();return nd(n,bt,e)}function nd(e,n,r){var o=e.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=r;var d=e.baseQueue,h=o.pending;if(h!==null){if(d!==null){var g=d.next;d.next=h.next,h.next=g}n.baseQueue=d=h,o.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var y=g=null,j=null,F=n,re=!1;do{var de=F.lane&-536870913;if(de!==F.lane?(nt&de)===de:(gs&de)===de){var Y=F.revertLane;if(Y===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),de===Ni&&(re=!0);else if((gs&Y)===Y){F=F.next,Y===Ni&&(re=!0);continue}else de={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(y=j=de,g=h):j=j.next=de,qe.lanes|=Y,Zs|=Y;de=F.action,Pa&&r(h,de),h=F.hasEagerState?F.eagerState:r(h,de)}else Y={lane:de,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(y=j=Y,g=h):j=j.next=Y,qe.lanes|=de,Zs|=de;F=F.next}while(F!==null&&F!==n);if(j===null?g=h:j.next=y,!jn(h,e.memoizedState)&&(Ht=!0,re&&(r=ji,r!==null)))throw r;e.memoizedState=h,e.baseState=g,e.baseQueue=j,o.lastRenderedState=h}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function sd(e){var n=Pt(),r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=e;var o=r.dispatch,d=r.pending,h=n.memoizedState;if(d!==null){r.pending=null;var g=d=d.next;do h=e(h,g.action),g=g.next;while(g!==d);jn(h,n.memoizedState)||(Ht=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,o]}function u0(e,n,r){var o=qe,d=Pt(),h=at;if(h){if(r===void 0)throw Error(l(407));r=r()}else r=n();var g=!jn((bt||d).memoizedState,r);if(g&&(d.memoizedState=r,Ht=!0),d=d.queue,rd(h0.bind(null,o,d,e),[e]),d.getSnapshot!==n||g||Gt!==null&&Gt.memoizedState.tag&1){if(o.flags|=2048,Ai(9,{destroy:void 0},f0.bind(null,o,d,r,n),null),St===null)throw Error(l(349));h||(gs&127)!==0||d0(o,n,r)}return r}function d0(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=qe.updateQueue,n===null?(n=yo(),qe.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function f0(e,n,r,o){n.value=r,n.getSnapshot=o,m0(n)&&p0(e)}function h0(e,n,r){return r(function(){m0(n)&&p0(e)})}function m0(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!jn(e,r)}catch{return!0}}function p0(e){var n=Ra(e,2);n!==null&&yn(n,e,2)}function ad(e){var n=dn();if(typeof e=="function"){var r=e;if(e=r(),Pa){kt(!0);try{r()}finally{kt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},n}function x0(e,n,r,o){return e.baseState=r,nd(e,bt,typeof o=="function"?o:bs)}function Dy(e,n,r,o,d){if(So(e))throw Error(l(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};S.T!==null?r(!0):h.isTransition=!1,o(h),r=n.pending,r===null?(h.next=n.pending=h,g0(n,h)):(h.next=r.next,n.pending=r.next=h)}}function g0(e,n){var r=n.action,o=n.payload,d=e.state;if(n.isTransition){var h=S.T,g={};S.T=g;try{var y=r(d,o),j=S.S;j!==null&&j(g,y),b0(e,n,y)}catch(F){id(e,n,F)}finally{h!==null&&g.types!==null&&(h.types=g.types),S.T=h}}else try{h=r(d,o),b0(e,n,h)}catch(F){id(e,n,F)}}function b0(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){v0(e,n,o)},function(o){return id(e,n,o)}):v0(e,n,r)}function v0(e,n,r){n.status="fulfilled",n.value=r,y0(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,g0(e,r)))}function id(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,y0(n),n=n.next;while(n!==o)}e.action=null}function y0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function w0(e,n){return n}function _0(e,n){if(at){var r=St.formState;if(r!==null){e:{var o=qe;if(at){if(At){t:{for(var d=At,h=Pn;d.nodeType!==8;){if(!h){d=null;break t}if(d=Gn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){At=Gn(d.nextSibling),o=d.data==="F!";break e}}Hs(o)}o=!1}o&&(n=r[0])}}return r=dn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w0,lastRenderedState:n},r.queue=o,r=B0.bind(null,qe,o),o.dispatch=r,o=ad(!1),h=dd.bind(null,qe,!1,o.queue),o=dn(),d={state:n,dispatch:null,action:e,pending:null},o.queue=d,r=Dy.bind(null,qe,d,h,r),d.dispatch=r,o.memoizedState=e,[n,r,!1]}function N0(e){var n=Pt();return j0(n,bt,e)}function j0(e,n,r){if(n=nd(e,n,w0)[0],e=_o(bs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Lr(n)}catch(g){throw g===Si?fo:g}else o=n;n=Pt();var d=n.queue,h=d.dispatch;return r!==n.memoizedState&&(qe.flags|=2048,Ai(9,{destroy:void 0},Ly.bind(null,d,r),null)),[o,h,e]}function Ly(e,n){e.action=n}function S0(e){var n=Pt(),r=bt;if(r!==null)return j0(n,r,e);Pt(),n=n.memoizedState,r=Pt();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ai(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=qe.updateQueue,n===null&&(n=yo(),qe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function k0(){return Pt().memoizedState}function No(e,n,r,o){var d=dn();qe.flags|=e,d.memoizedState=Ai(1|n,{destroy:void 0},r,o===void 0?null:o)}function jo(e,n,r,o){var d=Pt();o=o===void 0?null:o;var h=d.memoizedState.inst;bt!==null&&o!==null&&Ku(o,bt.memoizedState.deps)?d.memoizedState=Ai(n,h,r,o):(qe.flags|=e,d.memoizedState=Ai(1|n,h,r,o))}function E0(e,n){No(8390656,8,e,n)}function rd(e,n){jo(2048,8,e,n)}function Uy(e){qe.flags|=4;var n=qe.updateQueue;if(n===null)n=yo(),qe.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function C0(e){var n=Pt().memoizedState;return Uy({ref:n,nextImpl:e}),function(){if((ht&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function T0(e,n){return jo(4,2,e,n)}function A0(e,n){return jo(4,4,e,n)}function R0(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function I0(e,n,r){r=r!=null?r.concat([e]):null,jo(4,4,R0.bind(null,n,e),r)}function ld(){}function z0(e,n){var r=Pt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Ku(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function M0(e,n){var r=Pt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Ku(n,o[1]))return o[0];if(o=e(),Pa){kt(!0);try{e()}finally{kt(!1)}}return r.memoizedState=[o,n],o}function od(e,n,r){return r===void 0||(gs&1073741824)!==0&&(nt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Op(),qe.lanes|=e,Zs|=e,r)}function O0(e,n,r,o){return jn(r,n)?r:Ei.current!==null?(e=od(e,r,o),jn(e,n)||(Ht=!0),e):(gs&42)===0||(gs&1073741824)!==0&&(nt&261930)===0?(Ht=!0,e.memoizedState=r):(e=Op(),qe.lanes|=e,Zs|=e,n)}function D0(e,n,r,o,d){var h=$.p;$.p=h!==0&&8>h?h:8;var g=S.T,y={};S.T=y,dd(e,!1,n,r);try{var j=d(),F=S.S;if(F!==null&&F(y,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var re=zy(j,o);Ur(e,n,re,An(e))}else Ur(e,n,o,An(e))}catch(de){Ur(e,n,{then:function(){},status:"rejected",reason:de},An())}finally{$.p=h,g!==null&&y.types!==null&&(g.types=y.types),S.T=g}}function Fy(){}function cd(e,n,r,o){if(e.tag!==5)throw Error(l(476));var d=L0(e).queue;D0(e,d,n,H,r===null?Fy:function(){return U0(e),r(o)})}function L0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:H},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function U0(e){var n=L0(e);n.next===null&&(n=e.alternate.memoizedState),Ur(e,n.next.queue,{},An())}function ud(){return nn(tl)}function F0(){return Pt().memoizedState}function P0(){return Pt().memoizedState}function Py(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=An();e=$s(r);var o=qs(n,e,r);o!==null&&(yn(o,n,r),zr(o,n,r)),n={cache:Fu()},e.payload=n;return}n=n.return}}function By(e,n,r){var o=An();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},So(e)?G0(n,r):(r=Cu(e,n,r,o),r!==null&&(yn(r,e,o),H0(r,n,o)))}function B0(e,n,r){var o=An();Ur(e,n,r,o)}function Ur(e,n,r,o){var d={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(So(e))G0(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,y=h(g,r);if(d.hasEagerState=!0,d.eagerState=y,jn(y,g))return ao(e,n,d,0),St===null&&so(),!1}catch{}finally{}if(r=Cu(e,n,d,o),r!==null)return yn(r,e,o),H0(r,n,o),!0}return!1}function dd(e,n,r,o){if(o={lane:2,revertLane:Hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},So(e)){if(n)throw Error(l(479))}else n=Cu(e,r,o,2),n!==null&&yn(n,e,2)}function So(e){var n=e.alternate;return e===qe||n!==null&&n===qe}function G0(e,n){Ci=bo=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function H0(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,en(e,r)}}var Fr={readContext:nn,use:wo,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};Fr.useEffectEvent=Ot;var V0={readContext:nn,use:wo,useCallback:function(e,n){return dn().memoizedState=[e,n===void 0?null:n],e},useContext:nn,useEffect:E0,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,No(4194308,4,R0.bind(null,n,e),r)},useLayoutEffect:function(e,n){return No(4194308,4,e,n)},useInsertionEffect:function(e,n){No(4,2,e,n)},useMemo:function(e,n){var r=dn();n=n===void 0?null:n;var o=e();if(Pa){kt(!0);try{e()}finally{kt(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=dn();if(r!==void 0){var d=r(n);if(Pa){kt(!0);try{r(n)}finally{kt(!1)}}}else d=n;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=By.bind(null,qe,e),[o.memoizedState,e]},useRef:function(e){var n=dn();return e={current:e},n.memoizedState=e},useState:function(e){e=ad(e);var n=e.queue,r=B0.bind(null,qe,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:ld,useDeferredValue:function(e,n){var r=dn();return od(r,e,n)},useTransition:function(){var e=ad(!1);return e=D0.bind(null,qe,e.queue,!0,!1),dn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=qe,d=dn();if(at){if(r===void 0)throw Error(l(407));r=r()}else{if(r=n(),St===null)throw Error(l(349));(nt&127)!==0||d0(o,n,r)}d.memoizedState=r;var h={value:r,getSnapshot:n};return d.queue=h,E0(h0.bind(null,o,h,e),[e]),o.flags|=2048,Ai(9,{destroy:void 0},f0.bind(null,o,h,r,n),null),r},useId:function(){var e=dn(),n=St.identifierPrefix;if(at){var r=ns,o=ts;r=(o&~(1<<32-mt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=vo++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=My++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ud,useFormState:_0,useActionState:_0,useOptimistic:function(e){var n=dn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=dd.bind(null,qe,!0,r),r.dispatch=n,[e,n]},useMemoCache:td,useCacheRefresh:function(){return dn().memoizedState=Py.bind(null,qe)},useEffectEvent:function(e){var n=dn(),r={impl:e};return n.memoizedState=r,function(){if((ht&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},fd={readContext:nn,use:wo,useCallback:z0,useContext:nn,useEffect:rd,useImperativeHandle:I0,useInsertionEffect:T0,useLayoutEffect:A0,useMemo:M0,useReducer:_o,useRef:k0,useState:function(){return _o(bs)},useDebugValue:ld,useDeferredValue:function(e,n){var r=Pt();return O0(r,bt.memoizedState,e,n)},useTransition:function(){var e=_o(bs)[0],n=Pt().memoizedState;return[typeof e=="boolean"?e:Lr(e),n]},useSyncExternalStore:u0,useId:F0,useHostTransitionStatus:ud,useFormState:N0,useActionState:N0,useOptimistic:function(e,n){var r=Pt();return x0(r,bt,e,n)},useMemoCache:td,useCacheRefresh:P0};fd.useEffectEvent=C0;var Y0={readContext:nn,use:wo,useCallback:z0,useContext:nn,useEffect:rd,useImperativeHandle:I0,useInsertionEffect:T0,useLayoutEffect:A0,useMemo:M0,useReducer:sd,useRef:k0,useState:function(){return sd(bs)},useDebugValue:ld,useDeferredValue:function(e,n){var r=Pt();return bt===null?od(r,e,n):O0(r,bt.memoizedState,e,n)},useTransition:function(){var e=sd(bs)[0],n=Pt().memoizedState;return[typeof e=="boolean"?e:Lr(e),n]},useSyncExternalStore:u0,useId:F0,useHostTransitionStatus:ud,useFormState:S0,useActionState:S0,useOptimistic:function(e,n){var r=Pt();return bt!==null?x0(r,bt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:td,useCacheRefresh:P0};Y0.useEffectEvent=C0;function hd(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var md={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=An(),d=$s(o);d.payload=n,r!=null&&(d.callback=r),n=qs(e,d,o),n!==null&&(yn(n,e,o),zr(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=An(),d=$s(o);d.tag=1,d.payload=n,r!=null&&(d.callback=r),n=qs(e,d,o),n!==null&&(yn(n,e,o),zr(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=An(),o=$s(r);o.tag=2,n!=null&&(o.callback=n),n=qs(e,o,r),n!==null&&(yn(n,e,r),zr(n,e,r))}};function $0(e,n,r,o,d,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,g):n.prototype&&n.prototype.isPureReactComponent?!Sr(r,o)||!Sr(d,h):!0}function q0(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&md.enqueueReplaceState(n,n.state,null)}function Ba(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function W0(e){no(e)}function X0(e){console.error(e)}function K0(e){no(e)}function ko(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Q0(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function pd(e,n,r){return r=$s(r),r.tag=3,r.payload={element:null},r.callback=function(){ko(e,n)},r}function Z0(e){return e=$s(e),e.tag=3,e}function J0(e,n,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=o.value;e.payload=function(){return d(h)},e.callback=function(){Q0(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Q0(n,r,o),typeof d!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var y=o.stack;this.componentDidCatch(o.value,{componentStack:y!==null?y:""})})}function Gy(e,n,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&_i(n,r,d,!0),r=kn.current,r!==null){switch(r.tag){case 31:case 13:return Bn===null?Uo():r.alternate===null&&Dt===0&&(Dt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===ho?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Pd(e,o,d)),!1;case 22:return r.flags|=65536,o===ho?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Pd(e,o,d)),!1}throw Error(l(435,r.tag))}return Pd(e,o,d),Uo(),!1}if(at)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==Mu&&(e=Error(l(422),{cause:o}),Cr(Ln(e,r)))):(o!==Mu&&(n=Error(l(423),{cause:o}),Cr(Ln(n,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=Ln(o,r),d=pd(e.stateNode,o,d),Yu(e,d),Dt!==4&&(Dt=2)),!1;var h=Error(l(520),{cause:o});if(h=Ln(h,r),qr===null?qr=[h]:qr.push(h),Dt!==4&&(Dt=2),n===null)return!0;o=Ln(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=pd(r.stateNode,o,e),Yu(r,e),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Js===null||!Js.has(h))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Z0(d),J0(d,e,r,o),Yu(r,d),!1}r=r.return}while(r!==null);return!1}var xd=Error(l(461)),Ht=!1;function sn(e,n,r,o){n.child=e===null?s0(n,null,r,o):Fa(n,e.child,r,o)}function ep(e,n,r,o,d){r=r.render;var h=n.ref;if("ref"in o){var g={};for(var y in o)y!=="ref"&&(g[y]=o[y])}else g=o;return Oa(n),o=Qu(e,n,r,g,h,d),y=Zu(),e!==null&&!Ht?(Ju(e,n,d),vs(e,n,d)):(at&&y&&Iu(n),n.flags|=1,sn(e,n,o,d),n.child)}function tp(e,n,r,o,d){if(e===null){var h=r.type;return typeof h=="function"&&!Tu(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,np(e,n,h,o,d)):(e=ro(r.type,null,o,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!jd(e,d)){var g=h.memoizedProps;if(r=r.compare,r=r!==null?r:Sr,r(g,o)&&e.ref===n.ref)return vs(e,n,d)}return n.flags|=1,e=hs(h,o),e.ref=n.ref,e.return=n,n.child=e}function np(e,n,r,o,d){if(e!==null){var h=e.memoizedProps;if(Sr(h,o)&&e.ref===n.ref)if(Ht=!1,n.pendingProps=o=h,jd(e,d))(e.flags&131072)!==0&&(Ht=!0);else return n.lanes=e.lanes,vs(e,n,d)}return gd(e,n,r,o,d)}function sp(e,n,r,o){var d=o.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,e!==null){for(o=n.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~h}else o=0,n.child=null;return ap(e,n,h,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&uo(n,h!==null?h.cachePool:null),h!==null?r0(n,h):qu(),l0(n);else return o=n.lanes=536870912,ap(e,n,h!==null?h.baseLanes|r:r,r,o)}else h!==null?(uo(n,h.cachePool),r0(n,h),Xs(),n.memoizedState=null):(e!==null&&uo(n,null),qu(),Xs());return sn(e,n,d,r),n.child}function Pr(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ap(e,n,r,o,d){var h=Bu();return h=h===null?null:{parent:Bt._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},e!==null&&uo(n,null),qu(),l0(n),e!==null&&_i(e,n,o,!0),n.childLanes=d,null}function Eo(e,n){return n=To({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ip(e,n,r){return Fa(n,e.child,null,r),e=Eo(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function Hy(e,n,r){var o=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(at){if(o.mode==="hidden")return e=Eo(n,o),n.lanes=536870912,Pr(null,e);if(Xu(n),(e=At)?(e=gx(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Bs!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},r=Gm(e),r.return=n,n.child=r,tn=n,At=null)):e=null,e===null)throw Hs(n);return n.lanes=536870912,null}return Eo(n,o)}var h=e.memoizedState;if(h!==null){var g=h.dehydrated;if(Xu(n),d)if(n.flags&256)n.flags&=-257,n=ip(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(Ht||_i(e,n,r,!1),d=(r&e.childLanes)!==0,Ht||d){if(o=St,o!==null&&(g=cs(o,r),g!==0&&g!==h.retryLane))throw h.retryLane=g,Ra(e,g),yn(o,e,g),xd;Uo(),n=ip(e,n,r)}else e=h.treeContext,At=Gn(g.nextSibling),tn=n,at=!0,Gs=null,Pn=!1,e!==null&&Ym(n,e),n=Eo(n,o),n.flags|=4096;return n}return e=hs(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Co(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function gd(e,n,r,o,d){return Oa(n),r=Qu(e,n,r,o,void 0,d),o=Zu(),e!==null&&!Ht?(Ju(e,n,d),vs(e,n,d)):(at&&o&&Iu(n),n.flags|=1,sn(e,n,r,d),n.child)}function rp(e,n,r,o,d,h){return Oa(n),n.updateQueue=null,r=c0(n,o,r,d),o0(e),o=Zu(),e!==null&&!Ht?(Ju(e,n,h),vs(e,n,h)):(at&&o&&Iu(n),n.flags|=1,sn(e,n,r,h),n.child)}function lp(e,n,r,o,d){if(Oa(n),n.stateNode===null){var h=bi,g=r.contextType;typeof g=="object"&&g!==null&&(h=nn(g)),h=new r(o,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=md,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=o,h.state=n.memoizedState,h.refs={},Hu(n),g=r.contextType,h.context=typeof g=="object"&&g!==null?nn(g):bi,h.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(hd(n,r,g,o),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&md.enqueueReplaceState(h,h.state,null),Or(n,o,h,d),Mr(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){h=n.stateNode;var y=n.memoizedProps,j=Ba(r,y);h.props=j;var F=h.context,re=r.contextType;g=bi,typeof re=="object"&&re!==null&&(g=nn(re));var de=r.getDerivedStateFromProps;re=typeof de=="function"||typeof h.getSnapshotBeforeUpdate=="function",y=n.pendingProps!==y,re||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y||F!==g)&&q0(n,h,o,g),Ys=!1;var Y=n.memoizedState;h.state=Y,Or(n,o,h,d),Mr(),F=n.memoizedState,y||Y!==F||Ys?(typeof de=="function"&&(hd(n,r,de,o),F=n.memoizedState),(j=Ys||$0(n,r,j,o,Y,F,g))?(re||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=F),h.props=o,h.state=F,h.context=g,o=j):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{h=n.stateNode,Vu(e,n),g=n.memoizedProps,re=Ba(r,g),h.props=re,de=n.pendingProps,Y=h.context,F=r.contextType,j=bi,typeof F=="object"&&F!==null&&(j=nn(F)),y=r.getDerivedStateFromProps,(F=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==de||Y!==j)&&q0(n,h,o,j),Ys=!1,Y=n.memoizedState,h.state=Y,Or(n,o,h,d),Mr();var J=n.memoizedState;g!==de||Y!==J||Ys||e!==null&&e.dependencies!==null&&oo(e.dependencies)?(typeof y=="function"&&(hd(n,r,y,o),J=n.memoizedState),(re=Ys||$0(n,r,re,o,Y,J,j)||e!==null&&e.dependencies!==null&&oo(e.dependencies))?(F||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,J,j),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,J,j)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=J),h.props=o,h.state=J,h.context=j,o=re):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),o=!1)}return h=o,Co(e,n),o=(n.flags&128)!==0,h||o?(h=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&o?(n.child=Fa(n,e.child,null,d),n.child=Fa(n,null,r,d)):sn(e,n,r,d),n.memoizedState=h.state,e=n.child):e=vs(e,n,d),e}function op(e,n,r,o){return za(),n.flags|=256,sn(e,n,r,o),n.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(e){return{baseLanes:e,cachePool:Qm()}}function yd(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Tn),e}function cp(e,n,r){var o=n.pendingProps,d=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(Ft.current&2)!==0),g&&(d=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(at){if(d?Ws(n):Xs(),(e=At)?(e=gx(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Bs!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},r=Gm(e),r.return=n,n.child=r,tn=n,At=null)):e=null,e===null)throw Hs(n);return nf(e)?n.lanes=32:n.lanes=536870912,null}var y=o.children;return o=o.fallback,d?(Xs(),d=n.mode,y=To({mode:"hidden",children:y},d),o=Ia(o,d,r,null),y.return=n,o.return=n,y.sibling=o,n.child=y,o=n.child,o.memoizedState=vd(r),o.childLanes=yd(e,g,r),n.memoizedState=bd,Pr(null,o)):(Ws(n),wd(n,y))}var j=e.memoizedState;if(j!==null&&(y=j.dehydrated,y!==null)){if(h)n.flags&256?(Ws(n),n.flags&=-257,n=_d(e,n,r)):n.memoizedState!==null?(Xs(),n.child=e.child,n.flags|=128,n=null):(Xs(),y=o.fallback,d=n.mode,o=To({mode:"visible",children:o.children},d),y=Ia(y,d,r,null),y.flags|=2,o.return=n,y.return=n,o.sibling=y,n.child=o,Fa(n,e.child,null,r),o=n.child,o.memoizedState=vd(r),o.childLanes=yd(e,g,r),n.memoizedState=bd,n=Pr(null,o));else if(Ws(n),nf(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var F=g.dgst;g=F,o=Error(l(419)),o.stack="",o.digest=g,Cr({value:o,source:null,stack:null}),n=_d(e,n,r)}else if(Ht||_i(e,n,r,!1),g=(r&e.childLanes)!==0,Ht||g){if(g=St,g!==null&&(o=cs(g,r),o!==0&&o!==j.retryLane))throw j.retryLane=o,Ra(e,o),yn(g,e,o),xd;tf(y)||Uo(),n=_d(e,n,r)}else tf(y)?(n.flags|=192,n.child=e.child,n=null):(e=j.treeContext,At=Gn(y.nextSibling),tn=n,at=!0,Gs=null,Pn=!1,e!==null&&Ym(n,e),n=wd(n,o.children),n.flags|=4096);return n}return d?(Xs(),y=o.fallback,d=n.mode,j=e.child,F=j.sibling,o=hs(j,{mode:"hidden",children:o.children}),o.subtreeFlags=j.subtreeFlags&65011712,F!==null?y=hs(F,y):(y=Ia(y,d,r,null),y.flags|=2),y.return=n,o.return=n,o.sibling=y,n.child=o,Pr(null,o),o=n.child,y=e.child.memoizedState,y===null?y=vd(r):(d=y.cachePool,d!==null?(j=Bt._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=Qm(),y={baseLanes:y.baseLanes|r,cachePool:d}),o.memoizedState=y,o.childLanes=yd(e,g,r),n.memoizedState=bd,Pr(e.child,o)):(Ws(n),r=e.child,e=r.sibling,r=hs(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function wd(e,n){return n=To({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function To(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function _d(e,n,r){return Fa(n,e.child,null,r),e=wd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function up(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Lu(e.return,n,r)}function Nd(e,n,r,o,d,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=d,g.treeForkCount=h)}function dp(e,n,r){var o=n.pendingProps,d=o.revealOrder,h=o.tail;o=o.children;var g=Ft.current,y=(g&2)!==0;if(y?(g=g&1|2,n.flags|=128):g&=1,z(Ft,g),sn(e,n,o,r),o=at?Er:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&up(e,r,n);else if(e.tag===19)up(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=n.child,d=null;r!==null;)e=r.alternate,e!==null&&go(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=n.child,n.child=null):(d=r.sibling,r.sibling=null),Nd(n,!1,d,r,h,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&go(e)===null){n.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}Nd(n,!0,r,null,h,o);break;case"together":Nd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function vs(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Zs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(_i(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,r=hs(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=hs(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function jd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&oo(e)))}function Vy(e,n,r){switch(n.tag){case 3:_e(n,n.stateNode.containerInfo),Vs(n,Bt,e.memoizedState.cache),za();break;case 27:case 5:B(n);break;case 4:_e(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ws(n),n.flags|=128,null):(r&n.child.childLanes)!==0?cp(e,n,r):(Ws(n),e=vs(e,n,r),e!==null?e.sibling:null);Ws(n);break;case 19:var d=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(_i(e,n,r,!1),o=(r&n.childLanes)!==0),d){if(o)return dp(e,n,r);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),z(Ft,Ft.current),o)break;return null;case 22:return n.lanes=0,sp(e,n,r,n.pendingProps);case 24:Vs(n,Bt,e.memoizedState.cache)}return vs(e,n,r)}function fp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ht=!0;else{if(!jd(e,r)&&(n.flags&128)===0)return Ht=!1,Vy(e,n,r);Ht=(e.flags&131072)!==0}else Ht=!1,at&&(n.flags&1048576)!==0&&Vm(n,Er,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=La(n.elementType),n.type=e,typeof e=="function")Tu(e)?(o=Ba(e,o),n.tag=1,n=lp(null,n,e,o,r)):(n.tag=0,n=gd(null,n,e,o,r));else{if(e!=null){var d=e.$$typeof;if(d===he){n.tag=11,n=ep(null,n,e,o,r);break e}else if(d===ie){n.tag=14,n=tp(null,n,e,o,r);break e}}throw n=Ce(e)||e,Error(l(306,n,""))}}return n;case 0:return gd(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,d=Ba(o,n.pendingProps),lp(e,n,o,d,r);case 3:e:{if(_e(n,n.stateNode.containerInfo),e===null)throw Error(l(387));o=n.pendingProps;var h=n.memoizedState;d=h.element,Vu(e,n),Or(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Vs(n,Bt,o),o!==h.cache&&Uu(n,[Bt],r,!0),Mr(),o=g.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=op(e,n,o,r);break e}else if(o!==d){d=Ln(Error(l(424)),n),Cr(d),n=op(e,n,o,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(At=Gn(e.firstChild),tn=n,at=!0,Gs=null,Pn=!0,r=s0(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(za(),o===d){n=vs(e,n,r);break e}sn(e,n,o,r)}n=n.child}return n;case 26:return Co(e,n),e===null?(r=Nx(n.type,null,n.pendingProps,null))?n.memoizedState=r:at||(r=n.type,e=n.pendingProps,o=Yo(A.current).createElement(r),o[Le]=n,o[Xt]=e,an(o,r,e),Kt(o),n.stateNode=o):n.memoizedState=Nx(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return B(n),e===null&&at&&(o=n.stateNode=yx(n.type,n.pendingProps,A.current),tn=n,Pn=!0,d=At,sa(n.type)?(sf=d,At=Gn(o.firstChild)):At=d),sn(e,n,n.pendingProps.children,r),Co(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&at&&((d=o=At)&&(o=yw(o,n.type,n.pendingProps,Pn),o!==null?(n.stateNode=o,tn=n,At=Gn(o.firstChild),Pn=!1,d=!0):d=!1),d||Hs(n)),B(n),d=n.type,h=n.pendingProps,g=e!==null?e.memoizedProps:null,o=h.children,Zd(d,h)?o=null:g!==null&&Zd(d,g)&&(n.flags|=32),n.memoizedState!==null&&(d=Qu(e,n,Oy,null,null,r),tl._currentValue=d),Co(e,n),sn(e,n,o,r),n.child;case 6:return e===null&&at&&((e=r=At)&&(r=ww(r,n.pendingProps,Pn),r!==null?(n.stateNode=r,tn=n,At=null,e=!0):e=!1),e||Hs(n)),null;case 13:return cp(e,n,r);case 4:return _e(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Fa(n,null,o,r):sn(e,n,o,r),n.child;case 11:return ep(e,n,n.type,n.pendingProps,r);case 7:return sn(e,n,n.pendingProps,r),n.child;case 8:return sn(e,n,n.pendingProps.children,r),n.child;case 12:return sn(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Vs(n,n.type,o.value),sn(e,n,o.children,r),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,Oa(n),d=nn(d),o=o(d),n.flags|=1,sn(e,n,o,r),n.child;case 14:return tp(e,n,n.type,n.pendingProps,r);case 15:return np(e,n,n.type,n.pendingProps,r);case 19:return dp(e,n,r);case 31:return Hy(e,n,r);case 22:return sp(e,n,r,n.pendingProps);case 24:return Oa(n),o=nn(Bt),e===null?(d=Bu(),d===null&&(d=St,h=Fu(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=r),d=h),n.memoizedState={parent:o,cache:d},Hu(n),Vs(n,Bt,d)):((e.lanes&r)!==0&&(Vu(e,n),Or(n,null,null,r),Mr()),d=e.memoizedState,h=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Vs(n,Bt,o)):(o=h.cache,Vs(n,Bt,o),o!==d.cache&&Uu(n,[Bt],r,!0))),sn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function ys(e){e.flags|=4}function Sd(e,n,r,o,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Fp())e.flags|=8192;else throw Ua=ho,Gu}else e.flags&=-16777217}function hp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cx(n))if(Fp())e.flags|=8192;else throw Ua=ho,Gu}function Ao(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?pt():536870912,e.lanes|=n,Mi|=n)}function Br(e,n){if(!at)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Rt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function Yy(e,n,r){var o=n.pendingProps;switch(zu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(n),null;case 1:return Rt(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xs(Bt),ee(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wi(n)?ys(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ou())),Rt(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(ys(n),h!==null?(Rt(n),hp(n,h)):(Rt(n),Sd(n,d,null,o,r))):h?h!==e.memoizedState?(ys(n),Rt(n),hp(n,h)):(Rt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ys(n),Rt(n),Sd(n,d,e,o,r)),null;case 27:if(C(n),r=A.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ys(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return Rt(n),null}e=G.current,wi(n)?$m(n):(e=yx(d,o,r),n.stateNode=e,ys(n))}return Rt(n),null;case 5:if(C(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ys(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return Rt(n),null}if(h=G.current,wi(n))$m(n);else{var g=Yo(A.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?g.createElement(d,{is:o.is}):g.createElement(d)}}h[Le]=n,h[Xt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;e:switch(an(h,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ys(n)}}return Rt(n),Sd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ys(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(l(166));if(e=A.current,wi(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,d=tn,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[Le]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||cx(e.nodeValue,r)),e||Hs(n,!0)}else e=Yo(e).createTextNode(o),e[Le]=n,n.stateNode=e}return Rt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=wi(n),r!==null){if(e===null){if(!o)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Le]=n}else za(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Rt(n),e=!1}else r=Ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Rt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=wi(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(l(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[Le]=n}else za(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Rt(n),d=!1}else d=Ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ao(n,n.updateQueue),Rt(n),null);case 4:return ee(),e===null&&qd(n.stateNode.containerInfo),Rt(n),null;case 10:return xs(n.type),Rt(n),null;case 19:if(T(Ft),o=n.memoizedState,o===null)return Rt(n),null;if(d=(n.flags&128)!==0,h=o.rendering,h===null)if(d)Br(o,!1);else{if(Dt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=go(e),h!==null){for(n.flags|=128,Br(o,!1),e=h.updateQueue,n.updateQueue=e,Ao(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Bm(r,e),r=r.sibling;return z(Ft,Ft.current&1|2),at&&ms(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ce()>Oo&&(n.flags|=128,d=!0,Br(o,!1),n.lanes=4194304)}else{if(!d)if(e=go(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Ao(n,e),Br(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!at)return Rt(n),null}else 2*ce()-o.renderingStartTime>Oo&&r!==536870912&&(n.flags|=128,d=!0,Br(o,!1),n.lanes=4194304);o.isBackwards?(h.sibling=n.child,n.child=h):(e=o.last,e!==null?e.sibling=h:n.child=h,o.last=h)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ce(),e.sibling=null,r=Ft.current,z(Ft,d?r&1|2:r&1),at&&ms(n,o.treeForkCount),e):(Rt(n),null);case 22:case 23:return En(n),Wu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Rt(n),n.subtreeFlags&6&&(n.flags|=8192)):Rt(n),r=n.updateQueue,r!==null&&Ao(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&T(Da),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xs(Bt),Rt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function $y(e,n){switch(zu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xs(Bt),ee(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return C(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(l(340));za()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));za()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return T(Ft),null;case 4:return ee(),null;case 10:return xs(n.type),null;case 22:case 23:return En(n),Wu(),e!==null&&T(Da),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xs(Bt),null;case 25:return null;default:return null}}function mp(e,n){switch(zu(n),n.tag){case 3:xs(Bt),ee();break;case 26:case 27:case 5:C(n);break;case 4:ee();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:T(Ft);break;case 10:xs(n.type);break;case 22:case 23:En(n),Wu(),e!==null&&T(Da);break;case 24:xs(Bt)}}function Gr(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&e)===e){o=void 0;var h=r.create,g=r.inst;o=h(),g.destroy=o}r=r.next}while(r!==d)}}catch(y){gt(n,n.return,y)}}function Ks(e,n,r){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var h=d.next;o=h;do{if((o.tag&e)===e){var g=o.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,d=n;var j=r,F=y;try{F()}catch(re){gt(d,j,re)}}}o=o.next}while(o!==h)}}catch(re){gt(n,n.return,re)}}function pp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{i0(n,r)}catch(o){gt(e,e.return,o)}}}function xp(e,n,r){r.props=Ba(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){gt(e,n,o)}}function Hr(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(d){gt(e,n,d)}}function ss(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){gt(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){gt(e,n,d)}else r.current=null}function gp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){gt(e,e.return,d)}}function kd(e,n,r){try{var o=e.stateNode;mw(o,e.type,r,n),o[Xt]=n}catch(d){gt(e,e.return,d)}}function bp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sa(e.type)||e.tag===4}function Ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cd(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ds));else if(o!==4&&(o===27&&sa(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Cd(e,n,r),e=e.sibling;e!==null;)Cd(e,n,r),e=e.sibling}function Ro(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&sa(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ro(e,n,r),e=e.sibling;e!==null;)Ro(e,n,r),e=e.sibling}function vp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);an(n,o,r),n[Le]=e,n[Xt]=r}catch(h){gt(e,e.return,h)}}var ws=!1,Vt=!1,Td=!1,yp=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function qy(e,n){if(e=e.containerInfo,Kd=Zo,e=Im(e),_u(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var g=0,y=-1,j=-1,F=0,re=0,de=e,Y=null;t:for(;;){for(var J;de!==r||d!==0&&de.nodeType!==3||(y=g+d),de!==h||o!==0&&de.nodeType!==3||(j=g+o),de.nodeType===3&&(g+=de.nodeValue.length),(J=de.firstChild)!==null;)Y=de,de=J;for(;;){if(de===e)break t;if(Y===r&&++F===d&&(y=g),Y===h&&++re===o&&(j=g),(J=de.nextSibling)!==null)break;de=Y,Y=de.parentNode}de=J}r=y===-1||j===-1?null:{start:y,end:j}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qd={focusedElem:e,selectionRange:r},Zo=!1,Qt=n;Qt!==null;)if(n=Qt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qt=e;else for(;Qt!==null;){switch(n=Qt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,r=n,d=h.memoizedProps,h=h.memoizedState,o=r.stateNode;try{var ze=Ba(r.type,d);e=o.getSnapshotBeforeUpdate(ze,h),o.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){gt(r,r.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)ef(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ef(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,Qt=e;break}Qt=n.return}}function wp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ns(e,r),o&4&&Gr(5,r);break;case 1:if(Ns(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){gt(r,r.return,g)}else{var d=Ba(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){gt(r,r.return,g)}}o&64&&pp(r),o&512&&Hr(r,r.return);break;case 3:if(Ns(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{i0(e,n)}catch(g){gt(r,r.return,g)}}break;case 27:n===null&&o&4&&vp(r);case 26:case 5:Ns(e,r),n===null&&o&4&&gp(r),o&512&&Hr(r,r.return);break;case 12:Ns(e,r);break;case 31:Ns(e,r),o&4&&jp(e,r);break;case 13:Ns(e,r),o&4&&Sp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=nw.bind(null,r),_w(e,r))));break;case 22:if(o=r.memoizedState!==null||ws,!o){n=n!==null&&n.memoizedState!==null||Vt,d=ws;var h=Vt;ws=o,(Vt=n)&&!h?js(e,r,(r.subtreeFlags&8772)!==0):Ns(e,r),ws=d,Vt=h}break;case 30:break;default:Ns(e,r)}}function _p(e){var n=e.alternate;n!==null&&(e.alternate=null,_p(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&iu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var It=null,xn=!1;function _s(e,n,r){for(r=r.child;r!==null;)Np(e,n,r),r=r.sibling}function Np(e,n,r){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(rt,r)}catch{}switch(r.tag){case 26:Vt||ss(r,n),_s(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Vt||ss(r,n);var o=It,d=xn;sa(r.type)&&(It=r.stateNode,xn=!1),_s(e,n,r),Zr(r.stateNode),It=o,xn=d;break;case 5:Vt||ss(r,n);case 6:if(o=It,d=xn,It=null,_s(e,n,r),It=o,xn=d,It!==null)if(xn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(r.stateNode)}catch(h){gt(r,n,h)}else try{It.removeChild(r.stateNode)}catch(h){gt(r,n,h)}break;case 18:It!==null&&(xn?(e=It,px(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Gi(e)):px(It,r.stateNode));break;case 4:o=It,d=xn,It=r.stateNode.containerInfo,xn=!0,_s(e,n,r),It=o,xn=d;break;case 0:case 11:case 14:case 15:Ks(2,r,n),Vt||Ks(4,r,n),_s(e,n,r);break;case 1:Vt||(ss(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&xp(r,n,o)),_s(e,n,r);break;case 21:_s(e,n,r);break;case 22:Vt=(o=Vt)||r.memoizedState!==null,_s(e,n,r),Vt=o;break;default:_s(e,n,r)}}function jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gi(e)}catch(r){gt(n,n.return,r)}}}function Sp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gi(e)}catch(r){gt(n,n.return,r)}}function Wy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new yp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new yp),n;default:throw Error(l(435,e.tag))}}function Io(e,n){var r=Wy(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var d=sw.bind(null,e,o);o.then(d,d)}})}function gn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],h=e,g=n,y=g;e:for(;y!==null;){switch(y.tag){case 27:if(sa(y.type)){It=y.stateNode,xn=!1;break e}break;case 5:It=y.stateNode,xn=!1;break e;case 3:case 4:It=y.stateNode.containerInfo,xn=!0;break e}y=y.return}if(It===null)throw Error(l(160));Np(h,g,d),It=null,xn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)kp(n,e),n=n.sibling}var Wn=null;function kp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),bn(e),o&4&&(Ks(3,e,e.return),Gr(3,e),Ks(5,e,e.return));break;case 1:gn(n,e),bn(e),o&512&&(Vt||r===null||ss(r,r.return)),o&64&&ws&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=Wn;if(gn(n,e),bn(e),o&512&&(Vt||r===null||ss(r,r.return)),o&4){var h=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":h=d.getElementsByTagName("title")[0],(!h||h[xr]||h[Le]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(o),d.head.insertBefore(h,d.querySelector("head > title"))),an(h,o,r),h[Le]=e,Kt(h),o=h;break e;case"link":var g=kx("link","href",d).get(o+(r.href||""));if(g){for(var y=0;y<g.length;y++)if(h=g[y],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(y,1);break t}}h=d.createElement(o),an(h,o,r),d.head.appendChild(h);break;case"meta":if(g=kx("meta","content",d).get(o+(r.content||""))){for(y=0;y<g.length;y++)if(h=g[y],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(y,1);break t}}h=d.createElement(o),an(h,o,r),d.head.appendChild(h);break;default:throw Error(l(468,o))}h[Le]=e,Kt(h),o=h}e.stateNode=o}else Ex(d,e.type,e.stateNode);else e.stateNode=Sx(d,o,e.memoizedProps);else h!==o?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,o===null?Ex(d,e.type,e.stateNode):Sx(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&kd(e,e.memoizedProps,r.memoizedProps)}break;case 27:gn(n,e),bn(e),o&512&&(Vt||r===null||ss(r,r.return)),r!==null&&o&4&&kd(e,e.memoizedProps,r.memoizedProps);break;case 5:if(gn(n,e),bn(e),o&512&&(Vt||r===null||ss(r,r.return)),e.flags&32){d=e.stateNode;try{di(d,"")}catch(ze){gt(e,e.return,ze)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,kd(e,d,r!==null?r.memoizedProps:d)),o&1024&&(Td=!0);break;case 6:if(gn(n,e),bn(e),o&4){if(e.stateNode===null)throw Error(l(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ze){gt(e,e.return,ze)}}break;case 3:if(Wo=null,d=Wn,Wn=$o(n.containerInfo),gn(n,e),Wn=d,bn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Gi(n.containerInfo)}catch(ze){gt(e,e.return,ze)}Td&&(Td=!1,Ep(e));break;case 4:o=Wn,Wn=$o(e.stateNode.containerInfo),gn(n,e),bn(e),Wn=o;break;case 12:gn(n,e),bn(e);break;case 31:gn(n,e),bn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Io(e,o)));break;case 13:gn(n,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Mo=ce()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Io(e,o)));break;case 22:d=e.memoizedState!==null;var j=r!==null&&r.memoizedState!==null,F=ws,re=Vt;if(ws=F||d,Vt=re||j,gn(n,e),Vt=re,ws=F,bn(e),o&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(r===null||j||ws||Vt||Ga(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){j=r=n;try{if(h=j.stateNode,d)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=j.stateNode;var de=j.memoizedProps.style,Y=de!=null&&de.hasOwnProperty("display")?de.display:null;y.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ze){gt(j,j.return,ze)}}}else if(n.tag===6){if(r===null){j=n;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(ze){gt(j,j.return,ze)}}}else if(n.tag===18){if(r===null){j=n;try{var J=j.stateNode;d?xx(J,!0):xx(j.stateNode,!1)}catch(ze){gt(j,j.return,ze)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Io(e,r))));break;case 19:gn(n,e),bn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Io(e,o)));break;case 30:break;case 21:break;default:gn(n,e),bn(e)}}function bn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(bp(o)){r=o;break}o=o.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var d=r.stateNode,h=Ed(e);Ro(e,h,d);break;case 5:var g=r.stateNode;r.flags&32&&(di(g,""),r.flags&=-33);var y=Ed(e);Ro(e,y,g);break;case 3:case 4:var j=r.stateNode.containerInfo,F=Ed(e);Cd(e,F,j);break;default:throw Error(l(161))}}catch(re){gt(e,e.return,re)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ep(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ep(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ns(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wp(e,n.alternate,n),n=n.sibling}function Ga(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ks(4,n,n.return),Ga(n);break;case 1:ss(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&xp(n,n.return,r),Ga(n);break;case 27:Zr(n.stateNode);case 26:case 5:ss(n,n.return),Ga(n);break;case 22:n.memoizedState===null&&Ga(n);break;case 30:Ga(n);break;default:Ga(n)}e=e.sibling}}function js(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=e,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:js(d,h,r),Gr(4,h);break;case 1:if(js(d,h,r),o=h,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){gt(o,o.return,F)}if(o=h,d=o.updateQueue,d!==null){var y=o.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)a0(j[d],y)}catch(F){gt(o,o.return,F)}}r&&g&64&&pp(h),Hr(h,h.return);break;case 27:vp(h);case 26:case 5:js(d,h,r),r&&o===null&&g&4&&gp(h),Hr(h,h.return);break;case 12:js(d,h,r);break;case 31:js(d,h,r),r&&g&4&&jp(d,h);break;case 13:js(d,h,r),r&&g&4&&Sp(d,h);break;case 22:h.memoizedState===null&&js(d,h,r),Hr(h,h.return);break;case 30:break;default:js(d,h,r)}n=n.sibling}}function Ad(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Tr(r))}function Rd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Tr(e))}function Xn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cp(e,n,r,o),n=n.sibling}function Cp(e,n,r,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,r,o),d&2048&&Gr(9,n);break;case 1:Xn(e,n,r,o);break;case 3:Xn(e,n,r,o),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Tr(e)));break;case 12:if(d&2048){Xn(e,n,r,o),e=n.stateNode;try{var h=n.memoizedProps,g=h.id,y=h.onPostCommit;typeof y=="function"&&y(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){gt(n,n.return,j)}}else Xn(e,n,r,o);break;case 31:Xn(e,n,r,o);break;case 13:Xn(e,n,r,o);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?Xn(e,n,r,o):Vr(e,n):h._visibility&2?Xn(e,n,r,o):(h._visibility|=2,Ri(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Ad(g,n);break;case 24:Xn(e,n,r,o),d&2048&&Rd(n.alternate,n);break;default:Xn(e,n,r,o)}}function Ri(e,n,r,o,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,g=n,y=r,j=o,F=g.flags;switch(g.tag){case 0:case 11:case 15:Ri(h,g,y,j,d),Gr(8,g);break;case 23:break;case 22:var re=g.stateNode;g.memoizedState!==null?re._visibility&2?Ri(h,g,y,j,d):Vr(h,g):(re._visibility|=2,Ri(h,g,y,j,d)),d&&F&2048&&Ad(g.alternate,g);break;case 24:Ri(h,g,y,j,d),d&&F&2048&&Rd(g.alternate,g);break;default:Ri(h,g,y,j,d)}n=n.sibling}}function Vr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,d=o.flags;switch(o.tag){case 22:Vr(r,o),d&2048&&Ad(o.alternate,o);break;case 24:Vr(r,o),d&2048&&Rd(o.alternate,o);break;default:Vr(r,o)}n=n.sibling}}var Yr=8192;function Ii(e,n,r){if(e.subtreeFlags&Yr)for(e=e.child;e!==null;)Tp(e,n,r),e=e.sibling}function Tp(e,n,r){switch(e.tag){case 26:Ii(e,n,r),e.flags&Yr&&e.memoizedState!==null&&Mw(r,Wn,e.memoizedState,e.memoizedProps);break;case 5:Ii(e,n,r);break;case 3:case 4:var o=Wn;Wn=$o(e.stateNode.containerInfo),Ii(e,n,r),Wn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Yr,Yr=16777216,Ii(e,n,r),Yr=o):Ii(e,n,r));break;default:Ii(e,n,r)}}function Ap(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $r(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Qt=o,Ip(o,e)}Ap(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rp(e),e=e.sibling}function Rp(e){switch(e.tag){case 0:case 11:case 15:$r(e),e.flags&2048&&Ks(9,e,e.return);break;case 3:$r(e);break;case 12:$r(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,zo(e)):$r(e);break;default:$r(e)}}function zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Qt=o,Ip(o,e)}Ap(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ks(8,n,n.return),zo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,zo(n));break;default:zo(n)}e=e.sibling}}function Ip(e,n){for(;Qt!==null;){var r=Qt;switch(r.tag){case 0:case 11:case 15:Ks(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Tr(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Qt=o;else e:for(r=e;Qt!==null;){o=Qt;var d=o.sibling,h=o.return;if(_p(o),o===r){Qt=null;break e}if(d!==null){d.return=h,Qt=d;break e}Qt=h}}}var Xy={getCacheForType:function(e){var n=nn(Bt),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return nn(Bt).controller.signal}},Ky=typeof WeakMap=="function"?WeakMap:Map,ht=0,St=null,Ze=null,nt=0,xt=0,Cn=null,Qs=!1,zi=!1,Id=!1,Ss=0,Dt=0,Zs=0,Ha=0,zd=0,Tn=0,Mi=0,qr=null,vn=null,Md=!1,Mo=0,zp=0,Oo=1/0,Do=null,Js=null,$t=0,ea=null,Oi=null,ks=0,Od=0,Dd=null,Mp=null,Wr=0,Ld=null;function An(){return(ht&2)!==0&&nt!==0?nt&-nt:S.T!==null?Hd():un()}function Op(){if(Tn===0)if((nt&536870912)===0||at){var e=os;os<<=1,(os&3932160)===0&&(os=262144),Tn=e}else Tn=536870912;return e=kn.current,e!==null&&(e.flags|=32),Tn}function yn(e,n,r){(e===St&&(xt===2||xt===9)||e.cancelPendingCommit!==null)&&(Di(e,0),ta(e,nt,Tn,!1)),ft(e,r),((ht&2)===0||e!==St)&&(e===St&&((ht&2)===0&&(Ha|=r),Dt===4&&ta(e,nt,Tn,!1)),as(e))}function Dp(e,n,r){if((ht&6)!==0)throw Error(l(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||be(e,n),d=o?Jy(e,n):Fd(e,n,!0),h=o;do{if(d===0){zi&&!o&&ta(e,n,0,!1);break}else{if(r=e.current.alternate,h&&!Qy(r)){d=Fd(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var y=e;d=qr;var j=y.current.memoizedState.isDehydrated;if(j&&(Di(y,g).flags|=256),g=Fd(y,g,!1),g!==2){if(Id&&!j){y.errorRecoveryDisabledLanes|=h,Ha|=h,d=4;break e}h=vn,vn=d,h!==null&&(vn===null?vn=h:vn.push.apply(vn,h))}d=g}if(h=!1,d!==2)continue}}if(d===1){Di(e,0),ta(e,n,0,!0);break}e:{switch(o=e,h=d,h){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:ta(o,n,Tn,!Qs);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(d=Mo+300-ce(),10<d)){if(ta(o,n,Tn,!Qs),oe(o,0,!0)!==0)break e;ks=n,o.timeoutHandle=hx(Lp.bind(null,o,r,vn,Do,Md,n,Tn,Ha,Mi,Qs,h,"Throttled",-0,0),d);break e}Lp(o,r,vn,Do,Md,n,Tn,Ha,Mi,Qs,h,null,-0,0)}}break}while(!0);as(e)}function Lp(e,n,r,o,d,h,g,y,j,F,re,de,Y,J){if(e.timeoutHandle=-1,de=n.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ds},Tp(n,h,de);var ze=(h&62914560)===h?Mo-ce():(h&4194048)===h?zp-ce():0;if(ze=Ow(de,ze),ze!==null){ks=h,e.cancelPendingCommit=ze(Yp.bind(null,e,n,h,r,o,d,g,y,j,re,de,null,Y,J)),ta(e,h,g,!F);return}}Yp(e,n,h,r,o,d,g,y,j)}function Qy(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],h=d.getSnapshot;d=d.value;try{if(!jn(h(),d))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ta(e,n,r,o){n&=~zd,n&=~Ha,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var d=n;0<d;){var h=31-mt(d),g=1<<h;o[h]=-1,d&=~g}r!==0&&Mt(e,r,n)}function Lo(){return(ht&6)===0?(Xr(0),!1):!0}function Ud(){if(Ze!==null){if(xt===0)var e=Ze.return;else e=Ze,ps=Ma=null,ed(e),ki=null,Rr=0,e=Ze;for(;e!==null;)mp(e.alternate,e),e=e.return;Ze=null}}function Di(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,gw(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ks=0,Ud(),St=e,Ze=r=hs(e.current,null),nt=n,xt=0,Cn=null,Qs=!1,zi=be(e,n),Id=!1,Mi=Tn=zd=Ha=Zs=Dt=0,vn=qr=null,Md=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var d=31-mt(o),h=1<<d;n|=e[d],o&=~h}return Ss=n,so(),r}function Up(e,n){qe=null,S.H=Fr,n===Si||n===fo?(n=e0(),xt=3):n===Gu?(n=e0(),xt=4):xt=n===xd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Ze===null&&(Dt=1,ko(e,Ln(n,e.current)))}function Fp(){var e=kn.current;return e===null?!0:(nt&4194048)===nt?Bn===null:(nt&62914560)===nt||(nt&536870912)!==0?e===Bn:!1}function Pp(){var e=S.H;return S.H=Fr,e===null?Fr:e}function Bp(){var e=S.A;return S.A=Xy,e}function Uo(){Dt=4,Qs||(nt&4194048)!==nt&&kn.current!==null||(zi=!0),(Zs&134217727)===0&&(Ha&134217727)===0||St===null||ta(St,nt,Tn,!1)}function Fd(e,n,r){var o=ht;ht|=2;var d=Pp(),h=Bp();(St!==e||nt!==n)&&(Do=null,Di(e,n)),n=!1;var g=Dt;e:do try{if(xt!==0&&Ze!==null){var y=Ze,j=Cn;switch(xt){case 8:Ud(),g=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var F=xt;if(xt=0,Cn=null,Li(e,y,j,F),r&&zi){g=0;break e}break;default:F=xt,xt=0,Cn=null,Li(e,y,j,F)}}Zy(),g=Dt;break}catch(re){Up(e,re)}while(!0);return n&&e.shellSuspendCounter++,ps=Ma=null,ht=o,S.H=d,S.A=h,Ze===null&&(St=null,nt=0,so()),g}function Zy(){for(;Ze!==null;)Gp(Ze)}function Jy(e,n){var r=ht;ht|=2;var o=Pp(),d=Bp();St!==e||nt!==n?(Do=null,Oo=ce()+500,Di(e,n)):zi=be(e,n);e:do try{if(xt!==0&&Ze!==null){n=Ze;var h=Cn;t:switch(xt){case 1:xt=0,Cn=null,Li(e,n,h,1);break;case 2:case 9:if(Zm(h)){xt=0,Cn=null,Hp(n);break}n=function(){xt!==2&&xt!==9||St!==e||(xt=7),as(e)},h.then(n,n);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:Zm(h)?(xt=0,Cn=null,Hp(n)):(xt=0,Cn=null,Li(e,n,h,7));break;case 5:var g=null;switch(Ze.tag){case 26:g=Ze.memoizedState;case 5:case 27:var y=Ze;if(g?Cx(g):y.stateNode.complete){xt=0,Cn=null;var j=y.sibling;if(j!==null)Ze=j;else{var F=y.return;F!==null?(Ze=F,Fo(F)):Ze=null}break t}}xt=0,Cn=null,Li(e,n,h,5);break;case 6:xt=0,Cn=null,Li(e,n,h,6);break;case 8:Ud(),Dt=6;break e;default:throw Error(l(462))}}ew();break}catch(re){Up(e,re)}while(!0);return ps=Ma=null,S.H=o,S.A=d,ht=r,Ze!==null?0:(St=null,nt=0,so(),Dt)}function ew(){for(;Ze!==null&&!Z();)Gp(Ze)}function Gp(e){var n=fp(e.alternate,e,Ss);e.memoizedProps=e.pendingProps,n===null?Fo(e):Ze=n}function Hp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=rp(r,n,n.pendingProps,n.type,void 0,nt);break;case 11:n=rp(r,n,n.pendingProps,n.type.render,n.ref,nt);break;case 5:ed(n);default:mp(r,n),n=Ze=Bm(n,Ss),n=fp(r,n,Ss)}e.memoizedProps=e.pendingProps,n===null?Fo(e):Ze=n}function Li(e,n,r,o){ps=Ma=null,ed(n),ki=null,Rr=0;var d=n.return;try{if(Gy(e,d,n,r,nt)){Dt=1,ko(e,Ln(r,e.current)),Ze=null;return}}catch(h){if(d!==null)throw Ze=d,h;Dt=1,ko(e,Ln(r,e.current)),Ze=null;return}n.flags&32768?(at||o===1?e=!0:zi||(nt&536870912)!==0?e=!1:(Qs=e=!0,(o===2||o===9||o===3||o===6)&&(o=kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vp(n,e)):Fo(n)}function Fo(e){var n=e;do{if((n.flags&32768)!==0){Vp(n,Qs);return}e=n.return;var r=Yy(n.alternate,n,Ss);if(r!==null){Ze=r;return}if(n=n.sibling,n!==null){Ze=n;return}Ze=n=e}while(n!==null);Dt===0&&(Dt=5)}function Vp(e,n){do{var r=$y(e.alternate,e);if(r!==null){r.flags&=32767,Ze=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ze=e;return}Ze=e=r}while(e!==null);Dt=6,Ze=null}function Yp(e,n,r,o,d,h,g,y,j){e.cancelPendingCommit=null;do Po();while($t!==0);if((ht&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(h=n.lanes|n.childLanes,h|=Eu,tt(e,r,h,g,y,j),e===St&&(Ze=St=null,nt=0),Oi=n,ea=e,ks=r,Od=h,Dd=d,Mp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,aw(Oe,function(){return Kp(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=S.T,S.T=null,d=$.p,$.p=2,g=ht,ht|=4;try{qy(e,n,r)}finally{ht=g,$.p=d,S.T=o}}$t=1,$p(),qp(),Wp()}}function $p(){if($t===1){$t=0;var e=ea,n=Oi,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=S.T,S.T=null;var o=$.p;$.p=2;var d=ht;ht|=4;try{kp(n,e);var h=Qd,g=Im(e.containerInfo),y=h.focusedElem,j=h.selectionRange;if(g!==y&&y&&y.ownerDocument&&Rm(y.ownerDocument.documentElement,y)){if(j!==null&&_u(y)){var F=j.start,re=j.end;if(re===void 0&&(re=F),"selectionStart"in y)y.selectionStart=F,y.selectionEnd=Math.min(re,y.value.length);else{var de=y.ownerDocument||document,Y=de&&de.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),ze=y.textContent.length,Fe=Math.min(j.start,ze),yt=j.end===void 0?Fe:Math.min(j.end,ze);!J.extend&&Fe>yt&&(g=yt,yt=Fe,Fe=g);var R=Am(y,Fe),E=Am(y,yt);if(R&&E&&(J.rangeCount!==1||J.anchorNode!==R.node||J.anchorOffset!==R.offset||J.focusNode!==E.node||J.focusOffset!==E.offset)){var U=de.createRange();U.setStart(R.node,R.offset),J.removeAllRanges(),Fe>yt?(J.addRange(U),J.extend(E.node,E.offset)):(U.setEnd(E.node,E.offset),J.addRange(U))}}}}for(de=[],J=y;J=J.parentNode;)J.nodeType===1&&de.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<de.length;y++){var le=de[y];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Zo=!!Kd,Qd=Kd=null}finally{ht=d,$.p=o,S.T=r}}e.current=n,$t=2}}function qp(){if($t===2){$t=0;var e=ea,n=Oi,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=S.T,S.T=null;var o=$.p;$.p=2;var d=ht;ht|=4;try{wp(e,n.alternate,n)}finally{ht=d,$.p=o,S.T=r}}$t=3}}function Wp(){if($t===4||$t===3){$t=0,I();var e=ea,n=Oi,r=ks,o=Mp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$t=5:($t=0,Oi=ea=null,Xp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Js=null),mr(r),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(rt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=S.T,d=$.p,$.p=2,S.T=null;try{for(var h=e.onRecoverableError,g=0;g<o.length;g++){var y=o[g];h(y.value,{componentStack:y.stack})}}finally{S.T=n,$.p=d}}(ks&3)!==0&&Po(),as(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===Ld?Wr++:(Wr=0,Ld=e):Wr=0,Xr(0)}}function Xp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Tr(n)))}function Po(){return $p(),qp(),Wp(),Kp()}function Kp(){if($t!==5)return!1;var e=ea,n=Od;Od=0;var r=mr(ks),o=S.T,d=$.p;try{$.p=32>r?32:r,S.T=null,r=Dd,Dd=null;var h=ea,g=ks;if($t=0,Oi=ea=null,ks=0,(ht&6)!==0)throw Error(l(331));var y=ht;if(ht|=4,Rp(h.current),Cp(h,h.current,g,r),ht=y,Xr(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(rt,h)}catch{}return!0}finally{$.p=d,S.T=o,Xp(e,n)}}function Qp(e,n,r){n=Ln(r,n),n=pd(e.stateNode,n,2),e=qs(e,n,2),e!==null&&(ft(e,2),as(e))}function gt(e,n,r){if(e.tag===3)Qp(e,e,r);else for(;n!==null;){if(n.tag===3){Qp(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Js===null||!Js.has(o))){e=Ln(r,e),r=Z0(2),o=qs(n,r,2),o!==null&&(J0(r,o,n,e),ft(o,2),as(o));break}}n=n.return}}function Pd(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Ky;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(r)||(Id=!0,d.add(r),e=tw.bind(null,e,n,r),n.then(e,e))}function tw(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,St===e&&(nt&r)===r&&(Dt===4||Dt===3&&(nt&62914560)===nt&&300>ce()-Mo?(ht&2)===0&&Di(e,0):zd|=r,Mi===nt&&(Mi=0)),as(e)}function Zp(e,n){n===0&&(n=pt()),e=Ra(e,n),e!==null&&(ft(e,n),as(e))}function nw(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Zp(e,r)}function sw(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(n),Zp(e,r)}function aw(e,n){return me(e,n)}var Bo=null,Ui=null,Bd=!1,Go=!1,Gd=!1,na=0;function as(e){e!==Ui&&e.next===null&&(Ui===null?Bo=Ui=e:Ui=Ui.next=e),Go=!0,Bd||(Bd=!0,rw())}function Xr(e,n){if(!Gd&&Go){Gd=!0;do for(var r=!1,o=Bo;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var h=0;else{var g=o.suspendedLanes,y=o.pingedLanes;h=(1<<31-mt(42|e)+1)-1,h&=d&~(g&~y),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,nx(o,h))}else h=nt,h=oe(o,o===St?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||be(o,h)||(r=!0,nx(o,h));o=o.next}while(r);Gd=!1}}function iw(){Jp()}function Jp(){Go=Bd=!1;var e=0;na!==0&&xw()&&(e=na);for(var n=ce(),r=null,o=Bo;o!==null;){var d=o.next,h=ex(o,n);h===0?(o.next=null,r===null?Bo=d:r.next=d,d===null&&(Ui=r)):(r=o,(e!==0||(h&3)!==0)&&(Go=!0)),o=d}$t!==0&&$t!==5||Xr(e),na!==0&&(na=0)}function ex(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var g=31-mt(h),y=1<<g,j=d[g];j===-1?((y&r)===0||(y&o)!==0)&&(d[g]=dt(y,n)):j<=n&&(e.expiredLanes|=y),h&=~y}if(n=St,r=nt,r=oe(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(xt===2||xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ae(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||be(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ae(o),mr(r)){case 2:case 8:r=Ae;break;case 32:r=Oe;break;case 268435456:r=it;break;default:r=Oe}return o=tx.bind(null,e),r=me(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ae(o),e.callbackPriority=2,e.callbackNode=null,2}function tx(e,n){if($t!==0&&$t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Po()&&e.callbackNode!==r)return null;var o=nt;return o=oe(e,e===St?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Dp(e,o,n),ex(e,ce()),e.callbackNode!=null&&e.callbackNode===r?tx.bind(null,e):null)}function nx(e,n){if(Po())return null;Dp(e,n,!0)}function rw(){bw(function(){(ht&6)!==0?me(Re,iw):Jp()})}function Hd(){if(na===0){var e=Ni;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),na=e}return na}function sx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xl(""+e)}function ax(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function lw(e,n,r,o,d){if(n==="submit"&&r&&r.stateNode===d){var h=sx((d[Xt]||null).action),g=o.submitter;g&&(n=(n=g[Xt]||null)?sx(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var y=new Jl("action","action",null,o,d);e.push({event:y,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(na!==0){var j=g?ax(d,g):new FormData(d);cd(r,{pending:!0,data:j,method:d.method,action:h},null,j)}}else typeof h=="function"&&(y.preventDefault(),j=g?ax(d,g):new FormData(d),cd(r,{pending:!0,data:j,method:d.method,action:h},h,j))},currentTarget:d}]})}}for(var Vd=0;Vd<ku.length;Vd++){var Yd=ku[Vd],ow=Yd.toLowerCase(),cw=Yd[0].toUpperCase()+Yd.slice(1);qn(ow,"on"+cw)}qn(Om,"onAnimationEnd"),qn(Dm,"onAnimationIteration"),qn(Lm,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Sy,"onTransitionRun"),qn(ky,"onTransitionStart"),qn(Ey,"onTransitionCancel"),qn(Um,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kr));function ix(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],d=o.event;o=o.listeners;e:{var h=void 0;if(n)for(var g=o.length-1;0<=g;g--){var y=o[g],j=y.instance,F=y.currentTarget;if(y=y.listener,j!==h&&d.isPropagationStopped())break e;h=y,d.currentTarget=F;try{h(d)}catch(re){no(re)}d.currentTarget=null,h=j}else for(g=0;g<o.length;g++){if(y=o[g],j=y.instance,F=y.currentTarget,y=y.listener,j!==h&&d.isPropagationStopped())break e;h=y,d.currentTarget=F;try{h(d)}catch(re){no(re)}d.currentTarget=null,h=j}}}}function Je(e,n){var r=n[ii];r===void 0&&(r=n[ii]=new Set);var o=e+"__bubble";r.has(o)||(rx(n,e,2,!1),r.add(o))}function $d(e,n,r){var o=0;n&&(o|=4),rx(r,e,o,n)}var Ho="_reactListening"+Math.random().toString(36).slice(2);function qd(e){if(!e[Ho]){e[Ho]=!0,Jh.forEach(function(r){r!=="selectionchange"&&(uw.has(r)||$d(r,!1,e),$d(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ho]||(n[Ho]=!0,$d("selectionchange",!1,n))}}function rx(e,n,r,o){switch(Ox(n)){case 2:var d=Uw;break;case 8:d=Fw;break;default:d=cf}r=d.bind(null,n,r,e),d=void 0,!hu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(n,r,{capture:!0,passive:d}):e.addEventListener(n,r,!0):d!==void 0?e.addEventListener(n,r,{passive:d}):e.addEventListener(n,r,!1)}function Wd(e,n,r,o,d){var h=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var y=o.stateNode.containerInfo;if(y===d)break;if(g===4)for(g=o.return;g!==null;){var j=g.tag;if((j===3||j===4)&&g.stateNode.containerInfo===d)return;g=g.return}for(;y!==null;){if(g=ri(y),g===null)return;if(j=g.tag,j===5||j===6||j===26||j===27){o=h=g;continue e}y=y.parentNode}}o=o.return}dm(function(){var F=h,re=du(r),de=[];e:{var Y=Fm.get(e);if(Y!==void 0){var J=Jl,ze=e;switch(e){case"keypress":if(Ql(r)===0)break e;case"keydown":case"keyup":J=sy;break;case"focusin":ze="focus",J=gu;break;case"focusout":ze="blur",J=gu;break;case"beforeblur":case"afterblur":J=gu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=mm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Y1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=ry;break;case Om:case Dm:case Lm:J=W1;break;case Um:J=oy;break;case"scroll":case"scrollend":J=H1;break;case"wheel":J=uy;break;case"copy":case"cut":case"paste":J=K1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=xm;break;case"toggle":case"beforetoggle":J=fy}var Fe=(n&4)!==0,yt=!Fe&&(e==="scroll"||e==="scrollend"),R=Fe?Y!==null?Y+"Capture":null:Y;Fe=[];for(var E=F,U;E!==null;){var le=E;if(U=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||U===null||R===null||(le=br(E,R),le!=null&&Fe.push(Qr(E,le,U))),yt)break;E=E.return}0<Fe.length&&(Y=new J(Y,ze,null,r,re),de.push({event:Y,listeners:Fe}))}}if((n&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",Y&&r!==uu&&(ze=r.relatedTarget||r.fromElement)&&(ri(ze)||ze[Fs]))break e;if((J||Y)&&(Y=re.window===re?re:(Y=re.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(ze=r.relatedTarget||r.toElement,J=F,ze=ze?ri(ze):null,ze!==null&&(yt=u(ze),Fe=ze.tag,ze!==yt||Fe!==5&&Fe!==27&&Fe!==6)&&(ze=null)):(J=null,ze=F),J!==ze)){if(Fe=mm,le="onMouseLeave",R="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=xm,le="onPointerLeave",R="onPointerEnter",E="pointer"),yt=J==null?Y:gr(J),U=ze==null?Y:gr(ze),Y=new Fe(le,E+"leave",J,r,re),Y.target=yt,Y.relatedTarget=U,le=null,ri(re)===F&&(Fe=new Fe(R,E+"enter",ze,r,re),Fe.target=U,Fe.relatedTarget=yt,le=Fe),yt=le,J&&ze)t:{for(Fe=dw,R=J,E=ze,U=0,le=R;le;le=Fe(le))U++;le=0;for(var De=E;De;De=Fe(De))le++;for(;0<U-le;)R=Fe(R),U--;for(;0<le-U;)E=Fe(E),le--;for(;U--;){if(R===E||E!==null&&R===E.alternate){Fe=R;break t}R=Fe(R),E=Fe(E)}Fe=null}else Fe=null;J!==null&&lx(de,Y,J,Fe,!1),ze!==null&&yt!==null&&lx(de,yt,ze,Fe,!0)}}e:{if(Y=F?gr(F):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var ot=jm;else if(_m(Y))if(Sm)ot=_y;else{ot=yy;var Me=vy}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&cu(F.elementType)&&(ot=jm):ot=wy;if(ot&&(ot=ot(e,F))){Nm(de,ot,r,re);break e}Me&&Me(e,Y,F),e==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&ou(Y,"number",Y.value)}switch(Me=F?gr(F):window,e){case"focusin":(_m(Me)||Me.contentEditable==="true")&&(pi=Me,Nu=F,kr=null);break;case"focusout":kr=Nu=pi=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,zm(de,r,re);break;case"selectionchange":if(jy)break;case"keydown":case"keyup":zm(de,r,re)}var We;if(vu)e:{switch(e){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else mi?ym(e,r)&&(st="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(st="onCompositionStart");st&&(gm&&r.locale!=="ko"&&(mi||st!=="onCompositionStart"?st==="onCompositionEnd"&&mi&&(We=fm()):(Ps=re,mu="value"in Ps?Ps.value:Ps.textContent,mi=!0)),Me=Vo(F,st),0<Me.length&&(st=new pm(st,e,null,r,re),de.push({event:st,listeners:Me}),We?st.data=We:(We=wm(r),We!==null&&(st.data=We)))),(We=my?py(e,r):xy(e,r))&&(st=Vo(F,"onBeforeInput"),0<st.length&&(Me=new pm("onBeforeInput","beforeinput",null,r,re),de.push({event:Me,listeners:st}),Me.data=We)),lw(de,e,F,r,re)}ix(de,n)})}function Qr(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Vo(e,n){for(var r=n+"Capture",o=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=br(e,r),d!=null&&o.unshift(Qr(e,d,h)),d=br(e,n),d!=null&&o.push(Qr(e,d,h))),e.tag===3)return o;e=e.return}return[]}function dw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lx(e,n,r,o,d){for(var h=n._reactName,g=[];r!==null&&r!==o;){var y=r,j=y.alternate,F=y.stateNode;if(y=y.tag,j!==null&&j===o)break;y!==5&&y!==26&&y!==27||F===null||(j=F,d?(F=br(r,h),F!=null&&g.unshift(Qr(r,F,j))):d||(F=br(r,h),F!=null&&g.push(Qr(r,F,j)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var fw=/\r\n?/g,hw=/\u0000|\uFFFD/g;function ox(e){return(typeof e=="string"?e:""+e).replace(fw,`
`).replace(hw,"")}function cx(e,n){return n=ox(n),ox(e)===n}function vt(e,n,r,o,d,h){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||di(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&di(e,""+o);break;case"className":ql(e,"class",o);break;case"tabIndex":ql(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(e,r,o);break;case"style":cm(e,o,h);break;case"data":if(n!=="object"){ql(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Xl(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&vt(e,n,"name",d.name,d,null),vt(e,n,"formEncType",d.formEncType,d,null),vt(e,n,"formMethod",d.formMethod,d,null),vt(e,n,"formTarget",d.formTarget,d,null)):(vt(e,n,"encType",d.encType,d,null),vt(e,n,"method",d.method,d,null),vt(e,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Xl(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=ds);break;case"onScroll":o!=null&&Je("scroll",e);break;case"onScrollEnd":o!=null&&Je("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Xl(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Je("beforetoggle",e),Je("toggle",e),$l(e,"popover",o);break;case"xlinkActuate":us(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":us(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":us(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":us(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":us(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":us(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":us(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":us(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":us(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$l(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=B1.get(r)||r,$l(e,r,o))}}function Xd(e,n,r,o,d,h){switch(r){case"style":cm(e,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"children":typeof o=="string"?di(e,o):(typeof o=="number"||typeof o=="bigint")&&di(e,""+o);break;case"onScroll":o!=null&&Je("scroll",e);break;case"onScrollEnd":o!=null&&Je("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!em.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),n=r.slice(2,d?r.length-7:void 0),h=e[Xt]||null,h=h!=null?h[r]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof o=="function")){typeof h!="function"&&h!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,d);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):$l(e,r,o)}}}function an(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",e),Je("load",e);var o=!1,d=!1,h;for(h in r)if(r.hasOwnProperty(h)){var g=r[h];if(g!=null)switch(h){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:vt(e,n,h,g,r,null)}}d&&vt(e,n,"srcSet",r.srcSet,r,null),o&&vt(e,n,"src",r.src,r,null);return;case"input":Je("invalid",e);var y=h=g=d=null,j=null,F=null;for(o in r)if(r.hasOwnProperty(o)){var re=r[o];if(re!=null)switch(o){case"name":d=re;break;case"type":g=re;break;case"checked":j=re;break;case"defaultChecked":F=re;break;case"value":h=re;break;case"defaultValue":y=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(l(137,n));break;default:vt(e,n,o,re,r,null)}}im(e,h,y,j,F,g,d,!1);return;case"select":Je("invalid",e),o=g=h=null;for(d in r)if(r.hasOwnProperty(d)&&(y=r[d],y!=null))switch(d){case"value":h=y;break;case"defaultValue":g=y;break;case"multiple":o=y;default:vt(e,n,d,y,r,null)}n=h,r=g,e.multiple=!!o,n!=null?ui(e,!!o,n,!1):r!=null&&ui(e,!!o,r,!0);return;case"textarea":Je("invalid",e),h=d=o=null;for(g in r)if(r.hasOwnProperty(g)&&(y=r[g],y!=null))switch(g){case"value":o=y;break;case"defaultValue":d=y;break;case"children":h=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:vt(e,n,g,y,r,null)}lm(e,o,d,h);return;case"option":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:vt(e,n,j,o,r,null)}return;case"dialog":Je("beforetoggle",e),Je("toggle",e),Je("cancel",e),Je("close",e);break;case"iframe":case"object":Je("load",e);break;case"video":case"audio":for(o=0;o<Kr.length;o++)Je(Kr[o],e);break;case"image":Je("error",e),Je("load",e);break;case"details":Je("toggle",e);break;case"embed":case"source":case"link":Je("error",e),Je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in r)if(r.hasOwnProperty(F)&&(o=r[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:vt(e,n,F,o,r,null)}return;default:if(cu(n)){for(re in r)r.hasOwnProperty(re)&&(o=r[re],o!==void 0&&Xd(e,n,re,o,r,void 0));return}}for(y in r)r.hasOwnProperty(y)&&(o=r[y],o!=null&&vt(e,n,y,o,r,null))}function mw(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,g=null,y=null,j=null,F=null,re=null;for(J in r){var de=r[J];if(r.hasOwnProperty(J)&&de!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":j=de;default:o.hasOwnProperty(J)||vt(e,n,J,null,o,de)}}for(var Y in o){var J=o[Y];if(de=r[Y],o.hasOwnProperty(Y)&&(J!=null||de!=null))switch(Y){case"type":h=J;break;case"name":d=J;break;case"checked":F=J;break;case"defaultChecked":re=J;break;case"value":g=J;break;case"defaultValue":y=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(l(137,n));break;default:J!==de&&vt(e,n,Y,J,o,de)}}lu(e,g,y,j,F,re,h,d);return;case"select":J=g=y=Y=null;for(h in r)if(j=r[h],r.hasOwnProperty(h)&&j!=null)switch(h){case"value":break;case"multiple":J=j;default:o.hasOwnProperty(h)||vt(e,n,h,null,o,j)}for(d in o)if(h=o[d],j=r[d],o.hasOwnProperty(d)&&(h!=null||j!=null))switch(d){case"value":Y=h;break;case"defaultValue":y=h;break;case"multiple":g=h;default:h!==j&&vt(e,n,d,h,o,j)}n=y,r=g,o=J,Y!=null?ui(e,!!r,Y,!1):!!o!=!!r&&(n!=null?ui(e,!!r,n,!0):ui(e,!!r,r?[]:"",!1));return;case"textarea":J=Y=null;for(y in r)if(d=r[y],r.hasOwnProperty(y)&&d!=null&&!o.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:vt(e,n,y,null,o,d)}for(g in o)if(d=o[g],h=r[g],o.hasOwnProperty(g)&&(d!=null||h!=null))switch(g){case"value":Y=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==h&&vt(e,n,g,d,o,h)}rm(e,Y,J);return;case"option":for(var ze in r)if(Y=r[ze],r.hasOwnProperty(ze)&&Y!=null&&!o.hasOwnProperty(ze))switch(ze){case"selected":e.selected=!1;break;default:vt(e,n,ze,null,o,Y)}for(j in o)if(Y=o[j],J=r[j],o.hasOwnProperty(j)&&Y!==J&&(Y!=null||J!=null))switch(j){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:vt(e,n,j,Y,o,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in r)Y=r[Fe],r.hasOwnProperty(Fe)&&Y!=null&&!o.hasOwnProperty(Fe)&&vt(e,n,Fe,null,o,Y);for(F in o)if(Y=o[F],J=r[F],o.hasOwnProperty(F)&&Y!==J&&(Y!=null||J!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(137,n));break;default:vt(e,n,F,Y,o,J)}return;default:if(cu(n)){for(var yt in r)Y=r[yt],r.hasOwnProperty(yt)&&Y!==void 0&&!o.hasOwnProperty(yt)&&Xd(e,n,yt,void 0,o,Y);for(re in o)Y=o[re],J=r[re],!o.hasOwnProperty(re)||Y===J||Y===void 0&&J===void 0||Xd(e,n,re,Y,o,J);return}}for(var R in r)Y=r[R],r.hasOwnProperty(R)&&Y!=null&&!o.hasOwnProperty(R)&&vt(e,n,R,null,o,Y);for(de in o)Y=o[de],J=r[de],!o.hasOwnProperty(de)||Y===J||Y==null&&J==null||vt(e,n,de,Y,o,J)}function ux(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var d=r[o],h=d.transferSize,g=d.initiatorType,y=d.duration;if(h&&y&&ux(g)){for(g=0,y=d.responseEnd,o+=1;o<r.length;o++){var j=r[o],F=j.startTime;if(F>y)break;var re=j.transferSize,de=j.initiatorType;re&&ux(de)&&(j=j.responseEnd,g+=re*(j<y?1:(y-F)/(j-F)))}if(--o,n+=8*(h+g)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kd=null,Qd=null;function Yo(e){return e.nodeType===9?e:e.ownerDocument}function dx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fx(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Zd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jd=null;function xw(){var e=window.event;return e&&e.type==="popstate"?e===Jd?!1:(Jd=e,!0):(Jd=null,!1)}var hx=typeof setTimeout=="function"?setTimeout:void 0,gw=typeof clearTimeout=="function"?clearTimeout:void 0,mx=typeof Promise=="function"?Promise:void 0,bw=typeof queueMicrotask=="function"?queueMicrotask:typeof mx<"u"?function(e){return mx.resolve(null).then(e).catch(vw)}:hx;function vw(e){setTimeout(function(){throw e})}function sa(e){return e==="head"}function px(e,n){var r=n,o=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(d),Gi(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Zr(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Zr(r);for(var h=r.firstChild;h;){var g=h.nextSibling,y=h.nodeName;h[xr]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=g}}else r==="body"&&Zr(e.ownerDocument.body);r=d}while(r);Gi(n)}function xx(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function ef(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ef(r),iu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function yw(e,n,r,o){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[xr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function ww(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Gn(e.nextSibling),e===null))return null;return e}function gx(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gn(e.nextSibling),e===null))return null;return e}function tf(e){return e.data==="$?"||e.data==="$~"}function nf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _w(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Gn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var sf=null;function bx(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Gn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function vx(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function yx(e,n,r){switch(n=Yo(r),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Zr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);iu(e)}var Hn=new Map,wx=new Set;function $o(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Es=$.d;$.d={f:Nw,r:jw,D:Sw,C:kw,L:Ew,m:Cw,X:Aw,S:Tw,M:Rw};function Nw(){var e=Es.f(),n=Lo();return e||n}function jw(e){var n=li(e);n!==null&&n.tag===5&&n.type==="form"?U0(n):Es.r(e)}var Fi=typeof document>"u"?null:document;function _x(e,n,r){var o=Fi;if(o&&typeof n=="string"&&n){var d=On(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),wx.has(d)||(wx.add(d),e={rel:e,crossOrigin:r,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),an(n,"link",e),Kt(n),o.head.appendChild(n)))}}function Sw(e){Es.D(e),_x("dns-prefetch",e,null)}function kw(e,n){Es.C(e,n),_x("preconnect",e,n)}function Ew(e,n,r){Es.L(e,n,r);var o=Fi;if(o&&e&&n){var d='link[rel="preload"][as="'+On(n)+'"]';n==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+On(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+On(r.imageSizes)+'"]')):d+='[href="'+On(e)+'"]';var h=d;switch(n){case"style":h=Pi(e);break;case"script":h=Bi(e)}Hn.has(h)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Hn.set(h,e),o.querySelector(d)!==null||n==="style"&&o.querySelector(Jr(h))||n==="script"&&o.querySelector(el(h))||(n=o.createElement("link"),an(n,"link",e),Kt(n),o.head.appendChild(n)))}}function Cw(e,n){Es.m(e,n);var r=Fi;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+On(o)+'"][href="'+On(e)+'"]',h=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Bi(e)}if(!Hn.has(h)&&(e=w({rel:"modulepreload",href:e},n),Hn.set(h,e),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(el(h)))return}o=r.createElement("link"),an(o,"link",e),Kt(o),r.head.appendChild(o)}}}function Tw(e,n,r){Es.S(e,n,r);var o=Fi;if(o&&e){var d=oi(o).hoistableStyles,h=Pi(e);n=n||"default";var g=d.get(h);if(!g){var y={loading:0,preload:null};if(g=o.querySelector(Jr(h)))y.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Hn.get(h))&&af(e,r);var j=g=o.createElement("link");Kt(j),an(j,"link",e),j._p=new Promise(function(F,re){j.onload=F,j.onerror=re}),j.addEventListener("load",function(){y.loading|=1}),j.addEventListener("error",function(){y.loading|=2}),y.loading|=4,qo(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:y},d.set(h,g)}}}function Aw(e,n){Es.X(e,n);var r=Fi;if(r&&e){var o=oi(r).hoistableScripts,d=Bi(e),h=o.get(d);h||(h=r.querySelector(el(d)),h||(e=w({src:e,async:!0},n),(n=Hn.get(d))&&rf(e,n),h=r.createElement("script"),Kt(h),an(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function Rw(e,n){Es.M(e,n);var r=Fi;if(r&&e){var o=oi(r).hoistableScripts,d=Bi(e),h=o.get(d);h||(h=r.querySelector(el(d)),h||(e=w({src:e,async:!0,type:"module"},n),(n=Hn.get(d))&&rf(e,n),h=r.createElement("script"),Kt(h),an(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function Nx(e,n,r,o){var d=(d=A.current)?$o(d):null;if(!d)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Pi(r.href),r=oi(d).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Pi(r.href);var h=oi(d).hoistableStyles,g=h.get(e);if(g||(d=d.ownerDocument||d,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,g),(h=d.querySelector(Jr(e)))&&!h._p&&(g.instance=h,g.state.loading=5),Hn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hn.set(e,r),h||Iw(d,e,r,g.state))),n&&o===null)throw Error(l(528,""));return g}if(n&&o!==null)throw Error(l(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Bi(r),r=oi(d).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Pi(e){return'href="'+On(e)+'"'}function Jr(e){return'link[rel="stylesheet"]['+e+"]"}function jx(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Iw(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",r),Kt(n),e.head.appendChild(n))}function Bi(e){return'[src="'+On(e)+'"]'}function el(e){return"script[async]"+e}function Sx(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+On(r.href)+'"]');if(o)return n.instance=o,Kt(o),o;var d=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Kt(o),an(o,"style",d),qo(o,r.precedence,e),n.instance=o;case"stylesheet":d=Pi(r.href);var h=e.querySelector(Jr(d));if(h)return n.state.loading|=4,n.instance=h,Kt(h),h;o=jx(r),(d=Hn.get(d))&&af(o,d),h=(e.ownerDocument||e).createElement("link"),Kt(h);var g=h;return g._p=new Promise(function(y,j){g.onload=y,g.onerror=j}),an(h,"link",o),n.state.loading|=4,qo(h,r.precedence,e),n.instance=h;case"script":return h=Bi(r.src),(d=e.querySelector(el(h)))?(n.instance=d,Kt(d),d):(o=r,(d=Hn.get(h))&&(o=w({},r),rf(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),Kt(d),an(d,"link",o),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,qo(o,r.precedence,e));return n.instance}function qo(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,h=d,g=0;g<o.length;g++){var y=o[g];if(y.dataset.precedence===n)h=y;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function af(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Wo=null;function kx(e,n,r){if(Wo===null){var o=new Map,d=Wo=new Map;d.set(r,o)}else d=Wo,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var h=r[d];if(!(h[xr]||h[Le]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=e+g;var y=o.get(g);y?y.push(h):o.set(g,[h])}}return o}function Ex(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function zw(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Mw(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Pi(o.href),h=n.querySelector(Jr(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Xo.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=h,Kt(h);return}h=n.ownerDocument||n,o=jx(o),(d=Hn.get(d))&&af(o,d),h=h.createElement("link"),Kt(h);var g=h;g._p=new Promise(function(y,j){g.onload=y,g.onerror=j}),an(h,"link",o),r.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Xo.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var lf=0;function Ow(e,n){return e.stylesheets&&e.count===0&&Qo(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Qo(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&lf===0&&(lf=62500*pw());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qo(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>lf?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function Xo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ko=null;function Qo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ko=new Map,n.forEach(Dw,e),Ko=null,Xo.call(e))}function Dw(e,n){if(!(n.state.loading&4)){var r=Ko.get(e);if(r)var o=r.get(null);else{r=new Map,Ko.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var g=d[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}d=n.instance,g=d.getAttribute("data-precedence"),h=r.get(g)||o,h===o&&r.set(null,d),r.set(g,d),this.count++,o=Xo.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var tl={$$typeof:te,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Lw(e,n,r,o,d,h,g,y,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.hiddenUpdates=jt(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Tx(e,n,r,o,d,h,g,y,j,F,re,de){return e=new Lw(e,n,r,g,j,F,re,de,y),n=1,h===!0&&(n|=24),h=Sn(3,null,null,n),e.current=h,h.stateNode=e,n=Fu(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:o,isDehydrated:r,cache:n},Hu(h),e}function Ax(e){return e?(e=bi,e):bi}function Rx(e,n,r,o,d,h){d=Ax(d),o.context===null?o.context=d:o.pendingContext=d,o=$s(n),o.payload={element:r},h=h===void 0?null:h,h!==null&&(o.callback=h),r=qs(e,o,n),r!==null&&(yn(r,e,n),zr(r,e,n))}function Ix(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function of(e,n){Ix(e,n),(e=e.alternate)&&Ix(e,n)}function zx(e){if(e.tag===13||e.tag===31){var n=Ra(e,67108864);n!==null&&yn(n,e,67108864),of(e,67108864)}}function Mx(e){if(e.tag===13||e.tag===31){var n=An();n=Et(n);var r=Ra(e,n);r!==null&&yn(r,e,n),of(e,n)}}var Zo=!0;function Uw(e,n,r,o){var d=S.T;S.T=null;var h=$.p;try{$.p=2,cf(e,n,r,o)}finally{$.p=h,S.T=d}}function Fw(e,n,r,o){var d=S.T;S.T=null;var h=$.p;try{$.p=8,cf(e,n,r,o)}finally{$.p=h,S.T=d}}function cf(e,n,r,o){if(Zo){var d=uf(o);if(d===null)Wd(e,n,o,Jo,r),Dx(e,o);else if(Bw(d,e,n,r,o))o.stopPropagation();else if(Dx(e,o),n&4&&-1<Pw.indexOf(e)){for(;d!==null;){var h=li(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=In(h.pendingLanes);if(g!==0){var y=h;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var j=1<<31-mt(g);y.entanglements[1]|=j,g&=~j}as(h),(ht&6)===0&&(Oo=ce()+500,Xr(0))}}break;case 31:case 13:y=Ra(h,2),y!==null&&yn(y,h,2),Lo(),of(h,2)}if(h=uf(o),h===null&&Wd(e,n,o,Jo,r),h===d)break;d=h}d!==null&&o.stopPropagation()}else Wd(e,n,o,null,r)}}function uf(e){return e=du(e),df(e)}var Jo=null;function df(e){if(Jo=null,e=ri(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=f(n),e!==null)return e;e=null}else if(r===31){if(e=m(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Jo=e,null}function Ox(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case Re:return 2;case Ae:return 8;case Oe:case Ve:return 32;case it:return 268435456;default:return 32}default:return 32}}var ff=!1,aa=null,ia=null,ra=null,nl=new Map,sl=new Map,la=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dx(e,n){switch(e){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(n.pointerId)}}function al(e,n,r,o,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},n!==null&&(n=li(n),n!==null&&zx(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Bw(e,n,r,o,d){switch(n){case"focusin":return aa=al(aa,e,n,r,o,d),!0;case"dragenter":return ia=al(ia,e,n,r,o,d),!0;case"mouseover":return ra=al(ra,e,n,r,o,d),!0;case"pointerover":var h=d.pointerId;return nl.set(h,al(nl.get(h)||null,e,n,r,o,d)),!0;case"gotpointercapture":return h=d.pointerId,sl.set(h,al(sl.get(h)||null,e,n,r,o,d)),!0}return!1}function Lx(e){var n=ri(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){e.blockedOn=n,pr(e.priority,function(){Mx(r)});return}}else if(n===31){if(n=m(r),n!==null){e.blockedOn=n,pr(e.priority,function(){Mx(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=uf(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);uu=o,r.target.dispatchEvent(o),uu=null}else return n=li(r),n!==null&&zx(n),e.blockedOn=r,!1;n.shift()}return!0}function Ux(e,n,r){ec(e)&&r.delete(n)}function Gw(){ff=!1,aa!==null&&ec(aa)&&(aa=null),ia!==null&&ec(ia)&&(ia=null),ra!==null&&ec(ra)&&(ra=null),nl.forEach(Ux),sl.forEach(Ux)}function tc(e,n){e.blockedOn===n&&(e.blockedOn=null,ff||(ff=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Gw)))}var nc=null;function Fx(e){nc!==e&&(nc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],d=e[n+2];if(typeof o!="function"){if(df(o||r)===null)continue;break}var h=li(r);h!==null&&(e.splice(n,3),n-=3,cd(h,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function Gi(e){function n(j){return tc(j,e)}aa!==null&&tc(aa,e),ia!==null&&tc(ia,e),ra!==null&&tc(ra,e),nl.forEach(n),sl.forEach(n);for(var r=0;r<la.length;r++){var o=la[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<la.length&&(r=la[0],r.blockedOn===null);)Lx(r),r.blockedOn===null&&la.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],h=r[o+1],g=d[Xt]||null;if(typeof h=="function")g||Fx(r);else if(g){var y=null;if(h&&h.hasAttribute("formAction")){if(d=h,g=h[Xt]||null)y=g.formAction;else if(df(d)!==null)continue}else y=g.action;typeof y=="function"?r[o+1]=y:(r.splice(o,3),o-=3),Fx(r)}}}function Px(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return d=g})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function hf(e){this._internalRoot=e}sc.prototype.render=hf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var r=n.current,o=An();Rx(r,o,e,n,null,null)},sc.prototype.unmount=hf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Rx(e.current,2,null,e,null,null),Lo(),n[Fs]=null}};function sc(e){this._internalRoot=e}sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=un();e={blockedOn:null,target:e,priority:n};for(var r=0;r<la.length&&n!==0&&n<la[r].priority;r++);la.splice(r,0,e),r===0&&Lx(e)}};var Bx=t.version;if(Bx!=="19.2.4")throw Error(l(527,Bx,"19.2.4"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=x(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Hw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{rt=ac.inject(Hw),Ye=ac}catch{}}return rl.createRoot=function(e,n){if(!c(e))throw Error(l(299));var r=!1,o="",d=W0,h=X0,g=K0;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Tx(e,1,!1,null,null,r,o,null,d,h,g,Px),e[Fs]=n.current,qd(e),new hf(n)},rl.hydrateRoot=function(e,n,r){if(!c(e))throw Error(l(299));var o=!1,d="",h=W0,g=X0,y=K0,j=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError),r.formState!==void 0&&(j=r.formState)),n=Tx(e,1,!0,n,r??null,o,d,j,h,g,y,Px),n.context=Ax(null),r=n.current,o=An(),o=Et(o),d=$s(o),d.callback=null,qs(r,d,o),r=o,n.current.lanes=r,ft(n,r),as(n),e[Fs]=n.current,qd(e),new sc(n)},rl.version="19.2.4",rl}var Qx;function e_(){if(Qx)return xf.exports;Qx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),xf.exports=Jw(),xf.exports}var t_=e_();const n_=gb(t_),s_=()=>{};var Zx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se=function(i,t){if(!i)throw ir(t)},ir=function(i){return new Error("Firebase Database ("+bb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=function(i){const t=[];let a=0;for(let l=0;l<i.length;l++){let c=i.charCodeAt(l);c<128?t[a++]=c:c<2048?(t[a++]=c>>6|192,t[a++]=c&63|128):(c&64512)===55296&&l+1<i.length&&(i.charCodeAt(l+1)&64512)===56320?(c=65536+((c&1023)<<10)+(i.charCodeAt(++l)&1023),t[a++]=c>>18|240,t[a++]=c>>12&63|128,t[a++]=c>>6&63|128,t[a++]=c&63|128):(t[a++]=c>>12|224,t[a++]=c>>6&63|128,t[a++]=c&63|128)}return t},a_=function(i){const t=[];let a=0,l=0;for(;a<i.length;){const c=i[a++];if(c<128)t[l++]=String.fromCharCode(c);else if(c>191&&c<224){const u=i[a++];t[l++]=String.fromCharCode((c&31)<<6|u&63)}else if(c>239&&c<365){const u=i[a++],f=i[a++],m=i[a++],p=((c&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[l++]=String.fromCharCode(55296+(p>>10)),t[l++]=String.fromCharCode(56320+(p&1023))}else{const u=i[a++],f=i[a++];t[l++]=String.fromCharCode((c&15)<<12|(u&63)<<6|f&63)}}return t.join("")},ih={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let c=0;c<i.length;c+=3){const u=i[c],f=c+1<i.length,m=f?i[c+1]:0,p=c+2<i.length,x=p?i[c+2]:0,v=u>>2,w=(u&3)<<4|m>>4;let N=(m&15)<<2|x>>6,k=x&63;p||(k=64,f||(N=64)),l.push(a[v],a[w],a[N],a[k])}return l.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(vb(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):a_(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let c=0;c<i.length;){const u=a[i.charAt(c++)],m=c<i.length?a[i.charAt(c)]:0;++c;const x=c<i.length?a[i.charAt(c)]:64;++c;const w=c<i.length?a[i.charAt(c)]:64;if(++c,u==null||m==null||x==null||w==null)throw new i_;const N=u<<2|m>>4;if(l.push(N),x!==64){const k=m<<4&240|x>>2;if(l.push(k),w!==64){const M=x<<6&192|w;l.push(M)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class i_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yb=function(i){const t=vb(i);return ih.encodeByteArray(t,!0)},pc=function(i){return yb(i).replace(/\./g,"")},xc=function(i){try{return ih.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(i){return wb(void 0,i)}function wb(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const a=t;return new Date(a.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const a in t)!t.hasOwnProperty(a)||!l_(a)||(i[a]=wb(i[a],t[a]));return i}function l_(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=()=>o_().__FIREBASE_DEFAULTS__,u_=()=>{if(typeof process>"u"||typeof Zx>"u")return;const i=Zx.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},d_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&xc(i[1]);return t&&JSON.parse(t)},rh=()=>{try{return s_()||c_()||u_()||d_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_b=i=>{var t,a;return(a=(t=rh())==null?void 0:t.emulatorHosts)==null?void 0:a[i]},f_=i=>{const t=_b(i);if(!t)return;const a=t.lastIndexOf(":");if(a<=0||a+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(a+1),10);return t[0]==="["?[t.substring(1,a-1),l]:[t.substring(0,a),l]},Nb=()=>{var i;return(i=rh())==null?void 0:i.config},jb=i=>{var t;return(t=rh())==null?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,a)=>{this.resolve=t,this.reject=a})}wrapCallback(t){return(a,l)=>{a?this.reject(a):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(a):t(a,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sb(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},l=t||"demo-project",c=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${l}`,aud:l,iat:c,exp:c+3600,auth_time:c,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[pc(JSON.stringify(a)),pc(JSON.stringify(f)),""].join(".")}const ml={};function m_(){const i={prod:[],emulator:[]};for(const t of Object.keys(ml))ml[t]?i.emulator.push(t):i.prod.push(t);return i}function p_(i){let t=document.getElementById(i),a=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),a=!0),{created:a,element:t}}let Jx=!1;function kb(i,t){if(typeof window>"u"||typeof document>"u"||!rr(window.location.host)||ml[i]===t||ml[i]||Jx)return;ml[i]=t;function a(N){return`__firebase__banner__${N}`}const l="__firebase__banner",u=m_().prod.length>0;function f(){const N=document.getElementById(l);N&&N.remove()}function m(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,k){N.setAttribute("width","24"),N.setAttribute("id",k),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function x(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Jx=!0,f()},N}function v(N,k){N.setAttribute("id",k),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function w(){const N=p_(l),k=a("text"),M=document.getElementById(k)||document.createElement("span"),L=a("learnmore"),O=document.getElementById(L)||document.createElement("a"),D=a("preprendIcon"),W=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const te=N.element;m(te),v(O,L);const he=x();p(W,D),te.append(W,M,O,he),document.body.appendChild(te)}u?(M.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function x_(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g_(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Eb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b_(){const i=mn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function v_(){return bb.NODE_ADMIN===!0}function y_(){try{return typeof indexedDB=="object"}catch{return!1}}function w_(){return new Promise((i,t)=>{try{let a=!0;const l="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(l);c.onsuccess=()=>{c.result.close(),a||self.indexedDB.deleteDatabase(l),i(!0)},c.onupgradeneeded=()=>{a=!1},c.onerror=()=>{var u;t(((u=c.error)==null?void 0:u.message)||"")}}catch(a){t(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="FirebaseError";class ja extends Error{constructor(t,a,l){super(a),this.code=t,this.customData=l,this.name=__,Object.setPrototypeOf(this,ja.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,a,l){this.service=t,this.serviceName=a,this.errors=l}create(t,...a){const l=a[0]||{},c=`${this.service}/${t}`,u=this.errors[t],f=u?N_(u,l):"Error",m=`${this.serviceName}: ${f} (${c}).`;return new ja(c,m,l)}}function N_(i,t){return i.replace(j_,(a,l)=>{const c=t[l];return c!=null?String(c):`<${l}?>`})}const j_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(i){return JSON.parse(i)}function Wt(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=function(i){let t={},a={},l={},c="";try{const u=i.split(".");t=wl(xc(u[0])||""),a=wl(xc(u[1])||""),c=u[2],l=a.d||{},delete a.d}catch{}return{header:t,claims:a,data:l,signature:c}},S_=function(i){const t=Cb(i),a=t.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},k_=function(i){const t=Cb(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Zi(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function Df(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function gc(i,t,a){const l={};for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&(l[c]=t.call(a,i[c],c,i));return l}function Xa(i,t){if(i===t)return!0;const a=Object.keys(i),l=Object.keys(t);for(const c of a){if(!l.includes(c))return!1;const u=i[c],f=t[c];if(eg(u)&&eg(f)){if(!Xa(u,f))return!1}else if(u!==f)return!1}for(const c of l)if(!a.includes(c))return!1;return!0}function eg(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(i){const t=[];for(const[a,l]of Object.entries(i))Array.isArray(l)?l.forEach(c=>{t.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}):t.push(encodeURIComponent(a)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}function fl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(l=>{if(l){const[c,u]=l.split("=");t[decodeURIComponent(c)]=decodeURIComponent(u)}}),t}function hl(i){const t=i.indexOf("?");if(!t)return"";const a=i.indexOf("#",t);return i.substring(t,a>0?a:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,a){a||(a=0);const l=this.W_;if(typeof t=="string")for(let w=0;w<16;w++)l[w]=t.charCodeAt(a)<<24|t.charCodeAt(a+1)<<16|t.charCodeAt(a+2)<<8|t.charCodeAt(a+3),a+=4;else for(let w=0;w<16;w++)l[w]=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3],a+=4;for(let w=16;w<80;w++){const N=l[w-3]^l[w-8]^l[w-14]^l[w-16];l[w]=(N<<1|N>>>31)&4294967295}let c=this.chain_[0],u=this.chain_[1],f=this.chain_[2],m=this.chain_[3],p=this.chain_[4],x,v;for(let w=0;w<80;w++){w<40?w<20?(x=m^u&(f^m),v=1518500249):(x=u^f^m,v=1859775393):w<60?(x=u&f|m&(u|f),v=2400959708):(x=u^f^m,v=3395469782);const N=(c<<5|c>>>27)+x+p+v+l[w]&4294967295;p=m,m=f,f=(u<<30|u>>>2)&4294967295,u=c,c=N}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,a){if(t==null)return;a===void 0&&(a=t.length);const l=a-this.blockSize;let c=0;const u=this.buf_;let f=this.inbuf_;for(;c<a;){if(f===0)for(;c<=l;)this.compress_(t,c),c+=this.blockSize;if(typeof t=="string"){for(;c<a;)if(u[f]=t.charCodeAt(c),++f,++c,f===this.blockSize){this.compress_(u),f=0;break}}else for(;c<a;)if(u[f]=t[c],++f,++c,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=a}digest(){const t=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=a&255,a/=256;this.compress_(this.buf_);let l=0;for(let c=0;c<5;c++)for(let u=24;u>=0;u-=8)t[l]=this.chain_[c]>>u&255,++l;return t}}function C_(i,t){const a=new T_(i,t);return a.subscribe.bind(a)}class T_{constructor(t,a){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=a,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(a=>{a.next(t)})}error(t){this.forEachObserver(a=>{a.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,a,l){let c;if(t===void 0&&a===void 0&&l===void 0)throw new Error("Missing Observer.");A_(t,["next","error","complete"])?c=t:c={next:t,error:a,complete:l},c.next===void 0&&(c.next=yf),c.error===void 0&&(c.error=yf),c.complete===void 0&&(c.complete=yf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,t)}sendOne(t,a){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{a(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A_(i,t){if(typeof i!="object"||i===null)return!1;for(const a of t)if(a in i&&typeof i[a]=="function")return!0;return!1}function yf(){}function Pc(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=function(i){const t=[];let a=0;for(let l=0;l<i.length;l++){let c=i.charCodeAt(l);if(c>=55296&&c<=56319){const u=c-55296;l++,Se(l<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(l)-56320;c=65536+(u<<10)+f}c<128?t[a++]=c:c<2048?(t[a++]=c>>6|192,t[a++]=c&63|128):c<65536?(t[a++]=c>>12|224,t[a++]=c>>6&63|128,t[a++]=c&63|128):(t[a++]=c>>18|240,t[a++]=c>>12&63|128,t[a++]=c>>6&63|128,t[a++]=c&63|128)}return t},Bc=function(i){let t=0;for(let a=0;a<i.length;a++){const l=i.charCodeAt(a);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,a++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(i){return i&&i._delegate?i._delegate:i}class Ka{constructor(t,a,l){this.name=t,this.instanceFactory=a,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(t,a){this.name=t,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const a=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(a)){const l=new Ml;if(this.instancesDeferred.set(a,l),this.isInitialized(a)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:a});c&&l.resolve(c)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(t){const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(t==null?void 0:t.optional)??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(M_(t))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);try{const u=this.getOrInitializeService({instanceIdentifier:c});l.resolve(u)}catch{}}}}clearInstance(t=Va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...t.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Va){return this.instances.has(t)}getOptions(t=Va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:a={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:l,options:a});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);l===m&&f.resolve(c)}return c}onInit(t,a){const l=this.normalizeInstanceIdentifier(a),c=this.onInitCallbacks.get(l)??new Set;c.add(t),this.onInitCallbacks.set(l,c);const u=this.instances.get(l);return u&&t(u,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,a){const l=this.onInitCallbacks.get(a);if(l)for(const c of l)try{c(t,a)}catch{}}getOrInitializeService({instanceIdentifier:t,options:a={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:z_(t),options:a}),this.instances.set(t,l),this.instancesOptions.set(t,a),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=Va){return this.component?this.component.multipleInstances?t:Va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z_(i){return i===Va?void 0:i}function M_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const a=this.getProvider(t.name);if(a.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);a.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const a=new I_(t,this);return this.providers.set(t,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(wt||(wt={}));const D_={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},L_=wt.INFO,U_={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},F_=(i,t,...a)=>{if(t<i.logLevel)return;const l=new Date().toISOString(),c=U_[t];if(c)console[c](`[${l}]  ${i.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class oh{constructor(t){this.name=t,this._logLevel=L_,this._logHandler=F_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?D_[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...t),this._logHandler(this,wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...t),this._logHandler(this,wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...t),this._logHandler(this,wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...t),this._logHandler(this,wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...t),this._logHandler(this,wt.ERROR,...t)}}const P_=(i,t)=>t.some(a=>i instanceof a);let tg,ng;function B_(){return tg||(tg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G_(){return ng||(ng=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tb=new WeakMap,Lf=new WeakMap,Ab=new WeakMap,wf=new WeakMap,ch=new WeakMap;function H_(i){const t=new Promise((a,l)=>{const c=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{a(ga(i.result)),c()},f=()=>{l(i.error),c()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(a=>{a instanceof IDBCursor&&Tb.set(a,i)}).catch(()=>{}),ch.set(t,i),t}function V_(i){if(Lf.has(i))return;const t=new Promise((a,l)=>{const c=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{a(),c()},f=()=>{l(i.error||new DOMException("AbortError","AbortError")),c()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Lf.set(i,t)}let Uf={get(i,t,a){if(i instanceof IDBTransaction){if(t==="done")return Lf.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Ab.get(i);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ga(i[t])},set(i,t,a){return i[t]=a,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Y_(i){Uf=i(Uf)}function $_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...a){const l=i.call(_f(this),t,...a);return Ab.set(l,t.sort?t.sort():[t]),ga(l)}:G_().includes(i)?function(...t){return i.apply(_f(this),t),ga(Tb.get(this))}:function(...t){return ga(i.apply(_f(this),t))}}function q_(i){return typeof i=="function"?$_(i):(i instanceof IDBTransaction&&V_(i),P_(i,B_())?new Proxy(i,Uf):i)}function ga(i){if(i instanceof IDBRequest)return H_(i);if(wf.has(i))return wf.get(i);const t=q_(i);return t!==i&&(wf.set(i,t),ch.set(t,i)),t}const _f=i=>ch.get(i);function W_(i,t,{blocked:a,upgrade:l,blocking:c,terminated:u}={}){const f=indexedDB.open(i,t),m=ga(f);return l&&f.addEventListener("upgradeneeded",p=>{l(ga(f.result),p.oldVersion,p.newVersion,ga(f.transaction),p)}),a&&f.addEventListener("blocked",p=>a(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),c&&p.addEventListener("versionchange",x=>c(x.oldVersion,x.newVersion,x))}).catch(()=>{}),m}const X_=["get","getKey","getAll","getAllKeys","count"],K_=["put","add","delete","clear"],Nf=new Map;function sg(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Nf.get(t))return Nf.get(t);const a=t.replace(/FromIndex$/,""),l=t!==a,c=K_.includes(a);if(!(a in(l?IDBIndex:IDBObjectStore).prototype)||!(c||X_.includes(a)))return;const u=async function(f,...m){const p=this.transaction(f,c?"readwrite":"readonly");let x=p.store;return l&&(x=x.index(m.shift())),(await Promise.all([x[a](...m),c&&p.done]))[0]};return Nf.set(t,u),u}Y_(i=>({...i,get:(t,a,l)=>sg(t,a)||i.get(t,a,l),has:(t,a)=>!!sg(t,a)||i.has(t,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(Z_(a)){const l=a.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(a=>a).join(" ")}}function Z_(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ff="@firebase/app",ag="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new oh("@firebase/app"),J_="@firebase/app-compat",eN="@firebase/analytics-compat",tN="@firebase/analytics",nN="@firebase/app-check-compat",sN="@firebase/app-check",aN="@firebase/auth",iN="@firebase/auth-compat",rN="@firebase/database",lN="@firebase/data-connect",oN="@firebase/database-compat",cN="@firebase/functions",uN="@firebase/functions-compat",dN="@firebase/installations",fN="@firebase/installations-compat",hN="@firebase/messaging",mN="@firebase/messaging-compat",pN="@firebase/performance",xN="@firebase/performance-compat",gN="@firebase/remote-config",bN="@firebase/remote-config-compat",vN="@firebase/storage",yN="@firebase/storage-compat",wN="@firebase/firestore",_N="@firebase/ai",NN="@firebase/firestore-compat",jN="firebase",SN="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",kN={[Ff]:"fire-core",[J_]:"fire-core-compat",[tN]:"fire-analytics",[eN]:"fire-analytics-compat",[sN]:"fire-app-check",[nN]:"fire-app-check-compat",[aN]:"fire-auth",[iN]:"fire-auth-compat",[rN]:"fire-rtdb",[lN]:"fire-data-connect",[oN]:"fire-rtdb-compat",[cN]:"fire-fn",[uN]:"fire-fn-compat",[dN]:"fire-iid",[fN]:"fire-iid-compat",[hN]:"fire-fcm",[mN]:"fire-fcm-compat",[pN]:"fire-perf",[xN]:"fire-perf-compat",[gN]:"fire-rc",[bN]:"fire-rc-compat",[vN]:"fire-gcs",[yN]:"fire-gcs-compat",[wN]:"fire-fst",[NN]:"fire-fst-compat",[_N]:"fire-vertex","fire-js":"fire-js",[jN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,EN=new Map,Bf=new Map;function ig(i,t){try{i.container.addComponent(t)}catch(a){zs.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,a)}}function Ji(i){const t=i.name;if(Bf.has(t))return zs.debug(`There were multiple attempts to register component ${t}.`),!1;Bf.set(t,i);for(const a of bc.values())ig(a,i);for(const a of EN.values())ig(a,i);return!0}function uh(i,t){const a=i.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),i.container.getProvider(t)}function Vn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ba=new Ol("app","Firebase",CN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t,a,l){this._isDeleted=!1,this._options={...t},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new Ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=SN;function Rb(i,t={}){let a=i;typeof t!="object"&&(t={name:t});const l={name:Pf,automaticDataCollectionEnabled:!0,...t},c=l.name;if(typeof c!="string"||!c)throw ba.create("bad-app-name",{appName:String(c)});if(a||(a=Nb()),!a)throw ba.create("no-options");const u=bc.get(c);if(u){if(Xa(a,u.options)&&Xa(l,u.config))return u;throw ba.create("duplicate-app",{appName:c})}const f=new O_(c);for(const p of Bf.values())f.addComponent(p);const m=new TN(a,l,f);return bc.set(c,m),m}function Ib(i=Pf){const t=bc.get(i);if(!t&&i===Pf&&Nb())return Rb();if(!t)throw ba.create("no-app",{appName:i});return t}function qa(i,t,a){let l=kN[i]??i;a&&(l+=`-${a}`);const c=l.match(/\s|\//),u=t.match(/\s|\//);if(c||u){const f=[`Unable to register library "${l}" with version "${t}":`];c&&f.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zs.warn(f.join(" "));return}Ji(new Ka(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="firebase-heartbeat-database",RN=1,_l="firebase-heartbeat-store";let jf=null;function zb(){return jf||(jf=W_(AN,RN,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(_l)}catch(a){console.warn(a)}}}}).catch(i=>{throw ba.create("idb-open",{originalErrorMessage:i.message})})),jf}async function IN(i){try{const a=(await zb()).transaction(_l),l=await a.objectStore(_l).get(Mb(i));return await a.done,l}catch(t){if(t instanceof ja)zs.warn(t.message);else{const a=ba.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zs.warn(a.message)}}}async function rg(i,t){try{const l=(await zb()).transaction(_l,"readwrite");await l.objectStore(_l).put(t,Mb(i)),await l.done}catch(a){if(a instanceof ja)zs.warn(a.message);else{const l=ba.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});zs.warn(l.message)}}}function Mb(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=1024,MN=30;class ON{constructor(t){this.container=t,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new LN(a),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){var t,a;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=lg();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)==null?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:c}),this._heartbeatsCache.heartbeats.length>MN){const f=UN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(l){zs.warn(l)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=lg(),{heartbeatsToSend:l,unsentEntries:c}=DN(this._heartbeatsCache.heartbeats),u=pc(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=a,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(a){return zs.warn(a),""}}}function lg(){return new Date().toISOString().substring(0,10)}function DN(i,t=zN){const a=[];let l=i.slice();for(const c of i){const u=a.find(f=>f.agent===c.agent);if(u){if(u.dates.push(c.date),og(a)>t){u.dates.pop();break}}else if(a.push({agent:c.agent,dates:[c.date]}),og(a)>t){a.pop();break}l=l.slice(1)}return{heartbeatsToSend:a,unsentEntries:l}}class LN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y_()?w_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await IN(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return rg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return rg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function og(i){return pc(JSON.stringify({version:2,heartbeats:i})).length}function UN(i){if(i.length===0)return-1;let t=0,a=i[0].date;for(let l=1;l<i.length;l++)i[l].date<a&&(a=i[l].date,t=l);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(i){Ji(new Ka("platform-logger",t=>new Q_(t),"PRIVATE")),Ji(new Ka("heartbeat",t=>new ON(t),"PRIVATE")),qa(Ff,ag,i),qa(Ff,ag,"esm2020"),qa("fire-js","")}FN("");function Ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PN=Ob,Db=new Ol("auth","Firebase",Ob());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new oh("@firebase/auth");function BN(i,...t){vc.logLevel<=wt.WARN&&vc.warn(`Auth (${or}): ${i}`,...t)}function uc(i,...t){vc.logLevel<=wt.ERROR&&vc.error(`Auth (${or}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(i,...t){throw dh(i,...t)}function is(i,...t){return dh(i,...t)}function Lb(i,t,a){const l={...PN(),[t]:a};return new Ol("auth","Firebase",l).create(t,{appName:i.name})}function Rs(i){return Lb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dh(i,...t){if(typeof i!="string"){const a=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=i.name),i._errorFactory.create(a,...l)}return Db.create(i,...t)}function Pe(i,t,...a){if(!i)throw dh(t,...a)}function Cs(i){const t="INTERNAL ASSERTION FAILED: "+i;throw uc(t),new Error(t)}function Ms(i,t){i||Cs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function GN(){return cg()==="http:"||cg()==="https:"}function cg(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GN()||g_()||"connection"in navigator)?navigator.onLine:!0}function VN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,a){this.shortDelay=t,this.longDelay=a,Ms(a>t,"Short delay should be less than long delay!"),this.isMobile=lh()||Eb()}get(){return HN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(i,t){Ms(i.emulator,"Emulator should always be set here");const{url:a}=i.emulator;return t?`${a}${t.startsWith("/")?t.slice(1):t}`:a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{static initialize(t,a,l){this.fetchImpl=t,a&&(this.headersImpl=a),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qN=new Dl(3e4,6e4);function Ds(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function Ls(i,t,a,l,c={}){return Fb(i,c,async()=>{let u={},f={};l&&(t==="GET"?f=l:u={body:JSON.stringify(l)});const m=lr({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const x={method:t,headers:p,...u};return x_()||(x.referrerPolicy="no-referrer"),i.emulatorConfig&&rr(i.emulatorConfig.host)&&(x.credentials="include"),Ub.fetch()(await Pb(i,i.config.apiHost,a,m),x)})}async function Fb(i,t,a){i._canInitEmulator=!1;const l={...YN,...t};try{const c=new XN(i),u=await Promise.race([a(),c.promise]);c.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ic(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,x]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ic(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw ic(i,"user-disabled",f);const v=l[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw Lb(i,v,x);es(i,v)}}catch(c){if(c instanceof ja)throw c;es(i,"network-request-failed",{message:String(c)})}}async function Ll(i,t,a,l,c={}){const u=await Ls(i,t,a,l,c);return"mfaPendingCredential"in u&&es(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Pb(i,t,a,l){const c=`${t}${a}?${l}`,u=i,f=u.config.emulator?fh(i.config,c):`${i.config.apiScheme}://${c}`;return $N.includes(a)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function WN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((a,l)=>{this.timer=setTimeout(()=>l(is(this.auth,"network-request-failed")),qN.get())})}}function ic(i,t,a){const l={appName:i.name};a.email&&(l.email=a.email),a.phoneNumber&&(l.phoneNumber=a.phoneNumber);const c=is(i,t,l);return c.customData._tokenResponse=a,c}function ug(i){return i!==void 0&&i.enterprise!==void 0}class KN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const a of this.recaptchaEnforcementState)if(a.provider&&a.provider===t)return WN(a.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QN(i,t){return Ls(i,"GET","/v2/recaptchaConfig",Ds(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(i,t){return Ls(i,"POST","/v1/accounts:delete",t)}async function yc(i,t){return Ls(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JN(i,t=!1){const a=on(i),l=await a.getIdToken(t),c=hh(l);Pe(c&&c.exp&&c.auth_time&&c.iat,a.auth,"internal-error");const u=typeof c.firebase=="object"?c.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:c,token:l,authTime:pl(Sf(c.auth_time)),issuedAtTime:pl(Sf(c.iat)),expirationTime:pl(Sf(c.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Sf(i){return Number(i)*1e3}function hh(i){const[t,a,l]=i.split(".");if(t===void 0||a===void 0||l===void 0)return uc("JWT malformed, contained fewer than 3 sections"),null;try{const c=xc(a);return c?JSON.parse(c):(uc("Failed to decode base64 JWT payload"),null)}catch(c){return uc("Caught error parsing JWT payload as JSON",c==null?void 0:c.toString()),null}}function dg(i){const t=hh(i);return Pe(t,"internal-error"),Pe(typeof t.exp<"u","internal-error"),Pe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(i,t,a=!1){if(a)return t;try{return await t}catch(l){throw l instanceof ja&&ej(l)&&i.auth.currentUser===i&&await i.auth.signOut(),l}}function ej({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const a=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},a)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,a){this.createdAt=t,this.lastLoginAt=a,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(i){var w;const t=i.auth,a=await i.getIdToken(),l=await Nl(i,yc(t,{idToken:a}));Pe(l==null?void 0:l.users.length,t,"internal-error");const c=l.users[0];i._notifyReloadListener(c);const u=(w=c.providerUserInfo)!=null&&w.length?Bb(c.providerUserInfo):[],f=sj(i.providerData,u),m=i.isAnonymous,p=!(i.email&&c.passwordHash)&&!(f!=null&&f.length),x=m?p:!1,v={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new Hf(c.createdAt,c.lastLoginAt),isAnonymous:x};Object.assign(i,v)}async function nj(i){const t=on(i);await wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sj(i,t){return[...i.filter(l=>!t.some(c=>c.providerId===l.providerId)),...t]}function Bb(i){return i.map(({providerId:t,...a})=>({providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(i,t){const a=await Fb(i,{},async()=>{const l=lr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:c,apiKey:u}=i.config,f=await Pb(i,c,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:l};return i.emulatorConfig&&rr(i.emulatorConfig.host)&&(p.credentials="include"),Ub.fetch()(f,p)});return{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token}}async function ij(i,t){return Ls(i,"POST","/v2/accounts:revokeToken",Ds(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Pe(t.idToken,"internal-error"),Pe(typeof t.idToken<"u","internal-error"),Pe(typeof t.refreshToken<"u","internal-error");const a="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dg(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,a)}updateFromIdToken(t){Pe(t.length!==0,"internal-error");const a=dg(t);this.updateTokensAndExpiration(t,null,a)}async getToken(t,a=!1){return!a&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,a){const{accessToken:l,refreshToken:c,expiresIn:u}=await aj(t,a);this.updateTokensAndExpiration(l,c,Number(u))}updateTokensAndExpiration(t,a,l){this.refreshToken=a||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,a){const{refreshToken:l,accessToken:c,expirationTime:u}=a,f=new qi;return l&&(Pe(typeof l=="string","internal-error",{appName:t}),f.refreshToken=l),c&&(Pe(typeof c=="string","internal-error",{appName:t}),f.accessToken=c),u&&(Pe(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qi,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(i,t){Pe(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Qn{constructor({uid:t,auth:a,stsTokenManager:l,...c}){this.providerId="firebase",this.proactiveRefresh=new tj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Hf(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const a=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return Pe(a,this.auth,"internal-error"),this.accessToken!==a&&(this.accessToken=a,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),a}getIdTokenResult(t){return JN(this,t)}reload(){return nj(this)}_assign(t){this!==t&&(Pe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(a=>({...a})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const a=new Qn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return a.metadata._copy(this.metadata),a}_onReload(t){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,a=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),a&&await wc(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Rs(this.auth));const t=await this.getIdToken();return await Nl(this,ZN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,a){const l=a.displayName??void 0,c=a.email??void 0,u=a.phoneNumber??void 0,f=a.photoURL??void 0,m=a.tenantId??void 0,p=a._redirectEventId??void 0,x=a.createdAt??void 0,v=a.lastLoginAt??void 0,{uid:w,emailVerified:N,isAnonymous:k,providerData:M,stsTokenManager:L}=a;Pe(w&&L,t,"internal-error");const O=qi.fromJSON(this.name,L);Pe(typeof w=="string",t,"internal-error"),ca(l,t.name),ca(c,t.name),Pe(typeof N=="boolean",t,"internal-error"),Pe(typeof k=="boolean",t,"internal-error"),ca(u,t.name),ca(f,t.name),ca(m,t.name),ca(p,t.name),ca(x,t.name),ca(v,t.name);const D=new Qn({uid:w,auth:t,email:c,emailVerified:N,displayName:l,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:O,createdAt:x,lastLoginAt:v});return M&&Array.isArray(M)&&(D.providerData=M.map(W=>({...W}))),p&&(D._redirectEventId=p),D}static async _fromIdTokenResponse(t,a,l=!1){const c=new qi;c.updateFromServerResponse(a);const u=new Qn({uid:a.localId,auth:t,stsTokenManager:c,isAnonymous:l});return await wc(u),u}static async _fromGetAccountInfoResponse(t,a,l){const c=a.users[0];Pe(c.localId!==void 0,"internal-error");const u=c.providerUserInfo!==void 0?Bb(c.providerUserInfo):[],f=!(c.email&&c.passwordHash)&&!(u!=null&&u.length),m=new qi;m.updateFromIdToken(l);const p=new Qn({uid:c.localId,auth:t,stsTokenManager:m,isAnonymous:f}),x={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:u,metadata:new Hf(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,x),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new Map;function Ts(i){Ms(i instanceof Function,"Expected a class definition");let t=fg.get(i);return t?(Ms(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,fg.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,a){this.storage[t]=a}async _get(t){const a=this.storage[t];return a===void 0?null:a}async _remove(t){delete this.storage[t]}_addListener(t,a){}_removeListener(t,a){}}Gb.type="NONE";const hg=Gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(i,t,a){return`firebase:${i}:${t}:${a}`}class Wi{constructor(t,a,l){this.persistence=t,this.auth=a,this.userKey=l;const{config:c,name:u}=this.auth;this.fullUserKey=dc(this.userKey,c.apiKey,u),this.fullPersistenceKey=dc("persistence",c.apiKey,u),this.boundEventHandler=a._onStorageEvent.bind(a),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const a=await yc(this.auth,{idToken:t}).catch(()=>{});return a?Qn._fromGetAccountInfoResponse(this.auth,a,t):null}return Qn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const a=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,a)return this.setCurrentUser(a)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,a,l="authUser"){if(!a.length)return new Wi(Ts(hg),t,l);const c=(await Promise.all(a.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let u=c[0]||Ts(hg);const f=dc(l,t.config.apiKey,t.name);let m=null;for(const x of a)try{const v=await x._get(f);if(v){let w;if(typeof v=="string"){const N=await yc(t,{idToken:v}).catch(()=>{});if(!N)break;w=await Qn._fromGetAccountInfoResponse(t,N,v)}else w=Qn._fromJSON(t,v);x!==u&&(m=w),u=x;break}}catch{}const p=c.filter(x=>x._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Wi(u,t,l):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(a.map(async x=>{if(x!==u)try{await x._remove(f)}catch{}})),new Wi(u,t,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($b(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Wb(t))return"Blackberry";if(Xb(t))return"Webos";if(Vb(t))return"Safari";if((t.includes("chrome/")||Yb(t))&&!t.includes("edge/"))return"Chrome";if(qb(t))return"Android";{const a=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=i.match(a);if((l==null?void 0:l.length)===2)return l[1]}return"Other"}function Hb(i=mn()){return/firefox\//i.test(i)}function Vb(i=mn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Yb(i=mn()){return/crios\//i.test(i)}function $b(i=mn()){return/iemobile/i.test(i)}function qb(i=mn()){return/android/i.test(i)}function Wb(i=mn()){return/blackberry/i.test(i)}function Xb(i=mn()){return/webos/i.test(i)}function mh(i=mn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function rj(i=mn()){var t;return mh(i)&&!!((t=window.navigator)!=null&&t.standalone)}function lj(){return b_()&&document.documentMode===10}function Kb(i=mn()){return mh(i)||qb(i)||Xb(i)||Wb(i)||/windows phone/i.test(i)||$b(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(i,t=[]){let a;switch(i){case"Browser":a=mg(mn());break;case"Worker":a=`${mg(mn())}-${i}`;break;default:a=i}const l=t.length?t.join(","):"FirebaseCore-web";return`${a}/JsCore/${or}/${l}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,a){const l=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});l.onAbort=a,this.queue.push(l);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const a=[];try{for(const l of this.queue)await l(t),l.onAbort&&a.push(l.onAbort)}catch(l){a.reverse();for(const c of a)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l==null?void 0:l.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(i,t={}){return Ls(i,"GET","/v2/passwordPolicy",Ds(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=6;class dj{constructor(t){var l;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=a.minPasswordLength??uj,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((l=t.allowedNonAlphanumericCharacters)==null?void 0:l.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=a.meetsMinPasswordLength??!0),a.isValid&&(a.isValid=a.meetsMaxPasswordLength??!0),a.isValid&&(a.isValid=a.containsLowercaseLetter??!0),a.isValid&&(a.isValid=a.containsUppercaseLetter??!0),a.isValid&&(a.isValid=a.containsNumericCharacter??!0),a.isValid&&(a.isValid=a.containsNonAlphanumericCharacter??!0),a}validatePasswordLengthOptions(t,a){const l=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;l&&(a.meetsMinPasswordLength=t.length>=l),c&&(a.meetsMaxPasswordLength=t.length<=c)}validatePasswordCharacterOptions(t,a){this.updatePasswordCharacterOptionsStatuses(a,!1,!1,!1,!1);let l;for(let c=0;c<t.length;c++)l=t.charAt(c),this.updatePasswordCharacterOptionsStatuses(a,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,a,l,c,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=a)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(t,a,l,c){this.app=t,this.heartbeatServiceProvider=a,this.appCheckServiceProvider=l,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pg(this),this.idTokenSubscription=new pg(this),this.beforeStateQueue=new oj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,a){return a&&(this._popupRedirectResolver=Ts(a)),this._initializationPromise=this.queue(async()=>{var l,c,u;if(!this._deleted&&(this.persistenceManager=await Wi.create(this,t),(l=this._resolvePersistenceManagerAvailable)==null||l.call(this),!this._deleted)){if((c=this._popupRedirectResolver)!=null&&c._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(a),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const a=await yc(this,{idToken:t}),l=await Qn._fromGetAccountInfoResponse(this,a,t);await this.directlySetCurrentUser(l)}catch(a){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",a),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(Vn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let a=null;try{a=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return a}async reloadAndSetCurrentUserOrClear(t){try{await wc(t)}catch(a){if((a==null?void 0:a.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject(Rs(this));const a=t?on(t):null;return a&&Pe(a.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(a&&a._clone(this))}async _updateCurrentUser(t,a=!1){if(!this._deleted)return t&&Pe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),a||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const a=this._getPasswordPolicyInternal();return a.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):a.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cj(this),a=new dj(t);this.tenantId===null?this._projectPasswordPolicy=a:this._tenantPasswordPolicies[this.tenantId]=a}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,a,l){return this.registerStateListener(this.authStateSubscription,t,a,l)}beforeAuthStateChanged(t,a){return this.beforeStateQueue.pushCallback(t,a)}onIdTokenChanged(t,a,l){return this.registerStateListener(this.idTokenSubscription,t,a,l)}authStateReady(){return new Promise((t,a)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},a)}})}async revokeAccessToken(t){if(this.currentUser){const a=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:a};this.tenantId!=null&&(l.tenantId=this.tenantId),await ij(this,l)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,a){const l=await this.getOrInitRedirectPersistenceManager(a);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const a=t&&Ts(t)||this._popupRedirectResolver;Pe(a,this,"argument-error"),this.redirectPersistenceManager=await Wi.create(this,[Ts(a._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var a,l;return this._isInitialized&&await this.queue(async()=>{}),((a=this._currentUser)==null?void 0:a._redirectEventId)===t?this._currentUser:((l=this.redirectUser)==null?void 0:l._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var a;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((a=this.currentUser)==null?void 0:a.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,a,l,c){if(this._deleted)return()=>{};const u=typeof a=="function"?a:a.next.bind(a);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof a=="function"){const p=t.addObserver(a,l,c);return()=>{f=!0,p()}}else{const p=t.addObserver(a);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Qb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var c;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((c=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:c.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){var a;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((a=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getToken());return t!=null&&t.error&&BN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Sa(i){return on(i)}class pg{constructor(t){this.auth=t,this.observer=null,this.addObserver=C_(a=>this.observer=a)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hj(i){Gc=i}function Zb(i){return Gc.loadJS(i)}function mj(){return Gc.recaptchaEnterpriseScript}function pj(){return Gc.gapiScript}function xj(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class gj{constructor(){this.enterprise=new bj}ready(t){t()}execute(t,a){return Promise.resolve("token")}render(t,a){return""}}class bj{ready(t){t()}execute(t,a){return Promise.resolve("token")}render(t,a){return""}}const vj="recaptcha-enterprise",Jb="NO_RECAPTCHA";class yj{constructor(t){this.type=vj,this.auth=Sa(t)}async verify(t="verify",a=!1){async function l(u){if(!a){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{QN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const x=new KN(p);return u.tenantId==null?u._agentRecaptchaConfig=x:u._tenantRecaptchaConfigs[u.tenantId]=x,f(x.siteKey)}}).catch(p=>{m(p)})})}function c(u,f,m){const p=window.grecaptcha;ug(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(x=>{f(x)}).catch(()=>{f(Jb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gj().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{l(this.auth).then(m=>{if(!a&&ug(window.grecaptcha))c(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mj();p.length!==0&&(p+=m),Zb(p).then(()=>{c(m,u,f)}).catch(x=>{f(x)})}}).catch(m=>{f(m)})})}}async function xg(i,t,a,l=!1,c=!1){const u=new yj(i);let f;if(c)f=Jb;else try{f=await u.verify(a)}catch{f=await u.verify(a,!0)}const m={...t};if(a==="mfaSmsEnrollment"||a==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,x=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:x,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return l?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function _c(i,t,a,l,c){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await xg(i,t,a,a==="getOobCode");return l(i,f)}else return l(i,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${a} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await xg(i,t,a,a==="getOobCode");return l(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(i,t){const a=uh(i,"auth");if(a.isInitialized()){const c=a.getImmediate(),u=a.getOptions();if(Xa(u,t??{}))return c;es(c,"already-initialized")}return a.initialize({options:t})}function _j(i,t){const a=(t==null?void 0:t.persistence)||[],l=(Array.isArray(a)?a:[a]).map(Ts);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(l,t==null?void 0:t.popupRedirectResolver)}function Nj(i,t,a){const l=Sa(i);Pe(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const c=!1,u=ev(t),{host:f,port:m}=jj(t),p=m===null?"":`:${m}`,x={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!l._canInitEmulator){Pe(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),Pe(Xa(x,l.config.emulator)&&Xa(v,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=x,l.emulatorConfig=v,l.settings.appVerificationDisabledForTesting=!0,rr(f)?(Sb(`${u}//${f}${p}`),kb("Auth",!0)):Sj()}function ev(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function jj(i){const t=ev(i),a=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!a)return{host:"",port:null};const l=a[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(l);if(c){const u=c[1];return{host:u,port:gg(l.substr(u.length+1))}}else{const[u,f]=l.split(":");return{host:u,port:gg(f)}}}function gg(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function Sj(){function i(){const t=document.createElement("p"),a=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",a.position="fixed",a.width="100%",a.backgroundColor="#ffffff",a.border=".1em solid #000000",a.color="#b50000",a.bottom="0px",a.left="0px",a.margin="0px",a.zIndex="10000",a.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,a){this.providerId=t,this.signInMethod=a}toJSON(){return Cs("not implemented")}_getIdTokenResponse(t){return Cs("not implemented")}_linkToIdToken(t,a){return Cs("not implemented")}_getReauthenticationResolver(t){return Cs("not implemented")}}async function kj(i,t){return Ls(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(i,t){return Ll(i,"POST","/v1/accounts:signInWithPassword",Ds(i,t))}async function tv(i,t){return Ls(i,"POST","/v1/accounts:sendOobCode",Ds(i,t))}async function Cj(i,t){return tv(i,t)}async function Tj(i,t){return tv(i,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(i,t){return Ll(i,"POST","/v1/accounts:signInWithEmailLink",Ds(i,t))}async function Rj(i,t){return Ll(i,"POST","/v1/accounts:signInWithEmailLink",Ds(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends ph{constructor(t,a,l,c=null){super("password",l),this._email=t,this._password=a,this._tenantId=c}static _fromEmailAndPassword(t,a){return new jl(t,a,"password")}static _fromEmailAndCode(t,a,l=null){return new jl(t,a,"emailLink",l)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const a=typeof t=="string"?JSON.parse(t):t;if(a!=null&&a.email&&(a!=null&&a.password)){if(a.signInMethod==="password")return this._fromEmailAndPassword(a.email,a.password);if(a.signInMethod==="emailLink")return this._fromEmailAndCode(a.email,a.password,a.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const a={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _c(t,a,"signInWithPassword",Ej);case"emailLink":return Aj(t,{email:this._email,oobCode:this._password});default:es(t,"internal-error")}}async _linkToIdToken(t,a){switch(this.signInMethod){case"password":const l={idToken:a,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _c(t,l,"signUpPassword",kj);case"emailLink":return Rj(t,{idToken:a,email:this._email,oobCode:this._password});default:es(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xi(i,t){return Ll(i,"POST","/v1/accounts:signInWithIdp",Ds(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="http://localhost";class Qa extends ph{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const a=new Qa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(a.idToken=t.idToken),t.accessToken&&(a.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(a.nonce=t.nonce),t.pendingToken&&(a.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(a.accessToken=t.oauthToken,a.secret=t.oauthTokenSecret):es("argument-error"),a}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const a=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:c,...u}=a;if(!l||!c)return null;const f=new Qa(l,c);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const a=this.buildRequest();return Xi(t,a)}_linkToIdToken(t,a){const l=this.buildRequest();return l.idToken=a,Xi(t,l)}_getReauthenticationResolver(t){const a=this.buildRequest();return a.autoCreate=!1,Xi(t,a)}buildRequest(){const t={requestUri:Ij,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const a={};this.idToken&&(a.id_token=this.idToken),this.accessToken&&(a.access_token=this.accessToken),this.secret&&(a.oauth_token_secret=this.secret),a.providerId=this.providerId,this.nonce&&!this.pendingToken&&(a.nonce=this.nonce),t.postBody=lr(a)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mj(i){const t=fl(hl(i)).link,a=t?fl(hl(t)).deep_link_id:null,l=fl(hl(i)).deep_link_id;return(l?fl(hl(l)).link:null)||l||a||t||i}class xh{constructor(t){const a=fl(hl(t)),l=a.apiKey??null,c=a.oobCode??null,u=zj(a.mode??null);Pe(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=a.continueUrl??null,this.languageCode=a.lang??null,this.tenantId=a.tenantId??null}static parseLink(t){const a=Mj(t);try{return new xh(a)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.providerId=cr.PROVIDER_ID}static credential(t,a){return jl._fromEmailAndPassword(t,a)}static credentialWithLink(t,a){const l=xh.parseLink(a);return Pe(l,"argument-error"),jl._fromEmailAndCode(t,l.code,l.tenantId)}}cr.PROVIDER_ID="password";cr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends nv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Ul{constructor(){super("facebook.com")}static credential(t){return Qa._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return da.credentialFromTaggedObject(t)}static credentialFromError(t){return da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return da.credential(t.oauthAccessToken)}catch{return null}}}da.FACEBOOK_SIGN_IN_METHOD="facebook.com";da.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,a){return Qa._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:a})}static credentialFromResult(t){return fa.credentialFromTaggedObject(t)}static credentialFromError(t){return fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:a,oauthAccessToken:l}=t;if(!a&&!l)return null;try{return fa.credential(a,l)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Ul{constructor(){super("github.com")}static credential(t){return Qa._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ha.credentialFromTaggedObject(t)}static credentialFromError(t){return ha.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ha.credential(t.oauthAccessToken)}catch{return null}}}ha.GITHUB_SIGN_IN_METHOD="github.com";ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Ul{constructor(){super("twitter.com")}static credential(t,a){return Qa._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:a})}static credentialFromResult(t){return ma.credentialFromTaggedObject(t)}static credentialFromError(t){return ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:a,oauthTokenSecret:l}=t;if(!a||!l)return null;try{return ma.credential(a,l)}catch{return null}}}ma.TWITTER_SIGN_IN_METHOD="twitter.com";ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(i,t){return Ll(i,"POST","/v1/accounts:signUp",Ds(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,a,l,c=!1){const u=await Qn._fromIdTokenResponse(t,l,c),f=bg(l);return new Za({user:u,providerId:f,_tokenResponse:l,operationType:a})}static async _forOperation(t,a,l){await t._updateTokensIfNecessary(l,!0);const c=bg(l);return new Za({user:t,providerId:c,_tokenResponse:l,operationType:a})}}function bg(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends ja{constructor(t,a,l,c){super(a.code,a.message),this.operationType=l,this.user=c,Object.setPrototypeOf(this,Nc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:a.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,a,l,c){return new Nc(t,a,l,c)}}function sv(i,t,a,l){return(t==="reauthenticate"?a._getReauthenticationResolver(i):a._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nc._fromErrorAndOperation(i,u,t,l):u})}async function Dj(i,t,a=!1){const l=await Nl(i,t._linkToIdToken(i.auth,await i.getIdToken()),a);return Za._forOperation(i,"link",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(i,t,a=!1){const{auth:l}=i;if(Vn(l.app))return Promise.reject(Rs(l));const c="reauthenticate";try{const u=await Nl(i,sv(l,c,t,i),a);Pe(u.idToken,l,"internal-error");const f=hh(u.idToken);Pe(f,l,"internal-error");const{sub:m}=f;return Pe(i.uid===m,l,"user-mismatch"),Za._forOperation(i,c,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&es(l,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function av(i,t,a=!1){if(Vn(i.app))return Promise.reject(Rs(i));const l="signIn",c=await sv(i,l,t),u=await Za._fromIdTokenResponse(i,l,c);return a||await i._updateCurrentUser(u.user),u}async function Uj(i,t){return av(Sa(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iv(i){const t=Sa(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rv(i,t,a){const l=Sa(i);await _c(l,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Tj)}async function Fj(i,t,a){if(Vn(i.app))return Promise.reject(Rs(i));const l=Sa(i),f=await _c(l,{returnSecureToken:!0,email:t,password:a,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Oj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&iv(i),p}),m=await Za._fromIdTokenResponse(l,"signIn",f);return await l._updateCurrentUser(m.user),m}function Pj(i,t,a){return Vn(i.app)?Promise.reject(Rs(i)):Uj(on(i),cr.credential(t,a)).catch(async l=>{throw l.code==="auth/password-does-not-meet-requirements"&&iv(i),l})}async function vg(i,t){const a=on(i),c={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:u}=await Cj(a.auth,c);u!==i.email&&await i.reload()}function Bj(i,t,a,l){return on(i).onIdTokenChanged(t,a,l)}function Gj(i,t,a){return on(i).beforeAuthStateChanged(t,a)}function Hj(i,t,a,l){return on(i).onAuthStateChanged(t,a,l)}function lv(i){return on(i).signOut()}const jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t,a){this.storageRetriever=t,this.type=a}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,a){return this.storage.setItem(t,JSON.stringify(a)),Promise.resolve()}_get(t){const a=this.storage.getItem(t);return Promise.resolve(a?JSON.parse(a):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=1e3,Yj=10;class cv extends ov{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,a)=>this.onStorageEvent(t,a),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const a of Object.keys(this.listeners)){const l=this.storage.getItem(a),c=this.localCache[a];l!==c&&t(a,c,l)}}onStorageEvent(t,a=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const l=t.key;a?this.detachListener():this.stopPolling();const c=()=>{const f=this.storage.getItem(l);!a&&this.localCache[l]===f||this.notifyListeners(l,f)},u=this.storage.getItem(l);lj()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(c,Yj):c()}notifyListeners(t,a){this.localCache[t]=a;const l=this.listeners[t];if(l)for(const c of Array.from(l))c(a&&JSON.parse(a))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,a,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:a,newValue:l}),!0)})},Vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,a){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(a)}_removeListener(t,a){this.listeners[t]&&(this.listeners[t].delete(a),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,a){await super._set(t,a),this.localCache[t]=JSON.stringify(a)}async _get(t){const a=await super._get(t);return this.localCache[t]=JSON.stringify(a),a}async _remove(t){await super._remove(t),delete this.localCache[t]}}cv.type="LOCAL";const $j=cv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends ov{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,a){}_removeListener(t,a){}}uv.type="SESSION";const dv=uv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(a){return{fulfilled:!1,reason:a}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const a=this.receivers.find(c=>c.isListeningto(t));if(a)return a;const l=new Hc(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const a=t,{eventId:l,eventType:c,data:u}=a.data,f=this.handlersMap[c];if(!(f!=null&&f.size))return;a.ports[0].postMessage({status:"ack",eventId:l,eventType:c});const m=Array.from(f).map(async x=>x(a.origin,u)),p=await qj(m);a.ports[0].postMessage({status:"done",eventId:l,eventType:c,response:p})}_subscribe(t,a){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(a)}_unsubscribe(t,a){this.handlersMap[t]&&a&&this.handlersMap[t].delete(a),(!a||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(i="",t=10){let a="";for(let l=0;l<t;l++)a+=Math.floor(Math.random()*10);return i+a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,a,l=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const x=gh("",20);c.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},l);f={messageChannel:c,onMessage(w){const N=w;if(N.data.eventId===x)switch(N.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(N.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),c.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:x,data:a},[c.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return window}function Xj(i){rs().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(){return typeof rs().WorkerGlobalScope<"u"&&typeof rs().importScripts=="function"}async function Kj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qj(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function Zj(){return fv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="firebaseLocalStorageDb",Jj=1,Sc="firebaseLocalStorage",mv="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,a)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{a(this.request.error)})})}}function Vc(i,t){return i.transaction([Sc],t?"readwrite":"readonly").objectStore(Sc)}function e2(){const i=indexedDB.deleteDatabase(hv);return new Fl(i).toPromise()}function Vf(){const i=indexedDB.open(hv,Jj);return new Promise((t,a)=>{i.addEventListener("error",()=>{a(i.error)}),i.addEventListener("upgradeneeded",()=>{const l=i.result;try{l.createObjectStore(Sc,{keyPath:mv})}catch(c){a(c)}}),i.addEventListener("success",async()=>{const l=i.result;l.objectStoreNames.contains(Sc)?t(l):(l.close(),await e2(),t(await Vf()))})})}async function yg(i,t,a){const l=Vc(i,!0).put({[mv]:t,value:a});return new Fl(l).toPromise()}async function t2(i,t){const a=Vc(i,!1).get(t),l=await new Fl(a).toPromise();return l===void 0?null:l.value}function wg(i,t){const a=Vc(i,!0).delete(t);return new Fl(a).toPromise()}const n2=800,s2=3;class pv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vf(),this.db)}async _withRetries(t){let a=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(a++>s2)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hc._getInstance(Zj()),this.receiver._subscribe("keyChanged",async(t,a)=>({keyProcessed:(await this._poll()).includes(a.key)})),this.receiver._subscribe("ping",async(t,a)=>["keyChanged"])}async initializeSender(){var a,l;if(this.activeServiceWorker=await Kj(),!this.activeServiceWorker)return;this.sender=new Wj(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(a=t[0])!=null&&a.fulfilled&&(l=t[0])!=null&&l.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Qj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vf();return await yg(t,jc,"1"),await wg(t,jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,a){return this._withPendingWrite(async()=>(await this._withRetries(l=>yg(l,t,a)),this.localCache[t]=a,this.notifyServiceWorker(t)))}async _get(t){const a=await this._withRetries(l=>t2(l,t));return this.localCache[t]=a,a}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(a=>wg(a,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(c=>{const u=Vc(c,!1).getAll();return new Fl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const a=[],l=new Set;if(t.length!==0)for(const{fbase_key:c,value:u}of t)l.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(u)&&(this.notifyListeners(c,u),a.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!l.has(c)&&(this.notifyListeners(c,null),a.push(c));return a}notifyListeners(t,a){this.localCache[t]=a;const l=this.listeners[t];if(l)for(const c of Array.from(l))c(a)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,a){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(a)}_removeListener(t,a){this.listeners[t]&&(this.listeners[t].delete(a),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pv.type="LOCAL";const a2=pv;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(i,t){return t?Ts(t):(Pe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends ph{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xi(t,this._buildIdpRequest())}_linkToIdToken(t,a){return Xi(t,this._buildIdpRequest(a))}_getReauthenticationResolver(t){return Xi(t,this._buildIdpRequest())}_buildIdpRequest(t){const a={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(a.idToken=t),a}}function r2(i){return av(i.auth,new bh(i),i.bypassAuthState)}function l2(i){const{auth:t,user:a}=i;return Pe(a,t,"internal-error"),Lj(a,new bh(i),i.bypassAuthState)}async function o2(i){const{auth:t,user:a}=i;return Pe(a,t,"internal-error"),Dj(a,new bh(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(t,a,l,c,u=!1){this.auth=t,this.resolver=l,this.user=c,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(a)?a:[a]}execute(){return new Promise(async(t,a)=>{this.pendingPromise={resolve:t,reject:a};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:a,sessionId:l,postBody:c,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:a,sessionId:l,tenantId:u||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(x){this.reject(x)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return r2;case"linkViaPopup":case"linkViaRedirect":return o2;case"reauthViaPopup":case"reauthViaRedirect":return l2;default:es(this.auth,"internal-error")}}resolve(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new Dl(2e3,1e4);class Vi extends xv{constructor(t,a,l,c,u){super(t,a,c,u),this.provider=l,this.authWindow=null,this.pollId=null,Vi.currentPopupAction&&Vi.currentPopupAction.cancel(),Vi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Pe(t,this.auth,"internal-error"),t}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const t=gh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(a=>{this.reject(a)}),this.resolver._isIframeWebStorageSupported(this.auth,a=>{a||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var a,l;if((l=(a=this.authWindow)==null?void 0:a.window)!=null&&l.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,c2.get())};t()}}Vi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="pendingRedirect",fc=new Map;class d2 extends xv{constructor(t,a,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],a,void 0,l),this.eventId=null}async execute(){let t=fc.get(this.auth._key());if(!t){try{const l=await f2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(a){t=()=>Promise.reject(a)}fc.set(this.auth._key(),t)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const a=await this.auth._redirectUserForId(t.eventId);if(a)return this.user=a,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f2(i,t){const a=p2(t),l=m2(i);if(!await l._isAvailable())return!1;const c=await l._get(a)==="true";return await l._remove(a),c}function h2(i,t){fc.set(i._key(),t)}function m2(i){return Ts(i._redirectPersistence)}function p2(i){return dc(u2,i.config.apiKey,i.name)}async function x2(i,t,a=!1){if(Vn(i.app))return Promise.reject(Rs(i));const l=Sa(i),c=i2(l,t),f=await new d2(l,c,a).execute();return f&&!a&&(delete f.user._redirectEventId,await l._persistUserIfCurrent(f.user),await l._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=600*1e3;class b2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let a=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(a=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!v2(t)||(this.hasHandledPotentialRedirect=!0,a||(this.queuedRedirectEvent=t,a=!0)),a}sendToConsumer(t,a){var l;if(t.error&&!gv(t)){const c=((l=t.error.code)==null?void 0:l.split("auth/")[1])||"internal-error";a.onError(is(this.auth,c))}else a.onAuthEvent(t)}isEventForConsumer(t,a){const l=a.eventId===null||!!t.eventId&&t.eventId===a.eventId;return a.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=g2&&this.cachedEventUids.clear(),this.cachedEventUids.has(_g(t))}saveEventToCache(t){this.cachedEventUids.add(_g(t)),this.lastProcessedEventTime=Date.now()}}function _g(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function gv({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function v2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gv(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(i,t={}){return Ls(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_2=/^https?/;async function N2(i){if(i.config.emulator)return;const{authorizedDomains:t}=await y2(i);for(const a of t)try{if(j2(a))return}catch{}es(i,"unauthorized-domain")}function j2(i){const t=Gf(),{protocol:a,hostname:l}=new URL(t);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&l===""?a==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):a==="chrome-extension:"&&f.hostname===l}if(!_2.test(a))return!1;if(w2.test(i))return l===i;const c=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(l)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new Dl(3e4,6e4);function Ng(){const i=rs().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let a=0;a<i.CP.length;a++)i.CP[a]=null}}function k2(i){return new Promise((t,a)=>{var c,u,f;function l(){Ng(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ng(),a(is(i,"network-request-failed"))},timeout:S2.get()})}if((u=(c=rs().gapi)==null?void 0:c.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=rs().gapi)!=null&&f.load)l();else{const m=xj("iframefcb");return rs()[m]=()=>{gapi.load?l():a(is(i,"network-request-failed"))},Zb(`${pj()}?onload=${m}`).catch(p=>a(p))}}).catch(t=>{throw hc=null,t})}let hc=null;function E2(i){return hc=hc||k2(i),hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new Dl(5e3,15e3),T2="__/auth/iframe",A2="emulator/auth/iframe",R2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z2(i){const t=i.config;Pe(t.authDomain,i,"auth-domain-config-required");const a=t.emulator?fh(t,A2):`https://${i.config.authDomain}/${T2}`,l={apiKey:t.apiKey,appName:i.name,v:or},c=I2.get(i.config.apiHost);c&&(l.eid=c);const u=i._getFrameworks();return u.length&&(l.fw=u.join(",")),`${a}?${lr(l).slice(1)}`}async function M2(i){const t=await E2(i),a=rs().gapi;return Pe(a,i,"internal-error"),t.open({where:document.body,url:z2(i),messageHandlersFilter:a.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R2,dontclear:!0},l=>new Promise(async(c,u)=>{await l.restyle({setHideOnLeave:!1});const f=is(i,"network-request-failed"),m=rs().setTimeout(()=>{u(f)},C2.get());function p(){rs().clearTimeout(m),c(l)}l.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D2=500,L2=600,U2="_blank",F2="http://localhost";class jg{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P2(i,t,a,l=D2,c=L2){const u=Math.max((window.screen.availHeight-c)/2,0).toString(),f=Math.max((window.screen.availWidth-l)/2,0).toString();let m="";const p={...O2,width:l.toString(),height:c.toString(),top:u,left:f},x=mn().toLowerCase();a&&(m=Yb(x)?U2:a),Hb(x)&&(t=t||F2,p.scrollbars="yes");const v=Object.entries(p).reduce((N,[k,M])=>`${N}${k}=${M},`,"");if(rj(x)&&m!=="_self")return B2(t||"",m),new jg(null);const w=window.open(t||"",m,v);Pe(w,i,"popup-blocked");try{w.focus()}catch{}return new jg(w)}function B2(i,t){const a=document.createElement("a");a.href=i,a.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),a.dispatchEvent(l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="__/auth/handler",H2="emulator/auth/handler",V2=encodeURIComponent("fac");async function Sg(i,t,a,l,c,u){Pe(i.config.authDomain,i,"auth-domain-config-required"),Pe(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:a,redirectUrl:l,v:or,eventId:c};if(t instanceof nv){t.setDefaultLanguage(i.languageCode),f.providerId=t.providerId||"",Df(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,w]of Object.entries({}))f[v]=w}if(t instanceof Ul){const v=t.getScopes().filter(w=>w!=="");v.length>0&&(f.scopes=v.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),x=p?`#${V2}=${encodeURIComponent(p)}`:"";return`${Y2(i)}?${lr(m).slice(1)}${x}`}function Y2({config:i}){return i.emulator?fh(i,H2):`https://${i.authDomain}/${G2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="webStorageSupport";class $2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dv,this._completeRedirectFn=x2,this._overrideRedirectResult=h2}async _openPopup(t,a,l,c){var f;Ms((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await Sg(t,a,l,Gf(),c);return P2(t,u,gh())}async _openRedirect(t,a,l,c){await this._originValidation(t);const u=await Sg(t,a,l,Gf(),c);return Xj(u),new Promise(()=>{})}_initialize(t){const a=t._key();if(this.eventManagers[a]){const{manager:c,promise:u}=this.eventManagers[a];return c?Promise.resolve(c):(Ms(u,"If manager is not set, promise should be"),u)}const l=this.initAndGetManager(t);return this.eventManagers[a]={promise:l},l.catch(()=>{delete this.eventManagers[a]}),l}async initAndGetManager(t){const a=await M2(t),l=new b2(t);return a.register("authEvent",c=>(Pe(c==null?void 0:c.authEvent,t,"invalid-auth-event"),{status:l.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=a,l}_isIframeWebStorageSupported(t,a){this.iframes[t._key()].send(kf,{type:kf},c=>{var f;const u=(f=c==null?void 0:c[0])==null?void 0:f[kf];u!==void 0&&a(!!u),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const a=t._key();return this.originValidationPromises[a]||(this.originValidationPromises[a]=N2(t)),this.originValidationPromises[a]}get _shouldInitProactively(){return Kb()||Vb()||mh()}}const q2=$2;var kg="@firebase/auth",Eg="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const a=this.auth.onIdTokenChanged(l=>{t((l==null?void 0:l.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,a),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const a=this.internalListeners.get(t);a&&(this.internalListeners.delete(t),a(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K2(i){Ji(new Ka("auth",(t,{options:a})=>{const l=t.getProvider("app").getImmediate(),c=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=l.options;Pe(f&&!f.includes(":"),"invalid-api-key",{appName:l.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qb(i)},x=new fj(l,c,u,p);return _j(x,a),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,a,l)=>{t.getProvider("auth-internal").initialize()})),Ji(new Ka("auth-internal",t=>{const a=Sa(t.getProvider("auth").getImmediate());return(l=>new W2(l))(a)},"PRIVATE").setInstantiationMode("EXPLICIT")),qa(kg,Eg,X2(i)),qa(kg,Eg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=300,Z2=jb("authIdTokenMaxAge")||Q2;let Cg=null;const J2=i=>async t=>{const a=t&&await t.getIdTokenResult(),l=a&&(new Date().getTime()-Date.parse(a.issuedAtTime))/1e3;if(l&&l>Z2)return;const c=a==null?void 0:a.token;Cg!==c&&(Cg=c,await fetch(i,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function e5(i=Ib()){const t=uh(i,"auth");if(t.isInitialized())return t.getImmediate();const a=wj(i,{popupRedirectResolver:q2,persistence:[a2,$j,dv]}),l=jb("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(l,location.origin);if(location.origin===u.origin){const f=J2(u.toString());Gj(a,f,()=>f(a.currentUser)),Bj(a,m=>f(m))}}const c=_b("auth");return c&&Nj(a,`http://${c}`),a}function t5(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}hj({loadJS(i){return new Promise((t,a)=>{const l=document.createElement("script");l.setAttribute("src",i),l.onload=t,l.onerror=c=>{const u=is("internal-error");u.customData=c,a(u)},l.type="text/javascript",l.charset="UTF-8",t5().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K2("Browser");var Tg={};const Ag="@firebase/database",Rg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv="";function n5(i){bv=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,a){a==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Wt(a))}get(t){const a=this.domStorage_.getItem(this.prefixedName_(t));return a==null?null:wl(a)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,a){a==null?delete this.cache_[t]:this.cache_[t]=a}get(t){return ls(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new s5(t)}}catch{}return new a5},$a=vv("localStorage"),i5=vv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new oh("@firebase/database"),r5=(function(){let i=1;return function(){return i++}})(),yv=function(i){const t=R_(i),a=new E_;a.update(t);const l=a.digest();return ih.encodeByteArray(l)},Pl=function(...i){let t="";for(let a=0;a<i.length;a++){const l=i[a];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=Pl.apply(null,l):typeof l=="object"?t+=Wt(l):t+=l,t+=" "}return t};let xl=null,Ig=!0;const l5=function(i,t){Se(!0,"Can't turn on custom loggers persistently."),Ki.logLevel=wt.VERBOSE,xl=Ki.log.bind(Ki)},rn=function(...i){if(Ig===!0&&(Ig=!1,xl===null&&i5.get("logging_enabled")===!0&&l5()),xl){const t=Pl.apply(null,i);xl(t)}},Bl=function(i){return function(...t){rn(i,...t)}},Yf=function(...i){const t="FIREBASE INTERNAL ERROR: "+Pl(...i);Ki.error(t)},Os=function(...i){const t=`FIREBASE FATAL ERROR: ${Pl(...i)}`;throw Ki.error(t),new Error(t)},hn=function(...i){const t="FIREBASE WARNING: "+Pl(...i);Ki.warn(t)},o5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&hn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vh=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},c5=function(i){if(document.readyState==="complete")i();else{let t=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},er="[MIN_NAME]",Ja="[MAX_NAME]",ni=function(i,t){if(i===t)return 0;if(i===er||t===Ja)return-1;if(t===er||i===Ja)return 1;{const a=zg(i),l=zg(t);return a!==null?l!==null?a-l===0?i.length-t.length:a-l:-1:l!==null?1:i<t?-1:1}},u5=function(i,t){return i===t?0:i<t?-1:1},ll=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Wt(t))},yh=function(i){if(typeof i!="object"||i===null)return Wt(i);const t=[];for(const l in i)t.push(l);t.sort();let a="{";for(let l=0;l<t.length;l++)l!==0&&(a+=","),a+=Wt(t[l]),a+=":",a+=yh(i[t[l]]);return a+="}",a},wv=function(i,t){const a=i.length;if(a<=t)return[i];const l=[];for(let c=0;c<a;c+=t)c+t>a?l.push(i.substring(c,a)):l.push(i.substring(c,c+t));return l};function ln(i,t){for(const a in i)i.hasOwnProperty(a)&&t(a,i[a])}const _v=function(i){Se(!vh(i),"Invalid JSON number");const t=11,a=52,l=(1<<t-1)-1;let c,u,f,m,p;i===0?(u=0,f=0,c=1/i===-1/0?1:0):(c=i<0,i=Math.abs(i),i>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(i)/Math.LN2),l),u=m+l,f=Math.round(i*Math.pow(2,a-m)-Math.pow(2,a))):(u=0,f=Math.round(i/Math.pow(2,1-l-a))));const x=[];for(p=a;p;p-=1)x.push(f%2?1:0),f=Math.floor(f/2);for(p=t;p;p-=1)x.push(u%2?1:0),u=Math.floor(u/2);x.push(c?1:0),x.reverse();const v=x.join("");let w="";for(p=0;p<64;p+=8){let N=parseInt(v.substr(p,8),2).toString(16);N.length===1&&(N="0"+N),w=w+N}return w.toLowerCase()},d5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},f5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function h5(i,t){let a="Unknown Error";i==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?a="Client doesn't have permission to access the desired data.":i==="unavailable"&&(a="The service is unavailable");const l=new Error(i+" at "+t._path.toString()+": "+a);return l.code=i.toUpperCase(),l}const m5=new RegExp("^-?(0*)\\d{1,10}$"),p5=-2147483648,x5=2147483647,zg=function(i){if(m5.test(i)){const t=Number(i);if(t>=p5&&t<=x5)return t}return null},ur=function(i){try{i()}catch(t){setTimeout(()=>{const a=t.stack||"";throw hn("Exception was thrown by user callback.",a),t},Math.floor(0))}},g5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gl=function(i,t){const a=setTimeout(i,t);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t,a){this.appCheckProvider=a,this.appName=t.name,Vn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=a==null?void 0:a.getImmediate({optional:!0}),this.appCheck||a==null||a.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((a,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(a,l):a(null)},0)})}addTokenChangeListener(t){var a;(a=this.appCheckProvider)==null||a.get().then(l=>l.addTokenListener(t))}notifyForInvalidToken(){hn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(t,a,l){this.appName_=t,this.firebaseOptions_=a,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(c=>this.auth_=c)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(a=>a&&a.code==="auth/token-not-initialized"?(rn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(a,l):a(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(a=>a.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(a=>a.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hn(t)}}class mc{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}mc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="5",Nv="v",jv="s",Sv="r",kv="f",Ev=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cv="ls",Tv="p",$f="ac",Av="websocket",Rv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t,a,l,c,u=!1,f="",m=!1,p=!1,x=null){this.secure=a,this.namespace=l,this.webSocketOnly=c,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=x,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$a.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$a.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${a}`}}function y5(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function zv(i,t,a){Se(typeof t=="string","typeof type must == string"),Se(typeof a=="object","typeof params must == object");let l;if(t===Av)l=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Rv)l=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);y5(i)&&(a.ns=i.namespace);const c=[];return ln(a,(u,f)=>{c.push(u+"="+f)}),l+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.counters_={}}incrementCounter(t,a=1){ls(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=a}get(){return r_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef={},Cf={};function _h(i){const t=i.toString();return Ef[t]||(Ef[t]=new w5),Ef[t]}function _5(i,t){const a=i.toString();return Cf[a]||(Cf[a]=t()),Cf[a]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,a){this.closeAfterResponse=t,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,a){for(this.pendingResponses[t]=a;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<l.length;++c)l[c]&&ur(()=>{this.onMessage_(l[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="start",j5="close",S5="pLPCommand",k5="pRTLPCB",Mv="id",Ov="pw",Dv="ser",E5="cb",C5="seg",T5="ts",A5="d",R5="dframe",Lv=1870,Uv=30,I5=Lv-Uv,z5=25e3,M5=3e4;class Yi{constructor(t,a,l,c,u,f,m){this.connId=t,this.repoInfo=a,this.applicationId=l,this.appCheckToken=c,this.authToken=u,this.transportSessionId=f,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bl(t),this.stats_=_h(a),this.urlFn=p=>(this.appCheckToken&&(p[$f]=this.appCheckToken),zv(a,Rv,p))}open(t,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new N5(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(M5)),c5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Nh((...u)=>{const[f,m,p,x,v]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Mg)this.id=m,this.password=p;else if(f===j5)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[Mg]="t",l[Dv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[E5]=this.scriptTagHolder.uniqueCallbackIdentifier),l[Nv]=wh,this.transportSessionId&&(l[jv]=this.transportSessionId),this.lastSessionId&&(l[Cv]=this.lastSessionId),this.applicationId&&(l[Tv]=this.applicationId),this.appCheckToken&&(l[$f]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ev.test(location.hostname)&&(l[Sv]=kv);const c=this.urlFn(l);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yi.forceAllow_=!0}static forceDisallow(){Yi.forceDisallow_=!0}static isAvailable(){return Yi.forceAllow_?!0:!Yi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!d5()&&!f5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const a=Wt(t);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const l=yb(a),c=wv(l,I5);for(let u=0;u<c.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[u]),this.curSegmentNum++}addDisconnectPingFrame(t,a){this.myDisconnFrame=document.createElement("iframe");const l={};l[R5]="t",l[Mv]=t,l[Ov]=a,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const a=Wt(t).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class Nh{constructor(t,a,l,c){this.onDisconnect=l,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=r5(),window[S5+this.uniqueCallbackIdentifier]=t,window[k5+this.uniqueCallbackIdentifier]=a,this.myIFrame=Nh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(m){rn("frame writing exception"),m.stack&&rn(m.stack),rn(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||rn("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,a){for(this.myID=t,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Mv]=this.myID,t[Ov]=this.myPW,t[Dv]=this.currentSerial;let a=this.urlFn(t),l="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Uv+l.length<=Lv;){const f=this.pendingSegs.shift();l=l+"&"+C5+c+"="+f.seg+"&"+T5+c+"="+f.ts+"&"+A5+c+"="+f.d,c++}return a=a+l,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(t,a,l){this.pendingSegs.push({seg:t,ts:a,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,a){this.outstandingRequests.add(a);const l=()=>{this.outstandingRequests.delete(a),this.newRequest_()},c=setTimeout(l,Math.floor(z5)),u=()=>{clearTimeout(c),l()};this.addTag(t,u)}addTag(t,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const c=l.readyState;(!c||c==="loaded"||c==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),a())},l.onerror=()=>{rn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=16384,D5=45e3;let kc=null;typeof MozWebSocket<"u"?kc=MozWebSocket:typeof WebSocket<"u"&&(kc=WebSocket);class Kn{constructor(t,a,l,c,u,f,m){this.connId=t,this.applicationId=l,this.appCheckToken=c,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bl(this.connId),this.stats_=_h(a),this.connURL=Kn.connectionURL_(a,f,m,c,l),this.nodeAdmin=a.nodeAdmin}static connectionURL_(t,a,l,c,u){const f={};return f[Nv]=wh,typeof location<"u"&&location.hostname&&Ev.test(location.hostname)&&(f[Sv]=kv),a&&(f[jv]=a),l&&(f[Cv]=l),c&&(f[$f]=c),u&&(f[Tv]=u),zv(t,Av,f)}open(t,a){this.onDisconnect=a,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$a.set("previous_websocket_failure",!0);try{let l;v_(),this.mySock=new kc(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const c=l.message||l.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const c=l.message||l.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){Kn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(a);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&kc!==null&&!Kn.forceDisallow_}static previouslyFailed(){return $a.isInMemoryStorage||$a.get("previous_websocket_failure")===!0}markConnectionHealthy(){$a.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const l=wl(a);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Se(this.frames===null,"We already have a frame buffer"),t.length<=6){const a=Number(t);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const a=t.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const l=this.extractFrameCount_(a);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const a=Wt(t);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const l=wv(a,O5);l.length>1&&this.sendString_(String(l.length));for(let c=0;c<l.length;c++)this.sendString_(l[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(D5))}sendString_(t){try{this.mySock.send(t)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kn.responsesRequiredToBeHealthy=2;Kn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{static get ALL_TRANSPORTS(){return[Yi,Kn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const a=Kn&&Kn.isAvailable();let l=a&&!Kn.previouslyFailed();if(t.webSocketOnly&&(a||hn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[Kn];else{const c=this.transports_=[];for(const u of Sl.ALL_TRANSPORTS)u&&u.isAvailable()&&c.push(u);Sl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Sl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=6e4,U5=5e3,F5=10*1024,P5=100*1024,Tf="t",Og="d",B5="s",Dg="r",G5="e",Lg="o",Ug="a",Fg="n",Pg="p",H5="h";class V5{constructor(t,a,l,c,u,f,m,p,x,v){this.id=t,this.repoInfo_=a,this.applicationId_=l,this.appCheckToken_=c,this.authToken_=u,this.onMessage_=f,this.onReady_=m,this.onDisconnect_=p,this.onKill_=x,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bl("c:"+this.id+":"),this.transportManager_=new Sl(a),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,l)},Math.floor(0));const c=t.healthyTimeout||0;c>0&&(this.healthyTimeout_=gl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>P5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>F5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return a=>{t===this.conn_?this.onConnectionLost_(a):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return a=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(a):t===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(t){const a={t:"d",d:t};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Tf in t){const a=t[Tf];a===Ug?this.upgradeIfSecondaryHealthy_():a===Dg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===Lg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const a=ll("t",t),l=ll("d",t);if(a==="c")this.onSecondaryControl_(l);else if(a==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Pg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ug,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Fg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const a=ll("t",t),l=ll("d",t);a==="c"?this.onControl_(l):a==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const a=ll(Tf,t);if(Og in t){const l=t[Og];if(a===H5){const c={...l};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(a===Fg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===B5?this.onConnectionShutdown_(l):a===Dg?this.onReset_(l):a===G5?Yf("Server Error: "+l):a===Lg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yf("Unknown control packet command: "+a)}}onHandshake_(t){const a=t.ts,l=t.v,c=t.h;this.sessionId=t.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),wh!==l&&hn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,l),gl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(L5))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,a){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(U5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Pg,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($a.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{put(t,a,l,c){}merge(t,a,l,c){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,a,l){}onDisconnectMerge(t,a,l){}onDisconnectCancel(t,a){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(t){this.allowedEvents_=t,this.listeners_={},Se(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...a){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let c=0;c<l.length;c++)l[c].callback.apply(l[c].context,a)}}on(t,a,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:a,context:l});const c=this.getInitialEvent(t);c&&a.apply(l,c)}off(t,a,l){this.validateEventType_(t);const c=this.listeners_[t]||[];for(let u=0;u<c.length;u++)if(c[u].callback===a&&(!l||l===c[u].context)){c.splice(u,1);return}}validateEventType_(t){Se(this.allowedEvents_.find(a=>a===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Pv{static getInstance(){return new Ec}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return Se(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=32,Gg=768;class _t{constructor(t,a){if(a===void 0){this.pieces_=t.split("/");let l=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[l]=this.pieces_[c],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=a}toString(){let t="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(t+="/"+this.pieces_[a]);return t||"/"}}function ut(){return new _t("")}function Ke(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function wa(i){return i.pieces_.length-i.pieceNum_}function Tt(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new _t(i.pieces_,t)}function jh(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Y5(i){let t="";for(let a=i.pieceNum_;a<i.pieces_.length;a++)i.pieces_[a]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[a])));return t||"/"}function kl(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function Bv(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let a=i.pieceNum_;a<i.pieces_.length-1;a++)t.push(i.pieces_[a]);return new _t(t,0)}function Lt(i,t){const a=[];for(let l=i.pieceNum_;l<i.pieces_.length;l++)a.push(i.pieces_[l]);if(t instanceof _t)for(let l=t.pieceNum_;l<t.pieces_.length;l++)a.push(t.pieces_[l]);else{const l=t.split("/");for(let c=0;c<l.length;c++)l[c].length>0&&a.push(l[c])}return new _t(a,0)}function et(i){return i.pieceNum_>=i.pieces_.length}function fn(i,t){const a=Ke(i),l=Ke(t);if(a===null)return t;if(a===l)return fn(Tt(i),Tt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function $5(i,t){const a=kl(i,0),l=kl(t,0);for(let c=0;c<a.length&&c<l.length;c++){const u=ni(a[c],l[c]);if(u!==0)return u}return a.length===l.length?0:a.length<l.length?-1:1}function Sh(i,t){if(wa(i)!==wa(t))return!1;for(let a=i.pieceNum_,l=t.pieceNum_;a<=i.pieces_.length;a++,l++)if(i.pieces_[a]!==t.pieces_[l])return!1;return!0}function Yn(i,t){let a=i.pieceNum_,l=t.pieceNum_;if(wa(i)>wa(t))return!1;for(;a<i.pieces_.length;){if(i.pieces_[a]!==t.pieces_[l])return!1;++a,++l}return!0}class q5{constructor(t,a){this.errorPrefix_=a,this.parts_=kl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Bc(this.parts_[l]);Gv(this)}}function W5(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Bc(t),Gv(i)}function X5(i){const t=i.parts_.pop();i.byteLength_-=Bc(t),i.parts_.length>0&&(i.byteLength_-=1)}function Gv(i){if(i.byteLength_>Gg)throw new Error(i.errorPrefix_+"has a key path longer than "+Gg+" bytes ("+i.byteLength_+").");if(i.parts_.length>Bg)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Bg+") or object contains a cycle "+Ya(i))}function Ya(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends Pv{static getInstance(){return new kh}constructor(){super(["visible"]);let t,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return Se(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=1e3,K5=300*1e3,Hg=30*1e3,Q5=1.3,Z5=3e4,J5="server_kill",Vg=3;class Is extends Fv{constructor(t,a,l,c,u,f,m,p){if(super(),this.repoInfo_=t,this.applicationId_=a,this.onDataUpdate_=l,this.onConnectStatus_=c,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=Is.nextPersistentConnectionId_++,this.log_=Bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ol,this.maxReconnectDelay_=K5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ec.getInstance().on("online",this.onOnline_,this)}sendRequest(t,a,l){const c=++this.requestNumber_,u={r:c,a:t,b:a};this.log_(Wt(u)),Se(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),l&&(this.requestCBHash_[c]=l)}get(t){this.initConnection_();const a=new Ml,c={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const m=f.d;f.s==="ok"?a.resolve(m):a.reject(m)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),a.promise}listen(t,a,l,c){this.initConnection_();const u=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),Se(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Se(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const m={onComplete:c,hashFn:a,query:t,tag:l};this.listens.get(f).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const a=this.outstandingGets_[t];this.sendRequest("g",a.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(l)})}sendListen_(t){const a=t.query,l=a._path.toString(),c=a._queryIdentifier;this.log_("Listen on "+l+" for "+c);const u={p:l},f="q";t.tag&&(u.q=a._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(f,u,m=>{const p=m.d,x=m.s;Is.warnOnListenWarnings_(p,a),(this.listens.get(l)&&this.listens.get(l).get(c))===t&&(this.log_("listen response",m),x!=="ok"&&this.removeListen_(l,c),t.onComplete&&t.onComplete(x,p))})}static warnOnListenWarnings_(t,a){if(t&&typeof t=="object"&&ls(t,"w")){const l=Zi(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const c='".indexOn": "'+a._queryParams.getIndex().toString()+'"',u=a._path.toString();hn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||k_(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hg)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,a=S_(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(a,l,c=>{const u=c.s,f=c.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const a=t.s,l=t.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,l)})}unlisten(t,a){const l=t._path.toString(),c=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+c),Se(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,c)&&this.connected_&&this.sendUnlisten_(l,c,t._queryObject,a)}sendUnlisten_(t,a,l,c){this.log_("Unlisten on "+t+" for "+a);const u={p:t},f="n";c&&(u.q=l,u.t=c),this.sendRequest(f,u)}onDisconnectPut(t,a,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,a,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:a,onComplete:l})}onDisconnectMerge(t,a,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,a,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:a,onComplete:l})}onDisconnectCancel(t,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(t,a,l,c){const u={p:a,d:l};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,f=>{c&&setTimeout(()=>{c(f.s,f.d)},Math.floor(0))})}put(t,a,l,c){this.putInternal("p",t,a,l,c)}merge(t,a,l,c){this.putInternal("m",t,a,l,c)}putInternal(t,a,l,c,u){this.initConnection_();const f={p:a,d:l};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:t,request:f,onComplete:c}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+a)}sendPut_(t){const a=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,c=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(a,l,u=>{this.log_(a+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(u.s,u.d)})}reportStats(t){if(this.connected_){const a={c:t};this.log_("reportStats",a),this.sendRequest("s",a,l=>{if(l.s!=="ok"){const u=l.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Wt(t));const a=t.r,l=this.requestCBHash_[a];l&&(delete this.requestCBHash_[a],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,a){this.log_("handleServerMessage",t,a),t==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):t==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):t==="c"?this.onListenRevoked_(a.p,a.q):t==="ac"?this.onAuthRevoked_(a.s,a.d):t==="apc"?this.onAppCheckRevoked_(a.s,a.d):t==="sd"?this.onSecurityDebugPacket_(a):Yf("Unrecognized action received from server: "+Wt(t)+`
Are you using the latest client?`)}onReady_(t,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Se(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ol,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ol,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Z5&&(this.reconnectDelay_=ol),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let a=Math.max(0,this.reconnectDelay_-t);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Q5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+Is.nextConnectionId_++,u=this.lastSessionId;let f=!1,m=null;const p=function(){m?m.close():(f=!0,l())},x=function(w){Se(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(w)};this.realtime_={close:p,sendRequest:x};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,N]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);f?rn("getToken() completed but was canceled"):(rn("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=N&&N.token,m=new V5(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,a,l,k=>{hn(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(J5)},u))}catch(w){this.log_("Failed to get token: "+w),f||(this.repoInfo_.nodeAdmin&&hn(w),p())}}}interrupt(t){rn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){rn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Df(this.interruptReasons_)&&(this.reconnectDelay_=ol,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const a=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const a=this.outstandingPuts_[t];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,a){let l;a?l=a.map(u=>yh(u)).join("$"):l="default";const c=this.removeListen_(t,l);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(t,a){const l=new _t(t).toString();let c;if(this.listens.has(l)){const u=this.listens.get(l);c=u.get(a),u.delete(a),u.size===0&&this.listens.delete(l)}else c=void 0;return c}onAuthRevoked_(t,a){rn("Auth token revoked: "+t+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Vg&&(this.reconnectDelay_=Hg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,a){rn("App check token revoked: "+t+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Vg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const a of t.values())this.sendListen_(a);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let a="js";t["sdk."+a+"."+bv.replace(/\./g,"-")]=1,lh()?t["framework.cordova"]=1:Eb()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ec.getInstance().currentlyOnline();return Df(this.interruptReasons_)&&t}}Is.nextPersistentConnectionId_=0;Is.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,a){this.name=t,this.node=a}static Wrap(t,a){return new Qe(t,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,a){const l=new Qe(er,t),c=new Qe(er,a);return this.compare(l,c)!==0}minPost(){return Qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc;class Hv extends Yc{static get __EMPTY_NODE(){return rc}static set __EMPTY_NODE(t){rc=t}compare(t,a){return ni(t.name,a.name)}isDefinedOn(t){throw ir("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,a){return!1}minPost(){return Qe.MIN}maxPost(){return new Qe(Ja,rc)}makePost(t,a){return Se(typeof t=="string","KeyIndex indexValue must always be a string."),new Qe(t,rc)}toString(){return".key"}}const Qi=new Hv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,a,l,c,u=null){this.isReverse_=c,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=a?l(t.key,a):1,c&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(t.key,t.value):a={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Jt{constructor(t,a,l,c,u){this.key=t,this.value=a,this.color=l??Jt.RED,this.left=c??_n.EMPTY_NODE,this.right=u??_n.EMPTY_NODE}copy(t,a,l,c,u){return new Jt(t??this.key,a??this.value,l??this.color,c??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,a,l){let c=this;const u=l(t,c.key);return u<0?c=c.copy(null,null,null,c.left.insert(t,a,l),null):u===0?c=c.copy(null,a,null,null,null):c=c.copy(null,null,null,null,c.right.insert(t,a,l)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return _n.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,a){let l,c;if(l=this,a(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,a),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),a(t,l.key)===0){if(l.right.isEmpty())return _n.EMPTY_NODE;c=l.right.min_(),l=l.copy(c.key,c.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,a))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,a)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Jt.RED=!0;Jt.BLACK=!1;class eS{copy(t,a,l,c,u){return this}insert(t,a,l){return new Jt(t,a,null)}remove(t,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _n{constructor(t,a=_n.EMPTY_NODE){this.comparator_=t,this.root_=a}insert(t,a){return new _n(this.comparator_,this.root_.insert(t,a,this.comparator_).copy(null,null,Jt.BLACK,null,null))}remove(t){return new _n(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jt.BLACK,null,null))}get(t){let a,l=this.root_;for(;!l.isEmpty();){if(a=this.comparator_(t,l.key),a===0)return l.value;a<0?l=l.left:a>0&&(l=l.right)}return null}getPredecessorKey(t){let a,l=this.root_,c=null;for(;!l.isEmpty();)if(a=this.comparator_(t,l.key),a===0){if(l.left.isEmpty())return c?c.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else a<0?l=l.left:a>0&&(c=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new lc(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,a){return new lc(this.root_,t,this.comparator_,!1,a)}getReverseIteratorFrom(t,a){return new lc(this.root_,t,this.comparator_,!0,a)}getReverseIterator(t){return new lc(this.root_,null,this.comparator_,!0,t)}}_n.EMPTY_NODE=new eS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(i,t){return ni(i.name,t.name)}function Eh(i,t){return ni(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf;function nS(i){qf=i}const Vv=function(i){return typeof i=="number"?"number:"+_v(i):"string:"+i},Yv=function(i){if(i.isLeafNode()){const t=i.val();Se(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ls(t,".sv"),"Priority must be a string or number.")}else Se(i===qf||i.isEmpty(),"priority of unexpected type.");Se(i===qf||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg;class Zt{static set __childrenNodeConstructor(t){Yg=t}static get __childrenNodeConstructor(){return Yg}constructor(t,a=Zt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=a,this.lazyHash_=null,Se(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Yv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Zt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Zt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return et(t)?this:Ke(t)===".priority"?this.priorityNode_:Zt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,a){return null}updateImmediateChild(t,a){return t===".priority"?this.updatePriority(a):a.isEmpty()&&t!==".priority"?this:Zt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,a).updatePriority(this.priorityNode_)}updateChild(t,a){const l=Ke(t);return l===null?a:a.isEmpty()&&l!==".priority"?this:(Se(l!==".priority"||wa(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,Zt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Tt(t),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,a){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Vv(this.priorityNode_.val())+":");const a=typeof this.value_;t+=a+":",a==="number"?t+=_v(this.value_):t+=this.value_,this.lazyHash_=yv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Zt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Zt.__childrenNodeConstructor?-1:(Se(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const a=typeof t.value_,l=typeof this.value_,c=Zt.VALUE_TYPE_ORDER.indexOf(a),u=Zt.VALUE_TYPE_ORDER.indexOf(l);return Se(c>=0,"Unknown leaf type: "+a),Se(u>=0,"Unknown leaf type: "+l),c===u?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-c}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const a=t;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}Zt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v,qv;function sS(i){$v=i}function aS(i){qv=i}class iS extends Yc{compare(t,a){const l=t.node.getPriority(),c=a.node.getPriority(),u=l.compareTo(c);return u===0?ni(t.name,a.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,a){return!t.getPriority().equals(a.getPriority())}minPost(){return Qe.MIN}maxPost(){return new Qe(Ja,new Zt("[PRIORITY-POST]",qv))}makePost(t,a){const l=$v(t);return new Qe(a,new Zt("[PRIORITY-POST]",l))}toString(){return".priority"}}const Ut=new iS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=Math.log(2);class lS{constructor(t){const a=u=>parseInt(Math.log(u)/rS,10),l=u=>parseInt(Array(u+1).join("1"),2);this.count=a(t+1),this.current_=this.count-1;const c=l(this.count);this.bits_=t+1&c}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Cc=function(i,t,a,l){i.sort(t);const c=function(p,x){const v=x-p;let w,N;if(v===0)return null;if(v===1)return w=i[p],N=a?a(w):w,new Jt(N,w.node,Jt.BLACK,null,null);{const k=parseInt(v/2,10)+p,M=c(p,k),L=c(k+1,x);return w=i[k],N=a?a(w):w,new Jt(N,w.node,Jt.BLACK,M,L)}},u=function(p){let x=null,v=null,w=i.length;const N=function(M,L){const O=w-M,D=w;w-=M;const W=c(O+1,D),te=i[O],he=a?a(te):te;k(new Jt(he,te.node,L,null,W))},k=function(M){x?(x.left=M,x=M):(v=M,x=M)};for(let M=0;M<p.count;++M){const L=p.nextBitIsOne(),O=Math.pow(2,p.count-(M+1));L?N(O,Jt.BLACK):(N(O,Jt.BLACK),N(O,Jt.RED))}return v},f=new lS(i.length),m=u(f);return new _n(l||t,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af;const Hi={};class As{static get Default(){return Se(Hi&&Ut,"ChildrenNode.ts has not been loaded"),Af=Af||new As({".priority":Hi},{".priority":Ut}),Af}constructor(t,a){this.indexes_=t,this.indexSet_=a}get(t){const a=Zi(this.indexes_,t);if(!a)throw new Error("No index defined for "+t);return a instanceof _n?a:null}hasIndex(t){return ls(this.indexSet_,t.toString())}addIndex(t,a){Se(t!==Qi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let c=!1;const u=a.getIterator(Qe.Wrap);let f=u.getNext();for(;f;)c=c||t.isDefinedOn(f.node),l.push(f),f=u.getNext();let m;c?m=Cc(l,t.getCompare()):m=Hi;const p=t.toString(),x={...this.indexSet_};x[p]=t;const v={...this.indexes_};return v[p]=m,new As(v,x)}addToIndexes(t,a){const l=gc(this.indexes_,(c,u)=>{const f=Zi(this.indexSet_,u);if(Se(f,"Missing index implementation for "+u),c===Hi)if(f.isDefinedOn(t.node)){const m=[],p=a.getIterator(Qe.Wrap);let x=p.getNext();for(;x;)x.name!==t.name&&m.push(x),x=p.getNext();return m.push(t),Cc(m,f.getCompare())}else return Hi;else{const m=a.get(t.name);let p=c;return m&&(p=p.remove(new Qe(t.name,m))),p.insert(t,t.node)}});return new As(l,this.indexSet_)}removeFromIndexes(t,a){const l=gc(this.indexes_,c=>{if(c===Hi)return c;{const u=a.get(t.name);return u?c.remove(new Qe(t.name,u)):c}});return new As(l,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl;class Be{static get EMPTY_NODE(){return cl||(cl=new Be(new _n(Eh),null,As.Default))}constructor(t,a,l){this.children_=t,this.priorityNode_=a,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Yv(this.priorityNode_),this.children_.isEmpty()&&Se(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cl}updatePriority(t){return this.children_.isEmpty()?this:new Be(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const a=this.children_.get(t);return a===null?cl:a}}getChild(t){const a=Ke(t);return a===null?this:this.getImmediateChild(a).getChild(Tt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,a){if(Se(a,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(a);{const l=new Qe(t,a);let c,u;a.isEmpty()?(c=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(l,this.children_)):(c=this.children_.insert(t,a),u=this.indexMap_.addToIndexes(l,this.children_));const f=c.isEmpty()?cl:this.priorityNode_;return new Be(c,f,u)}}updateChild(t,a){const l=Ke(t);if(l===null)return a;{Se(Ke(t)!==".priority"||wa(t)===1,".priority must be the last token in a path");const c=this.getImmediateChild(l).updateChild(Tt(t),a);return this.updateImmediateChild(l,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const a={};let l=0,c=0,u=!0;if(this.forEachChild(Ut,(f,m)=>{a[f]=m.val(t),l++,u&&Be.INTEGER_REGEXP_.test(f)?c=Math.max(c,Number(f)):u=!1}),!t&&u&&c<2*l){const f=[];for(const m in a)f[m]=a[m];return f}else return t&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Vv(this.getPriority().val())+":"),this.forEachChild(Ut,(a,l)=>{const c=l.hash();c!==""&&(t+=":"+a+":"+c)}),this.lazyHash_=t===""?"":yv(t)}return this.lazyHash_}getPredecessorChildName(t,a,l){const c=this.resolveIndex_(l);if(c){const u=c.getPredecessorKey(new Qe(t,a));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const a=this.resolveIndex_(t);if(a){const l=a.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const a=this.getFirstChildName(t);return a?new Qe(a,this.children_.get(a)):null}getLastChildName(t){const a=this.resolveIndex_(t);if(a){const l=a.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const a=this.getLastChildName(t);return a?new Qe(a,this.children_.get(a)):null}forEachChild(t,a){const l=this.resolveIndex_(t);return l?l.inorderTraversal(c=>a(c.name,c.node)):this.children_.inorderTraversal(a)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,a){const l=this.resolveIndex_(a);if(l)return l.getIteratorFrom(t,c=>c);{const c=this.children_.getIteratorFrom(t.name,Qe.Wrap);let u=c.peek();for(;u!=null&&a.compare(u,t)<0;)c.getNext(),u=c.peek();return c}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,a){const l=this.resolveIndex_(a);if(l)return l.getReverseIteratorFrom(t,c=>c);{const c=this.children_.getReverseIteratorFrom(t.name,Qe.Wrap);let u=c.peek();for(;u!=null&&a.compare(u,t)>0;)c.getNext(),u=c.peek();return c}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Gl?-1:0}withIndex(t){if(t===Qi||this.indexMap_.hasIndex(t))return this;{const a=this.indexMap_.addIndex(t,this.children_);return new Be(this.children_,this.priorityNode_,a)}}isIndexed(t){return t===Qi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const a=t;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const l=this.getIterator(Ut),c=a.getIterator(Ut);let u=l.getNext(),f=c.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=l.getNext(),f=c.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Qi?null:this.indexMap_.get(t.toString())}}Be.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class oS extends Be{constructor(){super(new _n(Eh),Be.EMPTY_NODE,As.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Be.EMPTY_NODE}isEmpty(){return!1}}const Gl=new oS;Object.defineProperties(Qe,{MIN:{value:new Qe(er,Be.EMPTY_NODE)},MAX:{value:new Qe(Ja,Gl)}});Hv.__EMPTY_NODE=Be.EMPTY_NODE;Zt.__childrenNodeConstructor=Be;nS(Gl);aS(Gl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=!0;function qt(i,t=null){if(i===null)return Be.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),Se(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const a=i;return new Zt(a,qt(t))}if(!(i instanceof Array)&&cS){const a=[];let l=!1;if(ln(i,(f,m)=>{if(f.substring(0,1)!=="."){const p=qt(m);p.isEmpty()||(l=l||!p.getPriority().isEmpty(),a.push(new Qe(f,p)))}}),a.length===0)return Be.EMPTY_NODE;const u=Cc(a,tS,f=>f.name,Eh);if(l){const f=Cc(a,Ut.getCompare());return new Be(u,qt(t),new As({".priority":f},{".priority":Ut}))}else return new Be(u,qt(t),As.Default)}else{let a=Be.EMPTY_NODE;return ln(i,(l,c)=>{if(ls(i,l)&&l.substring(0,1)!=="."){const u=qt(c);(u.isLeafNode()||!u.isEmpty())&&(a=a.updateImmediateChild(l,u))}}),a.updatePriority(qt(t))}}sS(qt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS extends Yc{constructor(t){super(),this.indexPath_=t,Se(!et(t)&&Ke(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,a){const l=this.extractChild(t.node),c=this.extractChild(a.node),u=l.compareTo(c);return u===0?ni(t.name,a.name):u}makePost(t,a){const l=qt(t),c=Be.EMPTY_NODE.updateChild(this.indexPath_,l);return new Qe(a,c)}maxPost(){const t=Be.EMPTY_NODE.updateChild(this.indexPath_,Gl);return new Qe(Ja,t)}toString(){return kl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends Yc{compare(t,a){const l=t.node.compareTo(a.node);return l===0?ni(t.name,a.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,a){return!t.equals(a)}minPost(){return Qe.MIN}maxPost(){return Qe.MAX}makePost(t,a){const l=qt(t);return new Qe(a,l)}toString(){return".value"}}const fS=new dS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(i){return{type:"value",snapshotNode:i}}function tr(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function El(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Cl(i,t,a){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:a}}function hS(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t){this.index_=t}updateChild(t,a,l,c,u,f){Se(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(a);return m.getChild(c).equals(l.getChild(c))&&m.isEmpty()===l.isEmpty()||(f!=null&&(l.isEmpty()?t.hasChild(a)?f.trackChildChange(El(a,m)):Se(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?f.trackChildChange(tr(a,l)):f.trackChildChange(Cl(a,l,m))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(a,l).withIndex(this.index_)}updateFullNode(t,a,l){return l!=null&&(t.isLeafNode()||t.forEachChild(Ut,(c,u)=>{a.hasChild(c)||l.trackChildChange(El(c,u))}),a.isLeafNode()||a.forEachChild(Ut,(c,u)=>{if(t.hasChild(c)){const f=t.getImmediateChild(c);f.equals(u)||l.trackChildChange(Cl(c,u,f))}else l.trackChildChange(tr(c,u))})),a.withIndex(this.index_)}updatePriority(t,a){return t.isEmpty()?Be.EMPTY_NODE:t.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t){this.indexedFilter_=new Ch(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Tl.getStartPost_(t),this.endPost_=Tl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return a&&l}updateChild(t,a,l,c,u,f){return this.matches(new Qe(a,l))||(l=Be.EMPTY_NODE),this.indexedFilter_.updateChild(t,a,l,c,u,f)}updateFullNode(t,a,l){a.isLeafNode()&&(a=Be.EMPTY_NODE);let c=a.withIndex(this.index_);c=c.updatePriority(Be.EMPTY_NODE);const u=this;return a.forEachChild(Ut,(f,m)=>{u.matches(new Qe(f,m))||(c=c.updateImmediateChild(f,Be.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,c,l)}updatePriority(t,a){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const a=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),a)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const a=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),a)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=a=>{const l=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Tl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,a,l,c,u,f){return this.rangedFilter_.matches(new Qe(a,l))||(l=Be.EMPTY_NODE),t.getImmediateChild(a).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,a,l,c,u,f):this.fullLimitUpdateChild_(t,a,l,u,f)}updateFullNode(t,a,l){let c;if(a.isLeafNode()||a.isEmpty())c=Be.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){c=Be.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const m=u.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))c=c.updateImmediateChild(m.name,m.node),f++;else break;else continue}}else{c=a.withIndex(this.index_),c=c.updatePriority(Be.EMPTY_NODE);let u;this.reverse_?u=c.getReverseIterator(this.index_):u=c.getIterator(this.index_);let f=0;for(;u.hasNext();){const m=u.getNext();f<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?f++:c=c.updateImmediateChild(m.name,Be.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,c,l)}updatePriority(t,a){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,a,l,c,u){let f;if(this.reverse_){const w=this.index_.getCompare();f=(N,k)=>w(k,N)}else f=this.index_.getCompare();const m=t;Se(m.numChildren()===this.limit_,"");const p=new Qe(a,l),x=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),v=this.rangedFilter_.matches(p);if(m.hasChild(a)){const w=m.getImmediateChild(a);let N=c.getChildAfterChild(this.index_,x,this.reverse_);for(;N!=null&&(N.name===a||m.hasChild(N.name));)N=c.getChildAfterChild(this.index_,N,this.reverse_);const k=N==null?1:f(N,p);if(v&&!l.isEmpty()&&k>=0)return u!=null&&u.trackChildChange(Cl(a,l,w)),m.updateImmediateChild(a,l);{u!=null&&u.trackChildChange(El(a,w));const L=m.updateImmediateChild(a,Be.EMPTY_NODE);return N!=null&&this.rangedFilter_.matches(N)?(u!=null&&u.trackChildChange(tr(N.name,N.node)),L.updateImmediateChild(N.name,N.node)):L}}else return l.isEmpty()?t:v&&f(x,p)>=0?(u!=null&&(u.trackChildChange(El(x.name,x.node)),u.trackChildChange(tr(a,l))),m.updateImmediateChild(a,l).updateImmediateChild(x.name,Be.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ut}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Se(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Se(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:er}hasEnd(){return this.endSet_}getIndexEndValue(){return Se(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Se(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ja}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Se(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ut}copy(){const t=new Th;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function pS(i){return i.loadsAllData()?new Ch(i.getIndex()):i.hasLimit()?new mS(i):new Tl(i)}function $g(i){const t={};if(i.isDefault())return t;let a;if(i.index_===Ut?a="$priority":i.index_===fS?a="$value":i.index_===Qi?a="$key":(Se(i.index_ instanceof uS,"Unrecognized index type!"),a=i.index_.toString()),t.orderBy=Wt(a),i.startSet_){const l=i.startAfterSet_?"startAfter":"startAt";t[l]=Wt(i.indexStartValue_),i.startNameSet_&&(t[l]+=","+Wt(i.indexStartName_))}if(i.endSet_){const l=i.endBeforeSet_?"endBefore":"endAt";t[l]=Wt(i.indexEndValue_),i.endNameSet_&&(t[l]+=","+Wt(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function qg(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let a=i.viewFrom_;a===""&&(i.isViewFromLeft()?a="l":a="r"),t.vf=a}return i.index_!==Ut&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Fv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,a){return a!==void 0?"tag$"+a:(Se(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,a,l,c){super(),this.repoInfo_=t,this.onDataUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.log_=Bl("p:rest:"),this.listens_={}}listen(t,a,l,c){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const f=Tc.getListenId_(t,l),m={};this.listens_[f]=m;const p=$g(t._queryParams);this.restRequest_(u+".json",p,(x,v)=>{let w=v;if(x===404&&(w=null,x=null),x===null&&this.onDataUpdate_(u,w,!1,l),Zi(this.listens_,f)===m){let N;x?x===401?N="permission_denied":N="rest_error:"+x:N="ok",c(N,null)}})}unlisten(t,a){const l=Tc.getListenId_(t,a);delete this.listens_[l]}get(t){const a=$g(t._queryParams),l=t._path.toString(),c=new Ml;return this.restRequest_(l+".json",a,(u,f)=>{let m=f;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(l,m,!1,null),c.resolve(m)):c.reject(new Error(m))}),c.promise}refreshAuthToken(t){}restRequest_(t,a={},l){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,u])=>{c&&c.accessToken&&(a.auth=c.accessToken),u&&u.token&&(a.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+lr(a);this.log_("Sending REST request for "+f);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+f+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=wl(m.responseText)}catch{hn("Failed to parse JSON response for "+f+": "+m.responseText)}l(null,p)}else m.status!==401&&m.status!==404&&hn("Got unsuccessful REST response for "+f+" Status: "+m.status),l(m.status);l=null}},m.open("GET",f,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.rootNode_=Be.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,a){this.rootNode_=this.rootNode_.updateChild(t,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(){return{value:null,children:new Map}}function Xv(i,t,a){if(et(t))i.value=a,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,a);else{const l=Ke(t);i.children.has(l)||i.children.set(l,Ac());const c=i.children.get(l);t=Tt(t),Xv(c,t,a)}}function Wf(i,t,a){i.value!==null?a(t,i.value):gS(i,(l,c)=>{const u=new _t(t.toString()+"/"+l);Wf(c,u,a)})}function gS(i,t){i.children.forEach((a,l)=>{t(l,a)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),a={...t};return this.last_&&ln(this.last_,(l,c)=>{a[l]=a[l]-c}),this.last_=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=10*1e3,vS=30*1e3,yS=300*1e3;class wS{constructor(t,a){this.server_=a,this.statsToReport_={},this.statsListener_=new bS(t);const l=Wg+(vS-Wg)*Math.random();gl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),a={};let l=!1;ln(t,(c,u)=>{u>0&&ls(this.statsToReport_,c)&&(a[c]=u,l=!0)}),l&&this.server_.reportStats(a),gl(this.reportStats_.bind(this),Math.floor(Math.random()*2*yS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zn||(Zn={}));function Ah(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ih(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,a,l){this.path=t,this.affectedTree=a,this.revert=l,this.type=Zn.ACK_USER_WRITE,this.source=Ah()}operationForChild(t){if(et(this.path)){if(this.affectedTree.value!=null)return Se(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new _t(t));return new Rc(ut(),a,this.revert)}}else return Se(Ke(this.path)===t,"operationForChild called for unrelated child."),new Rc(Tt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t,a){this.source=t,this.path=a,this.type=Zn.LISTEN_COMPLETE}operationForChild(t){return et(this.path)?new Al(this.source,ut()):new Al(this.source,Tt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t,a,l){this.source=t,this.path=a,this.snap=l,this.type=Zn.OVERWRITE}operationForChild(t){return et(this.path)?new ei(this.source,ut(),this.snap.getImmediateChild(t)):new ei(this.source,Tt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t,a,l){this.source=t,this.path=a,this.children=l,this.type=Zn.MERGE}operationForChild(t){if(et(this.path)){const a=this.children.subtree(new _t(t));return a.isEmpty()?null:a.value?new ei(this.source,ut(),a.value):new nr(this.source,ut(),a)}else return Se(Ke(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new nr(this.source,Tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,a,l){this.node_=t,this.fullyInitialized_=a,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(et(t))return this.isFullyInitialized()&&!this.filtered_;const a=Ke(t);return this.isCompleteForChild(a)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function NS(i,t,a,l){const c=[],u=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(hS(f.childName,f.snapshotNode))}),ul(i,c,"child_removed",t,l,a),ul(i,c,"child_added",t,l,a),ul(i,c,"child_moved",u,l,a),ul(i,c,"child_changed",t,l,a),ul(i,c,"value",t,l,a),c}function ul(i,t,a,l,c,u){const f=l.filter(m=>m.type===a);f.sort((m,p)=>SS(i,m,p)),f.forEach(m=>{const p=jS(i,m,u);c.forEach(x=>{x.respondsTo(m.type)&&t.push(x.createEvent(p,i.query_))})})}function jS(i,t,a){return t.type==="value"||t.type==="child_removed"||(t.prevName=a.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function SS(i,t,a){if(t.childName==null||a.childName==null)throw ir("Should only compare child_ events.");const l=new Qe(t.childName,t.snapshotNode),c=new Qe(a.childName,a.snapshotNode);return i.index_.compare(l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(i,t){return{eventCache:i,serverCache:t}}function bl(i,t,a,l){return $c(new _a(t,a,l),i.serverCache)}function Kv(i,t,a,l){return $c(i.eventCache,new _a(t,a,l))}function Ic(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function ti(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf;const kS=()=>(Rf||(Rf=new _n(u5)),Rf);class Ct{static fromObject(t){let a=new Ct(null);return ln(t,(l,c)=>{a=a.set(new _t(l),c)}),a}constructor(t,a=kS()){this.value=t,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,a){if(this.value!=null&&a(this.value))return{path:ut(),value:this.value};if(et(t))return null;{const l=Ke(t),c=this.children.get(l);if(c!==null){const u=c.findRootMostMatchingPathAndValue(Tt(t),a);return u!=null?{path:Lt(new _t(l),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(et(t))return this;{const a=Ke(t),l=this.children.get(a);return l!==null?l.subtree(Tt(t)):new Ct(null)}}set(t,a){if(et(t))return new Ct(a,this.children);{const l=Ke(t),u=(this.children.get(l)||new Ct(null)).set(Tt(t),a),f=this.children.insert(l,u);return new Ct(this.value,f)}}remove(t){if(et(t))return this.children.isEmpty()?new Ct(null):new Ct(null,this.children);{const a=Ke(t),l=this.children.get(a);if(l){const c=l.remove(Tt(t));let u;return c.isEmpty()?u=this.children.remove(a):u=this.children.insert(a,c),this.value===null&&u.isEmpty()?new Ct(null):new Ct(this.value,u)}else return this}}get(t){if(et(t))return this.value;{const a=Ke(t),l=this.children.get(a);return l?l.get(Tt(t)):null}}setTree(t,a){if(et(t))return a;{const l=Ke(t),u=(this.children.get(l)||new Ct(null)).setTree(Tt(t),a);let f;return u.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,u),new Ct(this.value,f)}}fold(t){return this.fold_(ut(),t)}fold_(t,a){const l={};return this.children.inorderTraversal((c,u)=>{l[c]=u.fold_(Lt(t,c),a)}),a(t,this.value,l)}findOnPath(t,a){return this.findOnPath_(t,ut(),a)}findOnPath_(t,a,l){const c=this.value?l(a,this.value):!1;if(c)return c;if(et(t))return null;{const u=Ke(t),f=this.children.get(u);return f?f.findOnPath_(Tt(t),Lt(a,u),l):null}}foreachOnPath(t,a){return this.foreachOnPath_(t,ut(),a)}foreachOnPath_(t,a,l){if(et(t))return this;{this.value&&l(a,this.value);const c=Ke(t),u=this.children.get(c);return u?u.foreachOnPath_(Tt(t),Lt(a,c),l):new Ct(null)}}foreach(t){this.foreach_(ut(),t)}foreach_(t,a){this.children.inorderTraversal((l,c)=>{c.foreach_(Lt(t,l),a)}),this.value&&a(t,this.value)}foreachChild(t){this.children.inorderTraversal((a,l)=>{l.value&&t(a,l.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.writeTree_=t}static empty(){return new Jn(new Ct(null))}}function vl(i,t,a){if(et(t))return new Jn(new Ct(a));{const l=i.writeTree_.findRootMostValueAndPath(t);if(l!=null){const c=l.path;let u=l.value;const f=fn(c,t);return u=u.updateChild(f,a),new Jn(i.writeTree_.set(c,u))}else{const c=new Ct(a),u=i.writeTree_.setTree(t,c);return new Jn(u)}}}function Xf(i,t,a){let l=i;return ln(a,(c,u)=>{l=vl(l,Lt(t,c),u)}),l}function Xg(i,t){if(et(t))return Jn.empty();{const a=i.writeTree_.setTree(t,new Ct(null));return new Jn(a)}}function Kf(i,t){return si(i,t)!=null}function si(i,t){const a=i.writeTree_.findRootMostValueAndPath(t);return a!=null?i.writeTree_.get(a.path).getChild(fn(a.path,t)):null}function Kg(i){const t=[],a=i.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(Ut,(l,c)=>{t.push(new Qe(l,c))}):i.writeTree_.children.inorderTraversal((l,c)=>{c.value!=null&&t.push(new Qe(l,c.value))}),t}function va(i,t){if(et(t))return i;{const a=si(i,t);return a!=null?new Jn(new Ct(a)):new Jn(i.writeTree_.subtree(t))}}function Qf(i){return i.writeTree_.isEmpty()}function sr(i,t){return Qv(ut(),i.writeTree_,t)}function Qv(i,t,a){if(t.value!=null)return a.updateChild(i,t.value);{let l=null;return t.children.inorderTraversal((c,u)=>{c===".priority"?(Se(u.value!==null,"Priority writes must always be leaf nodes"),l=u.value):a=Qv(Lt(i,c),u,a)}),!a.getChild(i).isEmpty()&&l!==null&&(a=a.updateChild(Lt(i,".priority"),l)),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(i,t){return t1(t,i)}function ES(i,t,a,l,c){Se(l>i.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),i.allWrites.push({path:t,snap:a,writeId:l,visible:c}),c&&(i.visibleWrites=vl(i.visibleWrites,t,a)),i.lastWriteId=l}function CS(i,t,a,l){Se(l>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:a,writeId:l,visible:!0}),i.visibleWrites=Xf(i.visibleWrites,t,a),i.lastWriteId=l}function TS(i,t){for(let a=0;a<i.allWrites.length;a++){const l=i.allWrites[a];if(l.writeId===t)return l}return null}function AS(i,t){const a=i.allWrites.findIndex(m=>m.writeId===t);Se(a>=0,"removeWrite called with nonexistent writeId.");const l=i.allWrites[a];i.allWrites.splice(a,1);let c=l.visible,u=!1,f=i.allWrites.length-1;for(;c&&f>=0;){const m=i.allWrites[f];m.visible&&(f>=a&&RS(m,l.path)?c=!1:Yn(l.path,m.path)&&(u=!0)),f--}if(c){if(u)return IS(i),!0;if(l.snap)i.visibleWrites=Xg(i.visibleWrites,l.path);else{const m=l.children;ln(m,p=>{i.visibleWrites=Xg(i.visibleWrites,Lt(l.path,p))})}return!0}else return!1}function RS(i,t){if(i.snap)return Yn(i.path,t);for(const a in i.children)if(i.children.hasOwnProperty(a)&&Yn(Lt(i.path,a),t))return!0;return!1}function IS(i){i.visibleWrites=Zv(i.allWrites,zS,ut()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function zS(i){return i.visible}function Zv(i,t,a){let l=Jn.empty();for(let c=0;c<i.length;++c){const u=i[c];if(t(u)){const f=u.path;let m;if(u.snap)Yn(a,f)?(m=fn(a,f),l=vl(l,m,u.snap)):Yn(f,a)&&(m=fn(f,a),l=vl(l,ut(),u.snap.getChild(m)));else if(u.children){if(Yn(a,f))m=fn(a,f),l=Xf(l,m,u.children);else if(Yn(f,a))if(m=fn(f,a),et(m))l=Xf(l,ut(),u.children);else{const p=Zi(u.children,Ke(m));if(p){const x=p.getChild(Tt(m));l=vl(l,ut(),x)}}}else throw ir("WriteRecord should have .snap or .children")}}return l}function Jv(i,t,a,l,c){if(!l&&!c){const u=si(i.visibleWrites,t);if(u!=null)return u;{const f=va(i.visibleWrites,t);if(Qf(f))return a;if(a==null&&!Kf(f,ut()))return null;{const m=a||Be.EMPTY_NODE;return sr(f,m)}}}else{const u=va(i.visibleWrites,t);if(!c&&Qf(u))return a;if(!c&&a==null&&!Kf(u,ut()))return null;{const f=function(x){return(x.visible||c)&&(!l||!~l.indexOf(x.writeId))&&(Yn(x.path,t)||Yn(t,x.path))},m=Zv(i.allWrites,f,t),p=a||Be.EMPTY_NODE;return sr(m,p)}}}function MS(i,t,a){let l=Be.EMPTY_NODE;const c=si(i.visibleWrites,t);if(c)return c.isLeafNode()||c.forEachChild(Ut,(u,f)=>{l=l.updateImmediateChild(u,f)}),l;if(a){const u=va(i.visibleWrites,t);return a.forEachChild(Ut,(f,m)=>{const p=sr(va(u,new _t(f)),m);l=l.updateImmediateChild(f,p)}),Kg(u).forEach(f=>{l=l.updateImmediateChild(f.name,f.node)}),l}else{const u=va(i.visibleWrites,t);return Kg(u).forEach(f=>{l=l.updateImmediateChild(f.name,f.node)}),l}}function OS(i,t,a,l,c){Se(l||c,"Either existingEventSnap or existingServerSnap must exist");const u=Lt(t,a);if(Kf(i.visibleWrites,u))return null;{const f=va(i.visibleWrites,u);return Qf(f)?c.getChild(a):sr(f,c.getChild(a))}}function DS(i,t,a,l){const c=Lt(t,a),u=si(i.visibleWrites,c);if(u!=null)return u;if(l.isCompleteForChild(a)){const f=va(i.visibleWrites,c);return sr(f,l.getNode().getImmediateChild(a))}else return null}function LS(i,t){return si(i.visibleWrites,t)}function US(i,t,a,l,c,u,f){let m;const p=va(i.visibleWrites,t),x=si(p,ut());if(x!=null)m=x;else if(a!=null)m=sr(p,a);else return[];if(m=m.withIndex(f),!m.isEmpty()&&!m.isLeafNode()){const v=[],w=f.getCompare(),N=u?m.getReverseIteratorFrom(l,f):m.getIteratorFrom(l,f);let k=N.getNext();for(;k&&v.length<c;)w(k,l)!==0&&v.push(k),k=N.getNext();return v}else return[]}function FS(){return{visibleWrites:Jn.empty(),allWrites:[],lastWriteId:-1}}function zc(i,t,a,l){return Jv(i.writeTree,i.treePath,t,a,l)}function zh(i,t){return MS(i.writeTree,i.treePath,t)}function Qg(i,t,a,l){return OS(i.writeTree,i.treePath,t,a,l)}function Mc(i,t){return LS(i.writeTree,Lt(i.treePath,t))}function PS(i,t,a,l,c,u){return US(i.writeTree,i.treePath,t,a,l,c,u)}function Mh(i,t,a){return DS(i.writeTree,i.treePath,t,a)}function e1(i,t){return t1(Lt(i.treePath,t),i.writeTree)}function t1(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.changeMap=new Map}trackChildChange(t){const a=t.type,l=t.childName;Se(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),Se(l!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(l);if(c){const u=c.type;if(a==="child_added"&&u==="child_removed")this.changeMap.set(l,Cl(l,t.snapshotNode,c.snapshotNode));else if(a==="child_removed"&&u==="child_added")this.changeMap.delete(l);else if(a==="child_removed"&&u==="child_changed")this.changeMap.set(l,El(l,c.oldSnap));else if(a==="child_changed"&&u==="child_added")this.changeMap.set(l,tr(l,t.snapshotNode));else if(a==="child_changed"&&u==="child_changed")this.changeMap.set(l,Cl(l,t.snapshotNode,c.oldSnap));else throw ir("Illegal combination of changes: "+t+" occurred after "+c)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{getCompleteChild(t){return null}getChildAfterChild(t,a,l){return null}}const n1=new GS;class Oh{constructor(t,a,l=null){this.writes_=t,this.viewCache_=a,this.optCompleteServerCache_=l}getCompleteChild(t){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(t))return a.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new _a(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mh(this.writes_,t,l)}}getChildAfterChild(t,a,l){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ti(this.viewCache_),u=PS(this.writes_,c,a,1,l,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(i){return{filter:i}}function VS(i,t){Se(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Se(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function YS(i,t,a,l,c){const u=new BS;let f,m;if(a.type===Zn.OVERWRITE){const x=a;x.source.fromUser?f=Zf(i,t,x.path,x.snap,l,c,u):(Se(x.source.fromServer,"Unknown source."),m=x.source.tagged||t.serverCache.isFiltered()&&!et(x.path),f=Oc(i,t,x.path,x.snap,l,c,m,u))}else if(a.type===Zn.MERGE){const x=a;x.source.fromUser?f=qS(i,t,x.path,x.children,l,c,u):(Se(x.source.fromServer,"Unknown source."),m=x.source.tagged||t.serverCache.isFiltered(),f=Jf(i,t,x.path,x.children,l,c,m,u))}else if(a.type===Zn.ACK_USER_WRITE){const x=a;x.revert?f=KS(i,t,x.path,l,c,u):f=WS(i,t,x.path,x.affectedTree,l,c,u)}else if(a.type===Zn.LISTEN_COMPLETE)f=XS(i,t,a.path,l,u);else throw ir("Unknown operation type: "+a.type);const p=u.getChanges();return $S(t,f,p),{viewCache:f,changes:p}}function $S(i,t,a){const l=t.eventCache;if(l.isFullyInitialized()){const c=l.getNode().isLeafNode()||l.getNode().isEmpty(),u=Ic(i);(a.length>0||!i.eventCache.isFullyInitialized()||c&&!l.getNode().equals(u)||!l.getNode().getPriority().equals(u.getPriority()))&&a.push(Wv(Ic(t)))}}function s1(i,t,a,l,c,u){const f=t.eventCache;if(Mc(l,a)!=null)return t;{let m,p;if(et(a))if(Se(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const x=ti(t),v=x instanceof Be?x:Be.EMPTY_NODE,w=zh(l,v);m=i.filter.updateFullNode(t.eventCache.getNode(),w,u)}else{const x=zc(l,ti(t));m=i.filter.updateFullNode(t.eventCache.getNode(),x,u)}else{const x=Ke(a);if(x===".priority"){Se(wa(a)===1,"Can't have a priority with additional path components");const v=f.getNode();p=t.serverCache.getNode();const w=Qg(l,a,v,p);w!=null?m=i.filter.updatePriority(v,w):m=f.getNode()}else{const v=Tt(a);let w;if(f.isCompleteForChild(x)){p=t.serverCache.getNode();const N=Qg(l,a,f.getNode(),p);N!=null?w=f.getNode().getImmediateChild(x).updateChild(v,N):w=f.getNode().getImmediateChild(x)}else w=Mh(l,x,t.serverCache);w!=null?m=i.filter.updateChild(f.getNode(),x,w,v,c,u):m=f.getNode()}}return bl(t,m,f.isFullyInitialized()||et(a),i.filter.filtersNodes())}}function Oc(i,t,a,l,c,u,f,m){const p=t.serverCache;let x;const v=f?i.filter:i.filter.getIndexedFilter();if(et(a))x=v.updateFullNode(p.getNode(),l,null);else if(v.filtersNodes()&&!p.isFiltered()){const k=p.getNode().updateChild(a,l);x=v.updateFullNode(p.getNode(),k,null)}else{const k=Ke(a);if(!p.isCompleteForPath(a)&&wa(a)>1)return t;const M=Tt(a),O=p.getNode().getImmediateChild(k).updateChild(M,l);k===".priority"?x=v.updatePriority(p.getNode(),O):x=v.updateChild(p.getNode(),k,O,M,n1,null)}const w=Kv(t,x,p.isFullyInitialized()||et(a),v.filtersNodes()),N=new Oh(c,w,u);return s1(i,w,a,c,N,m)}function Zf(i,t,a,l,c,u,f){const m=t.eventCache;let p,x;const v=new Oh(c,t,u);if(et(a))x=i.filter.updateFullNode(t.eventCache.getNode(),l,f),p=bl(t,x,!0,i.filter.filtersNodes());else{const w=Ke(a);if(w===".priority")x=i.filter.updatePriority(t.eventCache.getNode(),l),p=bl(t,x,m.isFullyInitialized(),m.isFiltered());else{const N=Tt(a),k=m.getNode().getImmediateChild(w);let M;if(et(N))M=l;else{const L=v.getCompleteChild(w);L!=null?jh(N)===".priority"&&L.getChild(Bv(N)).isEmpty()?M=L:M=L.updateChild(N,l):M=Be.EMPTY_NODE}if(k.equals(M))p=t;else{const L=i.filter.updateChild(m.getNode(),w,M,N,v,f);p=bl(t,L,m.isFullyInitialized(),i.filter.filtersNodes())}}}return p}function Zg(i,t){return i.eventCache.isCompleteForChild(t)}function qS(i,t,a,l,c,u,f){let m=t;return l.foreach((p,x)=>{const v=Lt(a,p);Zg(t,Ke(v))&&(m=Zf(i,m,v,x,c,u,f))}),l.foreach((p,x)=>{const v=Lt(a,p);Zg(t,Ke(v))||(m=Zf(i,m,v,x,c,u,f))}),m}function Jg(i,t,a){return a.foreach((l,c)=>{t=t.updateChild(l,c)}),t}function Jf(i,t,a,l,c,u,f,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,x;et(a)?x=l:x=new Ct(null).setTree(a,l);const v=t.serverCache.getNode();return x.children.inorderTraversal((w,N)=>{if(v.hasChild(w)){const k=t.serverCache.getNode().getImmediateChild(w),M=Jg(i,k,N);p=Oc(i,p,new _t(w),M,c,u,f,m)}}),x.children.inorderTraversal((w,N)=>{const k=!t.serverCache.isCompleteForChild(w)&&N.value===null;if(!v.hasChild(w)&&!k){const M=t.serverCache.getNode().getImmediateChild(w),L=Jg(i,M,N);p=Oc(i,p,new _t(w),L,c,u,f,m)}}),p}function WS(i,t,a,l,c,u,f){if(Mc(c,a)!=null)return t;const m=t.serverCache.isFiltered(),p=t.serverCache;if(l.value!=null){if(et(a)&&p.isFullyInitialized()||p.isCompleteForPath(a))return Oc(i,t,a,p.getNode().getChild(a),c,u,m,f);if(et(a)){let x=new Ct(null);return p.getNode().forEachChild(Qi,(v,w)=>{x=x.set(new _t(v),w)}),Jf(i,t,a,x,c,u,m,f)}else return t}else{let x=new Ct(null);return l.foreach((v,w)=>{const N=Lt(a,v);p.isCompleteForPath(N)&&(x=x.set(v,p.getNode().getChild(N)))}),Jf(i,t,a,x,c,u,m,f)}}function XS(i,t,a,l,c){const u=t.serverCache,f=Kv(t,u.getNode(),u.isFullyInitialized()||et(a),u.isFiltered());return s1(i,f,a,l,n1,c)}function KS(i,t,a,l,c,u){let f;if(Mc(l,a)!=null)return t;{const m=new Oh(l,t,c),p=t.eventCache.getNode();let x;if(et(a)||Ke(a)===".priority"){let v;if(t.serverCache.isFullyInitialized())v=zc(l,ti(t));else{const w=t.serverCache.getNode();Se(w instanceof Be,"serverChildren would be complete if leaf node"),v=zh(l,w)}v=v,x=i.filter.updateFullNode(p,v,u)}else{const v=Ke(a);let w=Mh(l,v,t.serverCache);w==null&&t.serverCache.isCompleteForChild(v)&&(w=p.getImmediateChild(v)),w!=null?x=i.filter.updateChild(p,v,w,Tt(a),m,u):t.eventCache.getNode().hasChild(v)?x=i.filter.updateChild(p,v,Be.EMPTY_NODE,Tt(a),m,u):x=p,x.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=zc(l,ti(t)),f.isLeafNode()&&(x=i.filter.updateFullNode(x,f,u)))}return f=t.serverCache.isFullyInitialized()||Mc(l,ut())!=null,bl(t,x,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,a){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,c=new Ch(l.getIndex()),u=pS(l);this.processor_=HS(u);const f=a.serverCache,m=a.eventCache,p=c.updateFullNode(Be.EMPTY_NODE,f.getNode(),null),x=u.updateFullNode(Be.EMPTY_NODE,m.getNode(),null),v=new _a(p,f.isFullyInitialized(),c.filtersNodes()),w=new _a(x,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=$c(w,v),this.eventGenerator_=new _S(this.query_)}get query(){return this.query_}}function ZS(i){return i.viewCache_.serverCache.getNode()}function JS(i){return Ic(i.viewCache_)}function ek(i,t){const a=ti(i.viewCache_);return a&&(i.query._queryParams.loadsAllData()||!et(t)&&!a.getImmediateChild(Ke(t)).isEmpty())?a.getChild(t):null}function eb(i){return i.eventRegistrations_.length===0}function tk(i,t){i.eventRegistrations_.push(t)}function tb(i,t,a){const l=[];if(a){Se(t==null,"A cancel should cancel all event registrations.");const c=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(a,c);f&&l.push(f)})}if(t){let c=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(t))c.push(f);else if(t.hasAnyCallback()){c=c.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=c}else i.eventRegistrations_=[];return l}function nb(i,t,a,l){t.type===Zn.MERGE&&t.source.queryId!==null&&(Se(ti(i.viewCache_),"We should always have a full cache before handling merges"),Se(Ic(i.viewCache_),"Missing event cache, even though we have a server cache"));const c=i.viewCache_,u=YS(i.processor_,c,t,a,l);return VS(i.processor_,u.viewCache),Se(u.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,a1(i,u.changes,u.viewCache.eventCache.getNode(),null)}function nk(i,t){const a=i.viewCache_.eventCache,l=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(Ut,(u,f)=>{l.push(tr(u,f))}),a.isFullyInitialized()&&l.push(Wv(a.getNode())),a1(i,l,a.getNode(),t)}function a1(i,t,a,l){const c=l?[l]:i.eventRegistrations_;return NS(i.eventGenerator_,t,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;class i1{constructor(){this.views=new Map}}function sk(i){Se(!Dc,"__referenceConstructor has already been defined"),Dc=i}function ak(){return Se(Dc,"Reference.ts has not been loaded"),Dc}function ik(i){return i.views.size===0}function Dh(i,t,a,l){const c=t.source.queryId;if(c!==null){const u=i.views.get(c);return Se(u!=null,"SyncTree gave us an op for an invalid query."),nb(u,t,a,l)}else{let u=[];for(const f of i.views.values())u=u.concat(nb(f,t,a,l));return u}}function r1(i,t,a,l,c){const u=t._queryIdentifier,f=i.views.get(u);if(!f){let m=zc(a,c?l:null),p=!1;m?p=!0:l instanceof Be?(m=zh(a,l),p=!1):(m=Be.EMPTY_NODE,p=!1);const x=$c(new _a(m,p,!1),new _a(l,c,!1));return new QS(t,x)}return f}function rk(i,t,a,l,c,u){const f=r1(i,t,l,c,u);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),tk(f,a),nk(f,a)}function lk(i,t,a,l){const c=t._queryIdentifier,u=[];let f=[];const m=Na(i);if(c==="default")for(const[p,x]of i.views.entries())f=f.concat(tb(x,a,l)),eb(x)&&(i.views.delete(p),x.query._queryParams.loadsAllData()||u.push(x.query));else{const p=i.views.get(c);p&&(f=f.concat(tb(p,a,l)),eb(p)&&(i.views.delete(c),p.query._queryParams.loadsAllData()||u.push(p.query)))}return m&&!Na(i)&&u.push(new(ak())(t._repo,t._path)),{removed:u,events:f}}function l1(i){const t=[];for(const a of i.views.values())a.query._queryParams.loadsAllData()||t.push(a);return t}function ya(i,t){let a=null;for(const l of i.views.values())a=a||ek(l,t);return a}function o1(i,t){if(t._queryParams.loadsAllData())return Wc(i);{const l=t._queryIdentifier;return i.views.get(l)}}function c1(i,t){return o1(i,t)!=null}function Na(i){return Wc(i)!=null}function Wc(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;function ok(i){Se(!Lc,"__referenceConstructor has already been defined"),Lc=i}function ck(){return Se(Lc,"Reference.ts has not been loaded"),Lc}let uk=1;class sb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ct(null),this.pendingWriteTree_=FS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function u1(i,t,a,l,c){return ES(i.pendingWriteTree_,t,a,l,c),c?dr(i,new ei(Ah(),t,a)):[]}function dk(i,t,a,l){CS(i.pendingWriteTree_,t,a,l);const c=Ct.fromObject(a);return dr(i,new nr(Ah(),t,c))}function xa(i,t,a=!1){const l=TS(i.pendingWriteTree_,t);if(AS(i.pendingWriteTree_,t)){let u=new Ct(null);return l.snap!=null?u=u.set(ut(),!0):ln(l.children,f=>{u=u.set(new _t(f),!0)}),dr(i,new Rc(l.path,u,a))}else return[]}function Hl(i,t,a){return dr(i,new ei(Rh(),t,a))}function fk(i,t,a){const l=Ct.fromObject(a);return dr(i,new nr(Rh(),t,l))}function hk(i,t){return dr(i,new Al(Rh(),t))}function mk(i,t,a){const l=Uh(i,a);if(l){const c=Fh(l),u=c.path,f=c.queryId,m=fn(u,t),p=new Al(Ih(f),m);return Ph(i,u,p)}else return[]}function Uc(i,t,a,l,c=!1){const u=t._path,f=i.syncPointTree_.get(u);let m=[];if(f&&(t._queryIdentifier==="default"||c1(f,t))){const p=lk(f,t,a,l);ik(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const x=p.removed;if(m=p.events,!c){const v=x.findIndex(N=>N._queryParams.loadsAllData())!==-1,w=i.syncPointTree_.findOnPath(u,(N,k)=>Na(k));if(v&&!w){const N=i.syncPointTree_.subtree(u);if(!N.isEmpty()){const k=gk(N);for(let M=0;M<k.length;++M){const L=k[M],O=L.query,D=m1(i,L);i.listenProvider_.startListening(yl(O),Rl(i,O),D.hashFn,D.onComplete)}}}!w&&x.length>0&&!l&&(v?i.listenProvider_.stopListening(yl(t),null):x.forEach(N=>{const k=i.queryToTagMap.get(Xc(N));i.listenProvider_.stopListening(yl(N),k)}))}bk(i,x)}return m}function d1(i,t,a,l){const c=Uh(i,l);if(c!=null){const u=Fh(c),f=u.path,m=u.queryId,p=fn(f,t),x=new ei(Ih(m),p,a);return Ph(i,f,x)}else return[]}function pk(i,t,a,l){const c=Uh(i,l);if(c){const u=Fh(c),f=u.path,m=u.queryId,p=fn(f,t),x=Ct.fromObject(a),v=new nr(Ih(m),p,x);return Ph(i,f,v)}else return[]}function eh(i,t,a,l=!1){const c=t._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(c,(N,k)=>{const M=fn(N,c);u=u||ya(k,M),f=f||Na(k)});let m=i.syncPointTree_.get(c);m?(f=f||Na(m),u=u||ya(m,ut())):(m=new i1,i.syncPointTree_=i.syncPointTree_.set(c,m));let p;u!=null?p=!0:(p=!1,u=Be.EMPTY_NODE,i.syncPointTree_.subtree(c).foreachChild((k,M)=>{const L=ya(M,ut());L&&(u=u.updateImmediateChild(k,L))}));const x=c1(m,t);if(!x&&!t._queryParams.loadsAllData()){const N=Xc(t);Se(!i.queryToTagMap.has(N),"View does not exist, but we have a tag");const k=vk();i.queryToTagMap.set(N,k),i.tagToQueryMap.set(k,N)}const v=qc(i.pendingWriteTree_,c);let w=rk(m,t,a,v,u,p);if(!x&&!f&&!l){const N=o1(m,t);w=w.concat(yk(i,t,N))}return w}function Lh(i,t,a){const c=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(t,(f,m)=>{const p=fn(f,t),x=ya(m,p);if(x)return x});return Jv(c,t,u,a,!0)}function xk(i,t){const a=t._path;let l=null;i.syncPointTree_.foreachOnPath(a,(x,v)=>{const w=fn(x,a);l=l||ya(v,w)});let c=i.syncPointTree_.get(a);c?l=l||ya(c,ut()):(c=new i1,i.syncPointTree_=i.syncPointTree_.set(a,c));const u=l!=null,f=u?new _a(l,!0,!1):null,m=qc(i.pendingWriteTree_,t._path),p=r1(c,t,m,u?f.getNode():Be.EMPTY_NODE,u);return JS(p)}function dr(i,t){return f1(t,i.syncPointTree_,null,qc(i.pendingWriteTree_,ut()))}function f1(i,t,a,l){if(et(i.path))return h1(i,t,a,l);{const c=t.get(ut());a==null&&c!=null&&(a=ya(c,ut()));let u=[];const f=Ke(i.path),m=i.operationForChild(f),p=t.children.get(f);if(p&&m){const x=a?a.getImmediateChild(f):null,v=e1(l,f);u=u.concat(f1(m,p,x,v))}return c&&(u=u.concat(Dh(c,i,l,a))),u}}function h1(i,t,a,l){const c=t.get(ut());a==null&&c!=null&&(a=ya(c,ut()));let u=[];return t.children.inorderTraversal((f,m)=>{const p=a?a.getImmediateChild(f):null,x=e1(l,f),v=i.operationForChild(f);v&&(u=u.concat(h1(v,m,p,x)))}),c&&(u=u.concat(Dh(c,i,l,a))),u}function m1(i,t){const a=t.query,l=Rl(i,a);return{hashFn:()=>(ZS(t)||Be.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return l?mk(i,a._path,l):hk(i,a._path);{const u=h5(c,a);return Uc(i,a,null,u)}}}}function Rl(i,t){const a=Xc(t);return i.queryToTagMap.get(a)}function Xc(i){return i._path.toString()+"$"+i._queryIdentifier}function Uh(i,t){return i.tagToQueryMap.get(t)}function Fh(i){const t=i.indexOf("$");return Se(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new _t(i.substr(0,t))}}function Ph(i,t,a){const l=i.syncPointTree_.get(t);Se(l,"Missing sync point for query tag that we're tracking");const c=qc(i.pendingWriteTree_,t);return Dh(l,a,c,null)}function gk(i){return i.fold((t,a,l)=>{if(a&&Na(a))return[Wc(a)];{let c=[];return a&&(c=l1(a)),ln(l,(u,f)=>{c=c.concat(f)}),c}})}function yl(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(ck())(i._repo,i._path):i}function bk(i,t){for(let a=0;a<t.length;++a){const l=t[a];if(!l._queryParams.loadsAllData()){const c=Xc(l),u=i.queryToTagMap.get(c);i.queryToTagMap.delete(c),i.tagToQueryMap.delete(u)}}}function vk(){return uk++}function yk(i,t,a){const l=t._path,c=Rl(i,t),u=m1(i,a),f=i.listenProvider_.startListening(yl(t),c,u.hashFn,u.onComplete),m=i.syncPointTree_.subtree(l);if(c)Se(!Na(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((x,v,w)=>{if(!et(x)&&v&&Na(v))return[Wc(v).query];{let N=[];return v&&(N=N.concat(l1(v).map(k=>k.query))),ln(w,(k,M)=>{N=N.concat(M)}),N}});for(let x=0;x<p.length;++x){const v=p[x];i.listenProvider_.stopListening(yl(v),Rl(i,v))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t){this.node_=t}getImmediateChild(t){const a=this.node_.getImmediateChild(t);return new Bh(a)}node(){return this.node_}}class Gh{constructor(t,a){this.syncTree_=t,this.path_=a}getImmediateChild(t){const a=Lt(this.path_,t);return new Gh(this.syncTree_,a)}node(){return Lh(this.syncTree_,this.path_)}}const wk=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},ab=function(i,t,a){if(!i||typeof i!="object")return i;if(Se(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return _k(i[".sv"],t,a);if(typeof i[".sv"]=="object")return Nk(i[".sv"],t);Se(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},_k=function(i,t,a){switch(i){case"timestamp":return a.timestamp;default:Se(!1,"Unexpected server value: "+i)}},Nk=function(i,t,a){i.hasOwnProperty("increment")||Se(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const l=i.increment;typeof l!="number"&&Se(!1,"Unexpected increment value: "+l);const c=t.node();if(Se(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return l;const f=c.getValue();return typeof f!="number"?l:f+l},p1=function(i,t,a,l){return Hh(t,new Gh(a,i),l)},x1=function(i,t,a){return Hh(i,new Bh(t),a)};function Hh(i,t,a){const l=i.getPriority().val(),c=ab(l,t.getImmediateChild(".priority"),a);let u;if(i.isLeafNode()){const f=i,m=ab(f.getValue(),t,a);return m!==f.getValue()||c!==f.getPriority().val()?new Zt(m,qt(c)):i}else{const f=i;return u=f,c!==f.getPriority().val()&&(u=u.updatePriority(new Zt(c))),f.forEachChild(Ut,(m,p)=>{const x=Hh(p,t.getImmediateChild(m),a);x!==p&&(u=u.updateImmediateChild(m,x))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t="",a=null,l={children:{},childCount:0}){this.name=t,this.parent=a,this.node=l}}function Yh(i,t){let a=t instanceof _t?t:new _t(t),l=i,c=Ke(a);for(;c!==null;){const u=Zi(l.node.children,c)||{children:{},childCount:0};l=new Vh(c,l,u),a=Tt(a),c=Ke(a)}return l}function fr(i){return i.node.value}function g1(i,t){i.node.value=t,th(i)}function b1(i){return i.node.childCount>0}function jk(i){return fr(i)===void 0&&!b1(i)}function Kc(i,t){ln(i.node.children,(a,l)=>{t(new Vh(a,i,l))})}function v1(i,t,a,l){a&&t(i),Kc(i,c=>{v1(c,t,!0)})}function Sk(i,t,a){let l=i.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function Vl(i){return new _t(i.parent===null?i.name:Vl(i.parent)+"/"+i.name)}function th(i){i.parent!==null&&kk(i.parent,i.name,i)}function kk(i,t,a){const l=jk(a),c=ls(i.node.children,t);l&&c?(delete i.node.children[t],i.node.childCount--,th(i)):!l&&!c&&(i.node.children[t]=a.node,i.node.childCount++,th(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=/[\[\].#$\/\u0000-\u001F\u007F]/,Ck=/[\[\].#$\u0000-\u001F\u007F]/,If=10*1024*1024,$h=function(i){return typeof i=="string"&&i.length!==0&&!Ek.test(i)},y1=function(i){return typeof i=="string"&&i.length!==0&&!Ck.test(i)},Tk=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),y1(i)},Ak=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!vh(i)||i&&typeof i=="object"&&ls(i,".sv")},w1=function(i,t,a,l){l&&t===void 0||Qc(Pc(i,"value"),t,a)},Qc=function(i,t,a){const l=a instanceof _t?new q5(a,i):a;if(t===void 0)throw new Error(i+"contains undefined "+Ya(l));if(typeof t=="function")throw new Error(i+"contains a function "+Ya(l)+" with contents = "+t.toString());if(vh(t))throw new Error(i+"contains "+t.toString()+" "+Ya(l));if(typeof t=="string"&&t.length>If/3&&Bc(t)>If)throw new Error(i+"contains a string greater than "+If+" utf8 bytes "+Ya(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let c=!1,u=!1;if(ln(t,(f,m)=>{if(f===".value")c=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!$h(f)))throw new Error(i+" contains an invalid key ("+f+") "+Ya(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);W5(l,f),Qc(i,m,l),X5(l)}),c&&u)throw new Error(i+' contains ".value" child '+Ya(l)+" in addition to actual children.")}},Rk=function(i,t){let a,l;for(a=0;a<t.length;a++){l=t[a];const u=kl(l);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!$h(u[f]))throw new Error(i+"contains an invalid key ("+u[f]+") in path "+l.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort($5);let c=null;for(a=0;a<t.length;a++){if(l=t[a],c!==null&&Yn(c,l))throw new Error(i+"contains a path "+c.toString()+" that is ancestor of another path "+l.toString());c=l}},Ik=function(i,t,a,l){const c=Pc(i,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(c+" must be an object containing the children to replace.");const u=[];ln(t,(f,m)=>{const p=new _t(f);if(Qc(c,m,Lt(a,p)),jh(p)===".priority"&&!Ak(m))throw new Error(c+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),Rk(c,u)},_1=function(i,t,a,l){if(!y1(a))throw new Error(Pc(i,t)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zk=function(i,t,a,l){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),_1(i,t,a)},N1=function(i,t){if(Ke(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},Mk=function(i,t){const a=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!$h(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!Tk(a))throw new Error(Pc(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zc(i,t){let a=null;for(let l=0;l<t.length;l++){const c=t[l],u=c.getPath();a!==null&&!Sh(u,a.path)&&(i.eventLists_.push(a),a=null),a===null&&(a={events:[],path:u}),a.events.push(c)}a&&i.eventLists_.push(a)}function j1(i,t,a){Zc(i,a),S1(i,l=>Sh(l,t))}function $n(i,t,a){Zc(i,a),S1(i,l=>Yn(l,t)||Yn(t,l))}function S1(i,t){i.recursionDepth_++;let a=!0;for(let l=0;l<i.eventLists_.length;l++){const c=i.eventLists_[l];if(c){const u=c.path;t(u)?(Dk(i.eventLists_[l]),i.eventLists_[l]=null):a=!1}}a&&(i.eventLists_=[]),i.recursionDepth_--}function Dk(i){for(let t=0;t<i.events.length;t++){const a=i.events[t];if(a!==null){i.events[t]=null;const l=a.getEventRunner();xl&&rn("event: "+a.toString()),ur(l)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="repo_interrupt",Uk=25;class Fk{constructor(t,a,l,c){this.repoInfo_=t,this.forceRestClient_=a,this.authTokenProvider_=l,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ok,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ac(),this.transactionQueueTree_=new Vh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Pk(i,t,a){if(i.stats_=_h(i.repoInfo_),i.forceRestClient_||g5())i.server_=new Tc(i.repoInfo_,(l,c,u,f)=>{ib(i,l,c,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>rb(i,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Wt(a)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}i.persistentConnection_=new Is(i.repoInfo_,t,(l,c,u,f)=>{ib(i,l,c,u,f)},l=>{rb(i,l)},l=>{Bk(i,l)},i.authTokenProvider_,i.appCheckProvider_,a),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(l=>{i.server_.refreshAuthToken(l)}),i.appCheckProvider_.addTokenChangeListener(l=>{i.server_.refreshAppCheckToken(l.token)}),i.statsReporter_=_5(i.repoInfo_,()=>new wS(i.stats_,i.server_)),i.infoData_=new xS,i.infoSyncTree_=new sb({startListening:(l,c,u,f)=>{let m=[];const p=i.infoData_.getNode(l._path);return p.isEmpty()||(m=Hl(i.infoSyncTree_,l._path,p),setTimeout(()=>{f("ok")},0)),m},stopListening:()=>{}}),qh(i,"connected",!1),i.serverSyncTree_=new sb({startListening:(l,c,u,f)=>(i.server_.listen(l,u,c,(m,p)=>{const x=f(m,p);$n(i.eventQueue_,l._path,x)}),[]),stopListening:(l,c)=>{i.server_.unlisten(l,c)}})}function k1(i){const a=i.infoData_.getNode(new _t(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function Jc(i){return wk({timestamp:k1(i)})}function ib(i,t,a,l,c){i.dataUpdateCount++;const u=new _t(t);a=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,a):a;let f=[];if(c)if(l){const p=gc(a,x=>qt(x));f=pk(i.serverSyncTree_,u,p,c)}else{const p=qt(a);f=d1(i.serverSyncTree_,u,p,c)}else if(l){const p=gc(a,x=>qt(x));f=fk(i.serverSyncTree_,u,p)}else{const p=qt(a);f=Hl(i.serverSyncTree_,u,p)}let m=u;f.length>0&&(m=ar(i,u)),$n(i.eventQueue_,m,f)}function rb(i,t){qh(i,"connected",t),t===!1&&Yk(i)}function Bk(i,t){ln(t,(a,l)=>{qh(i,a,l)})}function qh(i,t,a){const l=new _t("/.info/"+t),c=qt(a);i.infoData_.updateSnapshot(l,c);const u=Hl(i.infoSyncTree_,l,c);$n(i.eventQueue_,l,u)}function Wh(i){return i.nextWriteId_++}function Gk(i,t,a){const l=xk(i.serverSyncTree_,t);return l!=null?Promise.resolve(l):i.server_.get(t).then(c=>{const u=qt(c).withIndex(t._queryParams.getIndex());eh(i.serverSyncTree_,t,a,!0);let f;if(t._queryParams.loadsAllData())f=Hl(i.serverSyncTree_,t._path,u);else{const m=Rl(i.serverSyncTree_,t);f=d1(i.serverSyncTree_,t._path,u,m)}return $n(i.eventQueue_,t._path,f),Uc(i.serverSyncTree_,t,a,null,!0),u},c=>(Yl(i,"get for query "+Wt(t)+" failed: "+c),Promise.reject(new Error(c))))}function Hk(i,t,a,l,c){Yl(i,"set",{path:t.toString(),value:a,priority:l});const u=Jc(i),f=qt(a,l),m=Lh(i.serverSyncTree_,t),p=x1(f,m,u),x=Wh(i),v=u1(i.serverSyncTree_,t,p,x,!0);Zc(i.eventQueue_,v),i.server_.put(t.toString(),f.val(!0),(N,k)=>{const M=N==="ok";M||hn("set at "+t+" failed: "+N);const L=xa(i.serverSyncTree_,x,!M);$n(i.eventQueue_,t,L),nh(i,c,N,k)});const w=Kh(i,t);ar(i,w),$n(i.eventQueue_,w,[])}function Vk(i,t,a,l){Yl(i,"update",{path:t.toString(),value:a});let c=!0;const u=Jc(i),f={};if(ln(a,(m,p)=>{c=!1,f[m]=p1(Lt(t,m),qt(p),i.serverSyncTree_,u)}),c)rn("update() called with empty data.  Don't do anything."),nh(i,l,"ok",void 0);else{const m=Wh(i),p=dk(i.serverSyncTree_,t,f,m);Zc(i.eventQueue_,p),i.server_.merge(t.toString(),a,(x,v)=>{const w=x==="ok";w||hn("update at "+t+" failed: "+x);const N=xa(i.serverSyncTree_,m,!w),k=N.length>0?ar(i,t):t;$n(i.eventQueue_,k,N),nh(i,l,x,v)}),ln(a,x=>{const v=Kh(i,Lt(t,x));ar(i,v)}),$n(i.eventQueue_,t,[])}}function Yk(i){Yl(i,"onDisconnectEvents");const t=Jc(i),a=Ac();Wf(i.onDisconnect_,ut(),(c,u)=>{const f=p1(c,u,i.serverSyncTree_,t);Xv(a,c,f)});let l=[];Wf(a,ut(),(c,u)=>{l=l.concat(Hl(i.serverSyncTree_,c,u));const f=Kh(i,c);ar(i,f)}),i.onDisconnect_=Ac(),$n(i.eventQueue_,ut(),l)}function $k(i,t,a){let l;Ke(t._path)===".info"?l=eh(i.infoSyncTree_,t,a):l=eh(i.serverSyncTree_,t,a),j1(i.eventQueue_,t._path,l)}function qk(i,t,a){let l;Ke(t._path)===".info"?l=Uc(i.infoSyncTree_,t,a):l=Uc(i.serverSyncTree_,t,a),j1(i.eventQueue_,t._path,l)}function Wk(i){i.persistentConnection_&&i.persistentConnection_.interrupt(Lk)}function Yl(i,...t){let a="";i.persistentConnection_&&(a=i.persistentConnection_.id+":"),rn(a,...t)}function nh(i,t,a,l){t&&ur(()=>{if(a==="ok")t(null);else{const c=(a||"error").toUpperCase();let u=c;l&&(u+=": "+l);const f=new Error(u);f.code=c,t(f)}})}function E1(i,t,a){return Lh(i.serverSyncTree_,t,a)||Be.EMPTY_NODE}function Xh(i,t=i.transactionQueueTree_){if(t||eu(i,t),fr(t)){const a=T1(i,t);Se(a.length>0,"Sending zero length transaction queue"),a.every(c=>c.status===0)&&Xk(i,Vl(t),a)}else b1(t)&&Kc(t,a=>{Xh(i,a)})}function Xk(i,t,a){const l=a.map(x=>x.currentWriteId),c=E1(i,t,l);let u=c;const f=c.hash();for(let x=0;x<a.length;x++){const v=a[x];Se(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const w=fn(t,v.path);u=u.updateChild(w,v.currentOutputSnapshotRaw)}const m=u.val(!0),p=t;i.server_.put(p.toString(),m,x=>{Yl(i,"transaction put response",{path:p.toString(),status:x});let v=[];if(x==="ok"){const w=[];for(let N=0;N<a.length;N++)a[N].status=2,v=v.concat(xa(i.serverSyncTree_,a[N].currentWriteId)),a[N].onComplete&&w.push(()=>a[N].onComplete(null,!0,a[N].currentOutputSnapshotResolved)),a[N].unwatcher();eu(i,Yh(i.transactionQueueTree_,t)),Xh(i,i.transactionQueueTree_),$n(i.eventQueue_,t,v);for(let N=0;N<w.length;N++)ur(w[N])}else{if(x==="datastale")for(let w=0;w<a.length;w++)a[w].status===3?a[w].status=4:a[w].status=0;else{hn("transaction at "+p.toString()+" failed: "+x);for(let w=0;w<a.length;w++)a[w].status=4,a[w].abortReason=x}ar(i,t)}},f)}function ar(i,t){const a=C1(i,t),l=Vl(a),c=T1(i,a);return Kk(i,c,l),l}function Kk(i,t,a){if(t.length===0)return;const l=[];let c=[];const f=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const p=t[m],x=fn(a,p.path);let v=!1,w;if(Se(x!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)v=!0,w=p.abortReason,c=c.concat(xa(i.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=Uk)v=!0,w="maxretry",c=c.concat(xa(i.serverSyncTree_,p.currentWriteId,!0));else{const N=E1(i,p.path,f);p.currentInputSnapshot=N;const k=t[m].update(N.val());if(k!==void 0){Qc("transaction failed: Data returned ",k,p.path);let M=qt(k);typeof k=="object"&&k!=null&&ls(k,".priority")||(M=M.updatePriority(N.getPriority()));const O=p.currentWriteId,D=Jc(i),W=x1(M,N,D);p.currentOutputSnapshotRaw=M,p.currentOutputSnapshotResolved=W,p.currentWriteId=Wh(i),f.splice(f.indexOf(O),1),c=c.concat(u1(i.serverSyncTree_,p.path,W,p.currentWriteId,p.applyLocally)),c=c.concat(xa(i.serverSyncTree_,O,!0))}else v=!0,w="nodata",c=c.concat(xa(i.serverSyncTree_,p.currentWriteId,!0))}$n(i.eventQueue_,a,c),c=[],v&&(t[m].status=2,(function(N){setTimeout(N,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(w==="nodata"?l.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):l.push(()=>t[m].onComplete(new Error(w),!1,null))))}eu(i,i.transactionQueueTree_);for(let m=0;m<l.length;m++)ur(l[m]);Xh(i,i.transactionQueueTree_)}function C1(i,t){let a,l=i.transactionQueueTree_;for(a=Ke(t);a!==null&&fr(l)===void 0;)l=Yh(l,a),t=Tt(t),a=Ke(t);return l}function T1(i,t){const a=[];return A1(i,t,a),a.sort((l,c)=>l.order-c.order),a}function A1(i,t,a){const l=fr(t);if(l)for(let c=0;c<l.length;c++)a.push(l[c]);Kc(t,c=>{A1(i,c,a)})}function eu(i,t){const a=fr(t);if(a){let l=0;for(let c=0;c<a.length;c++)a[c].status!==2&&(a[l]=a[c],l++);a.length=l,g1(t,a.length>0?a:void 0)}Kc(t,l=>{eu(i,l)})}function Kh(i,t){const a=Vl(C1(i,t)),l=Yh(i.transactionQueueTree_,t);return Sk(l,c=>{zf(i,c)}),zf(i,l),v1(l,c=>{zf(i,c)}),a}function zf(i,t){const a=fr(t);if(a){const l=[];let c=[],u=-1;for(let f=0;f<a.length;f++)a[f].status===3||(a[f].status===1?(Se(u===f-1,"All SENT items should be at beginning of queue."),u=f,a[f].status=3,a[f].abortReason="set"):(Se(a[f].status===0,"Unexpected transaction status in abort"),a[f].unwatcher(),c=c.concat(xa(i.serverSyncTree_,a[f].currentWriteId,!0)),a[f].onComplete&&l.push(a[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?g1(t,void 0):a.length=u+1,$n(i.eventQueue_,Vl(t),c);for(let f=0;f<l.length;f++)ur(l[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(i){let t="";const a=i.split("/");for(let l=0;l<a.length;l++)if(a[l].length>0){let c=a[l];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}t+="/"+c}return t}function Zk(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const a of i.split("&")){if(a.length===0)continue;const l=a.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):hn(`Invalid query segment '${a}' in query '${i}'`)}return t}const lb=function(i,t){const a=Jk(i),l=a.namespace;a.domain==="firebase.com"&&Os(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&a.domain!=="localhost"&&Os("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||o5();const c=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new Iv(a.host,a.secure,l,c,t,"",l!==a.subdomain),path:new _t(a.pathString)}},Jk=function(i){let t="",a="",l="",c="",u="",f=!0,m="https",p=443;if(typeof i=="string"){let x=i.indexOf("//");x>=0&&(m=i.substring(0,x-1),i=i.substring(x+2));let v=i.indexOf("/");v===-1&&(v=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),t=i.substring(0,Math.min(v,w)),v<w&&(c=Qk(i.substring(v,w)));const N=Zk(i.substring(Math.min(i.length,w)));x=t.indexOf(":"),x>=0?(f=m==="https"||m==="wss",p=parseInt(t.substring(x+1),10)):x=t.length;const k=t.slice(0,x);if(k.toLowerCase()==="localhost")a="localhost";else if(k.split(".").length<=2)a=k;else{const M=t.indexOf(".");l=t.substring(0,M).toLowerCase(),a=t.substring(M+1),u=l}"ns"in N&&(u=N.ns)}return{host:t,port:p,domain:a,subdomain:l,secure:f,scheme:m,pathString:c,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",eE=(function(){let i=0;const t=[];return function(a){const l=a===i;i=a;let c;const u=new Array(8);for(c=7;c>=0;c--)u[c]=ob.charAt(a%64),a=Math.floor(a/64);Se(a===0,"Cannot push at time == 0");let f=u.join("");if(l){for(c=11;c>=0&&t[c]===63;c--)t[c]=0;t[c]++}else for(c=0;c<12;c++)t[c]=Math.floor(Math.random()*64);for(c=0;c<12;c++)f+=ob.charAt(t[c]);return Se(f.length===20,"nextPushId: Length should be 20."),f}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(t,a,l,c){this.eventType=t,this.eventRegistration=a,this.snapshot=l,this.prevName=c}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Wt(this.snapshot.exportVal())}}class nE{constructor(t,a,l){this.eventRegistration=t,this.error=a,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,a){this.snapshotCallback=t,this.cancelCallback=a}onValue(t,a){this.snapshotCallback.call(null,t,a)}onCancel(t){return Se(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,a,l,c){this._repo=t,this._path=a,this._queryParams=l,this._orderByCalled=c}get key(){return et(this._path)?null:jh(this._path)}get ref(){return new Us(this._repo,this._path)}get _queryIdentifier(){const t=qg(this._queryParams),a=yh(t);return a==="{}"?"default":a}get _queryObject(){return qg(this._queryParams)}isEqual(t){if(t=on(t),!(t instanceof Qh))return!1;const a=this._repo===t._repo,l=Sh(this._path,t._path),c=this._queryIdentifier===t._queryIdentifier;return a&&l&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+Y5(this._path)}}class Us extends Qh{constructor(t,a){super(t,a,new Th,!1)}get parent(){const t=Bv(this._path);return t===null?null:new Us(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Il{constructor(t,a,l){this._node=t,this.ref=a,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const a=new _t(t),l=zl(this.ref,t);return new Il(this._node.getChild(a),l,Ut)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,c)=>t(new Il(c,zl(this.ref,l),Ut)))}hasChild(t){const a=new _t(t);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ve(i,t){return i=on(i),i._checkNotDeleted("ref"),t!==void 0?zl(i._root,t):i._root}function zl(i,t){return i=on(i),Ke(i._path)===null?zk("child","path",t):_1("child","path",t),new Us(i._repo,Lt(i._path,t))}function I1(i,t){i=on(i),N1("push",i._path),w1("push",t,i._path,!0);const a=k1(i._repo),l=eE(a),c=zl(i,l),u=zl(i,l);let f;return f=Promise.resolve(u),c.then=f.then.bind(f),c.catch=f.then.bind(f,void 0),c}function Wa(i,t){i=on(i),N1("set",i._path),w1("set",t,i._path,!1);const a=new Ml;return Hk(i._repo,i._path,t,null,a.wrapCallback(()=>{})),a.promise}function Xe(i,t){Ik("update",t,i._path);const a=new Ml;return Vk(i._repo,i._path,t,a.wrapCallback(()=>{})),a.promise}function zt(i){i=on(i);const t=new R1(()=>{}),a=new tu(t);return Gk(i._repo,i,a).then(l=>new Il(l,new Us(i._repo,i._path),i._queryParams.getIndex()))}class tu{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,a){const l=a._queryParams.getIndex();return new tE("value",this,new Il(t.snapshotNode,new Us(a._repo,a._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,a){return this.callbackContext.hasCancelCallback?new nE(this,t,a):null}matches(t){return t instanceof tu?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function sE(i,t,a,l,c){const u=new R1(a,void 0),f=new tu(u);return $k(i._repo,i,f),()=>qk(i._repo,i,f)}function lt(i,t,a,l){return sE(i,"value",t)}sk(Us);ok(Us);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="FIREBASE_DATABASE_EMULATOR_HOST",sh={};let iE=!1;function rE(i,t,a,l){const c=t.lastIndexOf(":"),u=t.substring(0,c),f=rr(u);i.repoInfo_=new Iv(t,f,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,a),l&&(i.authTokenProvider_=l)}function lE(i,t,a,l,c){let u=l||i.options.databaseURL;u===void 0&&(i.options.projectId||Os("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rn("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=lb(u,c),m=f.repoInfo,p;typeof process<"u"&&Tg&&(p=Tg[aE]),p?(u=`http://${p}?ns=${m.namespace}`,f=lb(u,c),m=f.repoInfo):f.repoInfo.secure;const x=new v5(i.name,i.options,t);Mk("Invalid Firebase Database URL",f),et(f.path)||Os("Database URL must point to the root of a Firebase Database (not including a child path).");const v=cE(m,i,x,new b5(i,a));return new uE(v,i)}function oE(i,t){const a=sh[t];(!a||a[i.key]!==i)&&Os(`Database ${t}(${i.repoInfo_}) has already been deleted.`),Wk(i),delete a[i.key]}function cE(i,t,a,l){let c=sh[t.name];c||(c={},sh[t.name]=c);let u=c[i.toURLString()];return u&&Os("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new Fk(i,iE,a,l),c[i.toURLString()]=u,u}class uE{constructor(t,a){this._repoInternal=t,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Pk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Us(this._repo,ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Os("Cannot call "+t+" on a deleted database.")}}function dE(i=Ib(),t){const a=uh(i,"database").getImmediate({identifier:t});if(!a._instanceStarted){const l=f_("database");l&&fE(a,...l)}return a}function fE(i,t,a,l={}){i=on(i),i._checkNotDeleted("useEmulator");const c=`${t}:${a}`,u=i._repoInternal;if(i._instanceStarted){if(c===i._repoInternal.repoInfo_.host&&Xa(l,u.repoInfo_.emulatorOptions))return;Os("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)l.mockUserToken&&Os('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new mc(mc.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:h_(l.mockUserToken,i.app.options.projectId);f=new mc(m)}rr(t)&&(Sb(t),kb("Database",!0)),rE(u,c,l,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(i){n5(or),Ji(new Ka("database",(t,{instanceIdentifier:a})=>{const l=t.getProvider("app").getImmediate(),c=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return lE(l,c,u,a)},"PUBLIC").setMultipleInstances(!0)),qa(Ag,Rg,i),qa(Ag,Rg,"esm2020")}Is.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};Is.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};hE();const mE={apiKey:"AIzaSyC_Owz_O9fDXMR_klqc63eTwb6Dpiwyumg",authDomain:"shopping-ca5f4.firebaseapp.com",databaseURL:"https://shopping-ca5f4-default-rtdb.firebaseio.com",projectId:"shopping-ca5f4",storageBucket:"shopping-ca5f4.firebasestorage.app",messagingSenderId:"495362242002",appId:"1:495362242002:web:e1f494a38e461be602440b"},z1=Rb(mE),pa=e5(z1),ye=dE(z1),pE=({onFinish:i,lang:t})=>{const[a,l]=b.useState(0),[c,u]=b.useState(""),f=b.useMemo(()=>({ar:["   ...","   ...","  ...","   ...","  ."],en:["Initializing secure kernel...","Scanning digital firewalls...","Activating encryption protocols...","Syncing cloud assets...","Authentication successful."]}),[]),m=f[t]||f.en;return b.useEffect(()=>{const v=.8571428571428571,w=setInterval(()=>{l(N=>N>=100?(clearInterval(w),100):N+v)},30);return()=>clearInterval(w)},[]),b.useEffect(()=>{const p=Math.floor(a/100*m.length),x=Math.min(p,m.length-1);if(u(m[x]),a>=100){const v=setTimeout(i,600);return()=>clearTimeout(v)}},[a,m,i]),s.jsxs("div",{className:"fixed inset-0 bg-[#07080a] flex flex-col items-center justify-center z-[999999] overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(239,68,68,0.1),transparent_70%)]"}),s.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/carbon-fibre.png")'}}),s.jsxs("div",{className:"relative flex flex-col items-center z-10 animate-in fade-in zoom-in duration-1000",children:[s.jsxs("div",{className:"relative mb-14 group",children:[s.jsx("div",{className:"absolute -inset-16 bg-red-600/20 blur-[60px] rounded-full animate-pulse"}),s.jsx("div",{className:"relative w-32 h-32 bg-zinc-900 rounded-[45px] shadow-[0_0_80px_rgba(239,68,68,0.3)] overflow-hidden border border-white/10 flex items-center justify-center",children:s.jsx("img",{src:"https://i.ibb.co/WvHxbHhd/Picsart-26-01-28-22-50-23-444.jpg",alt:"BETREX",className:"w-full h-full object-cover",onError:p=>{p.target.src="https://via.placeholder.com/150/000000/FFFFFF?text=BETREX"}})})]}),s.jsxs("div",{className:"flex items-baseline gap-1 mb-2",children:[s.jsx("span",{className:"text-4xl font-black text-white tracking-tighter font-['Orbitron']",children:"BET"}),s.jsx("span",{className:"text-4xl font-normal text-red-600 tracking-tighter font-['Trade_Winds']",children:"REX"})]}),s.jsx("div",{className:"h-0.5 w-32 bg-gradient-to-r from-transparent via-red-600 to-transparent mb-12 opacity-50"}),s.jsxs("div",{className:"w-72 space-y-5",children:[s.jsx("div",{className:"h-1.5 w-full bg-zinc-900 rounded-full overflow-hidden relative border border-white/5 shadow-inner",children:s.jsx("div",{className:"h-full bg-red-600 shadow-[0_0_20px_#ef4444] transition-all duration-300 ease-out relative",style:{width:`${a}%`},children:s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent)] animate-marquee-fast"})})}),s.jsxs("div",{className:"flex justify-between items-center px-1 min-h-[20px]",children:[s.jsx("p",{className:"text-zinc-500 font-black text-[9px] uppercase tracking-widest h-4 overflow-hidden flex-1 text-left",children:c}),s.jsxs("span",{className:"text-white font-black text-[12px] ml-4 tabular-nums",children:[Math.round(a),"%"]})]})]})]}),s.jsx("div",{className:"absolute bottom-12 flex flex-col items-center gap-2 opacity-30",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-1 h-1 bg-red-600 rounded-full animate-ping"}),s.jsx("div",{className:"w-1 h-1 bg-red-600 rounded-full animate-ping [animation-delay:0.2s]"}),s.jsx("div",{className:"w-1 h-1 bg-red-600 rounded-full animate-ping [animation-delay:0.4s]"})]})}),s.jsx("style",{children:`
        @keyframes marquee-fast {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        .animate-marquee-fast {
          animation: marquee-fast 1s linear infinite;
        }
      `})]})},xE=({isOpen:i,onClose:t,lang:a,notifications:l})=>{const[c,u]=b.useState("All"),[f,m]=b.useState(i);if(b.useEffect(()=>{if(i)m(!0),document.body.style.overflow="hidden";else{const v=setTimeout(()=>{m(!1),document.body.style.overflow="unset"},400);return()=>clearTimeout(v)}},[i]),!f)return null;const p={ar:{title:"",all:"",personal:"",system:"",noUpdates:"   ",desc:"        ."},en:{title:"Notifications",all:"All",personal:"Personal",system:"System",noUpdates:"No updates yet",desc:"New notifications will appear here as they arrive in your secure channel."}}[a],x=l.filter(v=>c==="All"?!0:v.type===c.toLowerCase());return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 bg-black/60 z-[100] backdrop-blur-sm transition-opacity duration-300 ${i?"animate-backdrop-in":"opacity-0"}`,onClick:t}),s.jsxs("div",{className:`fixed bottom-0 left-0 right-0 z-[101] bg-[#1a1c1e] rounded-t-[2.5rem] p-6 pt-8 max-h-[90vh] overflow-hidden flex flex-col transition-transform duration-400 ease-[cubic-bezier(0.32,0.72,0,1)] ${i?"animate-sheet-up":"translate-y-full"}`,dir:"ltr",children:[s.jsx("div",{className:"w-12 h-1.5 bg-zinc-800 rounded-full mx-auto mb-6 -mt-2"}),s.jsxs("div",{className:"flex items-center justify-between mb-8 shrink-0",children:[s.jsx("h2",{className:"text-2xl font-black text-white tracking-tight uppercase tracking-tighter",children:p.title}),s.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center text-zinc-400 bg-zinc-900 rounded-full active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-times text-lg"})})]}),s.jsx("div",{className:"bg-zinc-900 p-1.5 rounded-2xl flex items-center mb-6 shrink-0 border border-white/5",children:["All","Personal","System"].map(v=>{const w=v==="All"?p.all:v==="Personal"?p.personal:p.system;return s.jsx("button",{onClick:()=>u(v),className:`flex-1 py-3 text-xs font-black uppercase tracking-tighter rounded-xl transition-all duration-200 active:scale-95 ${c===v?"bg-[#FFFF00] text-black shadow-[0_4px_12px_rgba(255,255,0,0.2)]":"text-zinc-500 hover:text-white"}`,children:w},v)})}),s.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4 pb-10",children:x.length>0?x.map((v,w)=>s.jsx("div",{className:"bg-zinc-900/50 p-5 rounded-[2rem] border border-white/5 animate-in slide-in-from-bottom-2 duration-300 shadow-xl",style:{animationDelay:`${w*50}ms`},children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 border border-white/10 ${v.type==="personal"?"bg-indigo-500/10 text-indigo-400":"bg-[#FFFF00]/10 text-[#FFFF00]"}`,children:s.jsx("i",{className:`fas ${v.type==="personal"?"fa-user-shield":"fa-bullhorn"} text-sm`})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h4",{className:"text-white font-black text-sm uppercase tracking-tighter",children:v.title}),s.jsx("span",{className:"text-[8px] text-zinc-600 font-bold uppercase",children:new Date(v.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("p",{className:"text-zinc-500 text-xs font-medium leading-relaxed",children:v.message})]})]})},v.id)):s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-zinc-900/50 rounded-full flex items-center justify-center mb-6 border border-white/5",children:s.jsx("i",{className:"fas fa-bell text-zinc-800 text-4xl"})}),s.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter mb-2",children:p.noUpdates}),s.jsx("p",{className:"text-zinc-500 text-[10px] font-bold uppercase tracking-widest leading-relaxed max-w-[240px]",children:p.desc})]})})]})]})},gE=[{code:"AR",name:"",nativeName:"Arabic",flag:"https://flagcdn.com/w40/eg.png"},{code:"EN",name:"English (World)",nativeName:"English",flag:"https://flagcdn.com/w40/gb.png"}],M1=({isOpen:i,onClose:t,onSelect:a,currentLang:l})=>{const[c,u]=b.useState(i);return b.useEffect(()=>{if(i)u(!0);else{const f=setTimeout(()=>u(!1),300);return()=>clearTimeout(f)}},[i]),c?s.jsxs("div",{className:`fixed inset-0 z-[200] flex items-center justify-center p-4 transition-opacity duration-300 ${i?"opacity-100":"opacity-0 pointer-events-none"}`,dir:"rtl",children:[s.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md",onClick:t}),s.jsxs("div",{className:`relative w-full max-w-sm bg-[#1a1c1e] border border-white/10 rounded-[2.5rem] overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.8)] transition-transform duration-300 ease-out ${i?"scale-100 translate-y-0":"scale-95 translate-y-4"}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 flex-row-reverse border-b border-white/5",children:[s.jsx("h2",{className:"text-xl font-black text-white tracking-tighter uppercase",children:""}),s.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 border border-white/5 hover:bg-zinc-800 transition-colors",children:s.jsx("i",{className:"fas fa-times text-zinc-500"})})]}),s.jsx("div",{className:"px-6 pb-8 overflow-y-auto max-h-[60vh] text-right pt-6",children:s.jsx("div",{className:"space-y-2",children:gE.map(f=>s.jsxs("div",{onClick:()=>a(f),className:`flex items-center space-x-4 space-x-reverse p-4 -mx-2 rounded-2xl cursor-pointer transition-all duration-300 flex-row-reverse group ${l===f.code?"bg-white/10 border border-white/10":"hover:bg-white/5"}`,children:[s.jsx("img",{src:f.flag,alt:f.code,className:"w-8 h-5 object-cover rounded shadow-sm ml-4 group-hover:scale-110 transition-transform"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-black text-white leading-none text-base",children:f.name}),s.jsx("p",{className:"text-[10px] font-bold text-zinc-500 mt-1 uppercase tracking-widest",children:f.nativeName})]}),l===f.code&&s.jsx("div",{className:"mr-auto",children:s.jsx("i",{className:"fas fa-check-circle text-[#FFFF00] text-sm"})})]},f.code))})}),s.jsx("div",{className:"bg-zinc-950/50 p-4 text-center border-t border-white/5",children:s.jsx("p",{className:"text-[8px] font-black text-zinc-700 uppercase tracking-[0.5em]",children:"ZEE AI SECURE LANGUAGE PROTOCOL"})})]})]}):null},bE=({isOpen:i,onClose:t,userData:a,lang:l,onLanguageChange:c,onFreeCashClick:u,onWheelClick:f,onNavigate:m})=>{const[p,x]=b.useState(i),[v,w]=b.useState(!1);if(b.useEffect(()=>{if(i)x(!0),document.body.style.overflow="hidden";else{const W=setTimeout(()=>{x(!1),document.body.style.overflow="unset"},400);return()=>clearTimeout(W)}},[i]),!p)return null;const N={ar:{games:"",wallet:"",account:"",others:"",crash:"",dice:"",double:"",dragon:"",yellowJey:" ",mines:"",minesPro:" ",casino:"",sports:"",deposit:"",withdraw:"",history:"",profile:" ",settings:"",rewards:"",vip:" VIP",support:"",freeCash:" ",luckyWheel:" ",app:" BETREX ",bonus:"  "},en:{games:"GAMES",wallet:"WALLET",account:"ACCOUNT",others:"OTHERS",crash:"Crash Game",dice:"Dice Game",double:"Double",dragon:"Dragon Game",yellowJey:"Yellow Jey",mines:"Mines Game",minesPro:"Mines Pro",casino:"Casino",sports:"Sports",deposit:"Deposit",withdraw:"Withdraw",history:"History",profile:"Profile",settings:"Settings",rewards:"Rewards",vip:"VIP Club",support:"Support",freeCash:"FAST CASH",luckyWheel:"LUCKY WHEEL",app:"BETREX Android App",bonus:"Bonus on Install"}}[l],k=[{id:"mines-pro",icon:"fa-gem",label:N.minesPro,color:"text-blue-400"},{id:"crash",icon:"fa-rocket",label:N.crash,color:"text-rose-500"},{id:"dice",icon:"fa-dice",label:N.dice,color:"text-indigo-500"},{id:"double",icon:"fa-layer-group",label:N.double,color:"text-amber-500"},{id:"dragon",icon:"fa-dragon",label:N.dragon,color:"text-emerald-500"},{id:"yellow-jey",icon:"fa-bolt",label:N.yellowJey,color:"text-yellow-500"},{id:"mines",icon:"fa-bomb",label:N.mines,color:"text-zinc-500"},{id:"sports",icon:"fa-futbol",label:N.sports}],M=[{id:"deposit",icon:"fa-wallet",label:N.deposit},{id:"withdraw",icon:"fa-money-bill-transfer",label:N.withdraw},{id:"history",icon:"fa-clock-rotate-left",label:N.history}],L=[{id:"profile",icon:"fa-user-gear",label:N.profile},{id:"settings",icon:"fa-gear",label:N.settings},{id:"rewards",icon:"fa-gift",label:N.rewards,badge:"1"},{id:"vip-club",icon:"fa-crown",label:N.vip}],O=W=>{t(),m(W)},D=(W,te,he)=>s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"px-4 text-[10px] font-black text-zinc-600 uppercase tracking-[0.3em] mb-2",children:W}),s.jsx("div",{className:"space-y-0.5",children:te.map((pe,Ne)=>s.jsxs("div",{onClick:()=>O(pe.id),className:"flex items-center justify-between p-4 hover:bg-white/5 rounded-2xl transition-all duration-300 cursor-pointer group animate-item-entry",style:{animationDelay:`${he+Ne*40}ms`},children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-6 flex justify-center",children:s.jsx("i",{className:`fas ${pe.icon} ${pe.color||"text-zinc-500"} text-lg group-hover:text-red-500 transition-colors`})}),s.jsx("span",{className:"text-zinc-300 text-sm font-black uppercase tracking-wide group-hover:translate-x-1 transition-transform",children:pe.label})]}),pe.badge&&s.jsx("span",{className:"bg-rose-600 text-white text-[9px] font-black w-4 h-4 flex items-center justify-center rounded-full shadow-lg",children:pe.badge})]},pe.id))})]});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 bg-black/40 z-[100] backdrop-blur-xl transition-opacity duration-500 ease-out ${i?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:t}),s.jsxs("div",{className:`fixed inset-y-0 left-0 z-[101] w-[85%] max-w-[340px] bg-[#1a1c1e]/90 backdrop-blur-2xl flex flex-col transition-all duration-500 cubic-bezier(0.32, 0.72, 0, 1) ${i?"translate-x-0":"-translate-x-full"} border-r border-white/5 shadow-[20px_0_60px_rgba(0,0,0,0.5)]`,dir:"ltr",children:[s.jsx("button",{onClick:t,className:`absolute right-[-60px] top-8 w-12 h-12 bg-white text-black rounded-full flex items-center justify-center shadow-2xl transition-all duration-500 ${i?"opacity-100 translate-x-0":"opacity-0 -translate-x-10"} hover:scale-110 active:scale-90`,children:s.jsx("i",{className:"fas fa-times text-lg"})}),s.jsxs("div",{onClick:()=>O("profile"),className:`p-6 pt-12 flex items-center justify-between group cursor-pointer transition-all duration-700 delay-100 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"w-14 h-14 bg-zinc-800 rounded-full flex items-center justify-center relative border border-white/10 overflow-hidden p-0.5",children:[s.jsx("img",{src:(a==null?void 0:a.profileImage)||"https://i.ibb.co/WvHxbHhd/Picsart-26-01-28-22-50-23-444.jpg",alt:"Profile",className:"w-full h-full object-cover rounded-full"}),s.jsx("div",{className:"absolute top-1 right-1 w-3.5 h-3.5 bg-[#19c75a] border-2 border-[#1a1c1e] rounded-full"})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-white font-black text-lg leading-none mb-1 truncate max-w-[150px]",children:(a==null?void 0:a.username)||"Guest"}),s.jsxs("p",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-[0.2em]",children:["ID ",(a==null?void 0:a.id)||"----------"]})]})]}),s.jsx("i",{className:"fas fa-chevron-right text-zinc-600 text-sm group-hover:text-red-500 transition-colors"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-4 custom-scrollbar pb-10",children:[s.jsxs("div",{className:`mb-6 flex flex-col gap-3 transition-all duration-700 delay-200 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[s.jsxs("div",{onClick:()=>{t(),u()},className:"relative overflow-hidden bg-gradient-to-r from-teal-500 to-emerald-700 rounded-3xl p-5 flex flex-col justify-between shadow-lg active:scale-[0.98] transition-all cursor-pointer h-24",children:[s.jsxs("div",{className:"z-10 text-left",children:[s.jsx("h4",{className:"text-white font-black text-base leading-tight uppercase tracking-tighter",children:N.freeCash}),s.jsx("p",{className:"text-emerald-100 text-[9px] font-bold uppercase opacity-60",children:"Claim Instant Bonus"})]}),s.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2332/2332156.png",alt:"Cash",className:"w-14 h-14 absolute right-2 -bottom-2 drop-shadow-2xl opacity-40"})]}),s.jsxs("div",{onClick:()=>{t(),f&&f()},className:"relative overflow-hidden bg-gradient-to-r from-indigo-500 to-purple-700 rounded-3xl p-5 flex flex-col justify-between shadow-lg active:scale-[0.98] transition-all cursor-pointer h-24",children:[s.jsxs("div",{className:"z-10 text-left",children:[s.jsx("h4",{className:"text-white font-black text-base leading-tight uppercase tracking-tighter",children:N.luckyWheel}),s.jsx("p",{className:"text-indigo-100 text-[9px] font-bold uppercase opacity-60",children:"Spin for Galaxy Rewards"})]}),s.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/6122/6122002.png",alt:"Wheel",className:"w-14 h-14 absolute right-2 -bottom-2 drop-shadow-2xl opacity-40 animate-spin-slow"})]})]}),D(N.games,k,300),D(N.wallet,M,500),D(N.account,L,700),s.jsxs("div",{className:"mt-4 p-5 bg-zinc-800/40 rounded-[2.5rem] flex items-center justify-between cursor-pointer border border-white/5 active:scale-95 transition-all animate-item-entry",style:{animationDelay:"900ms"},children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-[#19c75a] rounded-2xl flex items-center justify-center shadow-[0_4px_20px_rgba(25,199,90,0.4)]",children:s.jsx("i",{className:"fab fa-android text-white text-2xl"})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-white text-[12px] font-black uppercase leading-none mb-1",children:N.app}),s.jsx("p",{className:"text-zinc-500 text-[10px] font-bold",children:N.bonus})]})]}),s.jsx("i",{className:"fas fa-chevron-right text-zinc-600 text-xs"})]}),s.jsxs("div",{className:"mt-8 flex items-center justify-between px-2 animate-item-entry",style:{animationDelay:"1000ms"},children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-xl flex items-center justify-center text-emerald-500 border border-emerald-500/20 active:scale-90 transition-transform",children:s.jsx("i",{className:"fab fa-whatsapp"})}),s.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-xl flex items-center justify-center text-blue-500 border border-blue-500/20 active:scale-90 transition-transform",children:s.jsx("i",{className:"fab fa-telegram-plane"})})]}),s.jsxs("button",{onClick:()=>w(!0),className:"flex items-center space-x-3 bg-white/5 px-4 py-2.5 rounded-2xl border border-white/5 hover:border-red-500/30 transition-all active:scale-95 group",children:[s.jsx("img",{src:l==="ar"?"https://flagcdn.com/w40/eg.png":"https://flagcdn.com/w40/gb.png",alt:l,className:"w-5 h-3.5 rounded-sm object-cover shadow-sm"}),s.jsx("span",{className:"text-xs font-black text-zinc-300 uppercase tracking-widest group-hover:text-white",children:l.toUpperCase()})]})]})]}),s.jsxs("div",{className:"p-5 bg-zinc-950/50 border-t border-white/5 flex items-center justify-between shrink-0 animate-item-entry",style:{animationDelay:"1100ms"},children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-11 h-11 bg-zinc-900 rounded-2xl flex items-center justify-center text-zinc-500 border border-white/5 hover:text-white transition-colors cursor-pointer",children:s.jsx("i",{className:"fas fa-comment-dots text-lg"})}),s.jsx("span",{className:"text-zinc-400 font-black text-xs uppercase tracking-widest ml-1",children:N.support})]}),s.jsx("div",{className:"bg-[#19c75a] text-black text-[9px] font-black px-3 py-1.5 rounded-full uppercase shadow-lg",children:"ONLINE"})]})]}),s.jsx(M1,{isOpen:v,onClose:()=>w(!1),onSelect:W=>{c(W.code.toLowerCase()),w(!1)},currentLang:l.toUpperCase()})]})},Yt=({message:i,type:t,isVisible:a,onClose:l})=>{const[c,u]=b.useState(100);if(b.useEffect(()=>{if(a){u(100);const m=Date.now(),p=2e3,x=setInterval(()=>{const w=Date.now()-m,N=Math.max(0,100-w/p*100);u(N)},10),v=setTimeout(()=>{l()},p);return()=>{clearTimeout(v),clearInterval(x)}}},[a,l]),!a)return null;const f={success:{icon:"fa-circle-check",color:"text-emerald-400",accent:"bg-emerald-500",border:"border-emerald-500/30",bg:"bg-[#0a120d]/90",glow:"shadow-[0_0_30px_rgba(16,185,129,0.2)]"},error:{icon:"fa-circle-exclamation",color:"text-red-400",accent:"bg-red-500",border:"border-red-500/30",bg:"bg-[#120a0a]/90",glow:"shadow-[0_0_30px_rgba(239,68,68,0.2)]"},info:{icon:"fa-circle-info",color:"text-yellow-400",accent:"bg-yellow-400",border:"border-yellow-500/30",bg:"bg-[#12120a]/90",glow:"shadow-[0_0_30px_rgba(255,255,0,0.15)]"}}[t];return s.jsxs("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 z-[999999] w-[90%] max-w-[320px] animate-in fade-in slide-in-from-top-6 duration-500 ease-out",children:[s.jsxs("div",{className:`relative overflow-hidden backdrop-blur-2xl ${f.bg} ${f.border} ${f.glow} border rounded-[1.8rem] p-4 shadow-2xl flex items-center gap-4`,children:[s.jsx("div",{className:`absolute inset-0 opacity-5 ${f.accent} animate-pulse`}),s.jsxs("div",{className:"w-10 h-10 rounded-2xl bg-black/40 border border-white/5 flex items-center justify-center shrink-0 shadow-lg relative overflow-hidden group",children:[s.jsx("div",{className:`absolute inset-0 opacity-10 ${f.accent}`}),s.jsx("i",{className:`fas ${f.icon} ${f.color} text-lg relative z-10`})]}),s.jsx("div",{className:"flex-1 text-left",children:s.jsx("p",{className:"text-white text-[13px] font-black leading-tight tracking-tight uppercase",children:i})}),s.jsx("button",{onClick:l,className:"w-7 h-7 flex items-center justify-center rounded-full text-zinc-500 hover:text-white hover:bg-white/5 transition-all active:scale-90",children:s.jsx("i",{className:"fas fa-times text-[10px]"})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[3px] bg-white/5",children:s.jsx("div",{className:`h-full ${f.accent} transition-all duration-100 ease-linear shadow-[0_0_10px_currentColor]`,style:{width:`${c}%`}})})]}),s.jsx("style",{children:`
        @keyframes modal-progress-long {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},vE=({user:i,userData:t,onBack:a,onNavigate:l,lang:c})=>{const[u,f]=b.useState(!1),[m,p]=b.useState((t==null?void 0:t.username)||""),[x,v]=b.useState(!1),[w,N]=b.useState(!1),[k,M]=b.useState(!1),[L,O]=b.useState(""),[D,W]=b.useState(!1),[te,he]=b.useState(0),pe=b.useRef(null),[Ne,ie]=b.useState({show:!1,message:"",type:"info"}),P={ar:{profile:"  ",vip:" VIP 1 ",balance:"  ",refill:" ",security:"  ",tfa:"  ()",resetPass:"    ",privacy:"  ",history:"  ",withdraw:"  ",logout:"   ",verified:"  ",chooseAvatar:"  ",custom:"",financial:"  ",save:"  ",shortName:"   ",success:"   !",imgUploaded:"   !",avatarChanged:"   !",resetSent:"     !",maintenance:"     .",referral:"    ",referralStats:"  ",totalReferrals:"  ",applyReferral:"   ",referralPlaceholder:"     11 ",applyBtn:"  ",referralApplied:"    !",invalidReferral:"    !",ownReferralError:":     !",alreadyApplied:"     !",referralAppliedSuccess:"!    ."},en:{profile:"Secure Profile",vip:"System VIP LEVEL 1",balance:"Available Secure Balance",refill:"Secure Refill",security:"System Security",tfa:"Secure Two-Factor Auth",resetPass:"Securely Reset Password",privacy:"Secure Privacy Portal",history:"Secure Transaction History",withdraw:"Secure Withdrawal Options",logout:"Secure System Logout",verified:"System Verified Account",chooseAvatar:"Choose System Avatar",custom:"Custom",financial:"Secure Financial Settings",save:"Securely Save Changes",shortName:"System name is too short",success:"Secure profile updated!",imgUploaded:"Protocol image uploaded!",avatarChanged:"Avatar securely changed!",resetSent:"Secure reset link sent to your email!",maintenance:"Deposit system is currently under protocol maintenance.",referral:"Your System Referral Code",referralStats:"Secure Referral Stats",totalReferrals:"Protocol users using your code",applyReferral:"Apply System Referral Code",referralPlaceholder:"Enter secure 11-character code",applyBtn:"Apply Protocol Code",referralApplied:"Referral code securely applied!",invalidReferral:"Invalid system referral code!",ownReferralError:"Error: You cannot use your own protocol!",alreadyApplied:"System referral code already applied!",referralAppliedSuccess:"Congratulations! Protocol code accepted."}}[c];b.useEffect(()=>{if(t!=null&&t.referralCode){const H=ve(ye,`ReferralUses/${t.referralCode}`),V=lt(H,q=>{const _=q.val();he(_?Object.keys(_).length:0)});return()=>V()}},[t==null?void 0:t.referralCode]);const ue=(H,V)=>{ie({show:!0,message:H,type:V})},xe=H=>{navigator.clipboard.writeText(H),ue(c==="ar"?"   !":"Code securely copied!","success")},se=async()=>{if(!i||!t)return;if(t.appliedReferralCode){ue(P.alreadyApplied,"error");return}const H=L.trim().toUpperCase();if(H.length!==11){ue(P.invalidReferral,"error");return}if(H===t.referralCode){ue(P.ownReferralError,"error");return}W(!0);try{const V=ve(ye,`ReferralCodes/${H}`),q=await zt(V);if(q.exists()){if(q.val()===i.uid){ue(P.ownReferralError,"error"),W(!1);return}await Xe(ve(ye,`User/${i.uid}`),{appliedReferralCode:H}),await Wa(ve(ye,`ReferralUses/${H}/${i.uid}`),{usedAt:new Date().toISOString(),username:t.username}),O(""),ue(P.referralAppliedSuccess,"success")}else ue(P.invalidReferral,"error")}catch(V){ue(V.message,"error")}finally{W(!1)}},je=["https://api.dicebear.com/7.x/bottts-neutral/svg?seed=Felix","https://api.dicebear.com/7.x/bottts-neutral/svg?seed=Aneka","https://api.dicebear.com/7.x/avataaars/svg?seed=Jasper","https://api.dicebear.com/7.x/avataaars/svg?seed=Shadow","https://api.dicebear.com/7.x/pixel-art/svg?seed=Vance","https://api.dicebear.com/7.x/shapes/svg?seed=Neon","https://api.dicebear.com/7.x/big-ears-neutral/svg?seed=Cyber","https://api.dicebear.com/7.x/identicon/svg?seed=Matrix"],we=async()=>{if(i){if(m.length<3){ue(P.shortName,"error");return}try{await Xe(ve(ye,`User/${i.uid}`),{username:m}),f(!1),ue(P.success,"success")}catch(H){ue(H.message,"error")}}},Ce=H=>{var _;const V=(_=H.target.files)==null?void 0:_[0];if(!V)return;const q=new FileReader;q.onloadstart=()=>v(!0),q.onload=async T=>{var G;const z=(G=T.target)==null?void 0:G.result;if(i)try{await Xe(ve(ye,`User/${i.uid}`),{profileImage:z}),ue(P.imgUploaded,"success")}catch(ne){ue(ne.message,"error")}finally{v(!1)}},q.readAsDataURL(V)},X=async H=>{if(i)try{await Xe(ve(ye,`User/${i.uid}`),{profileImage:H}),N(!1),ue(P.avatarChanged,"success")}catch(V){ue(V.message,"error")}},S=async()=>{if(i!=null&&i.email)try{await rv(pa,i.email),ue(P.resetSent,"success")}catch(H){ue(H.message,"error")}},$=async()=>{await lv(pa)};return s.jsxs("div",{className:"min-h-full pb-32 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",dir:"ltr",children:[s.jsx(Yt,{isVisible:Ne.show,message:Ne.message,type:Ne.type,onClose:()=>ie({...Ne,show:!1})}),w&&s.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 bg-black/90 backdrop-blur-xl",children:s.jsxs("div",{className:"bg-[#1a1c1e] border border-white/10 rounded-[2.5rem] w-full max-w-sm overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",children:[s.jsxs("div",{className:"p-6 border-b border-white/5 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter",children:P.chooseAvatar}),s.jsx("button",{onClick:()=>N(!1),className:"text-zinc-500 hover:text-white",children:s.jsx("i",{className:"fas fa-times"})})]}),s.jsxs("div",{className:"p-6 grid grid-cols-4 gap-4 max-h-[400px] overflow-y-auto",children:[je.map((H,V)=>s.jsx("button",{onClick:()=>X(H),className:"aspect-square rounded-2xl overflow-hidden border border-white/5 bg-zinc-900 hover:border-[#FFFF00] transition-all p-1",children:s.jsx("img",{src:H,alt:"Avatar suggestion",className:"w-full h-full object-cover"})},V)),s.jsxs("button",{onClick:()=>{var H;return(H=pe.current)==null?void 0:H.click()},className:"aspect-square rounded-2xl border-2 border-dashed border-zinc-800 flex flex-col items-center justify-center text-zinc-600 hover:border-[#FFFF00] hover:text-[#FFFF00] transition-all",children:[s.jsx("i",{className:"fas fa-plus text-xs mb-1"}),s.jsx("span",{className:"text-[8px] font-black uppercase",children:P.custom})]})]})]})}),s.jsxs("div",{className:"relative px-6 pt-8 pb-12",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-40 bg-gradient-to-b from-[#FFFF00]/10 to-transparent pointer-events-none"}),s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("button",{onClick:a,className:"w-10 h-10 bg-zinc-900 rounded-full flex items-center justify-center border border-white/5 active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400"})}),s.jsx("h2",{className:"text-xl font-black uppercase tracking-tighter mx-auto",children:P.profile}),s.jsx("button",{onClick:()=>f(!u),className:`w-10 h-10 rounded-full flex items-center justify-center border border-white/5 active:scale-90 transition-transform ${u?"bg-[#FFFF00] text-black":"bg-zinc-900 text-zinc-400"}`,children:s.jsx("i",{className:`fas ${u?"fa-check":"fa-pen"} text-xs`})})]}),s.jsxs("div",{className:"bg-[#1a1c1e] rounded-[2.5rem] p-6 border border-white/5 shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4",children:s.jsx("div",{className:"bg-[#FFFF00]/10 px-3 py-1 rounded-full border border-[#FFFF00]/20",children:s.jsx("span",{className:"text-[#FFFF00] text-[10px] font-black uppercase tracking-widest",children:P.vip})})}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:`w-24 h-24 rounded-[2rem] overflow-hidden border-2 border-[#FFFF00]/30 p-1 bg-zinc-900 transition-all ${x?"opacity-50 animate-pulse":""}`,children:s.jsx("img",{src:(t==null?void 0:t.profileImage)||`https://api.dicebear.com/7.x/avataaars/svg?seed=${i==null?void 0:i.email}`,alt:"Avatar",className:"w-full h-full object-cover rounded-[1.8rem]"})}),s.jsx("button",{onClick:()=>N(!0),className:"absolute -bottom-1 -right-1 w-8 h-8 bg-[#FFFF00] rounded-full flex items-center justify-center border-4 border-[#1a1c1e] shadow-lg active:scale-90",children:x?s.jsx("i",{className:"fas fa-circle-notch fa-spin text-black text-[10px]"}):s.jsx("i",{className:"fas fa-camera text-black text-[10px]"})}),s.jsx("input",{type:"file",ref:pe,onChange:Ce,accept:"image/*",className:"hidden"})]}),s.jsxs("div",{className:"flex-1",children:[u?s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:m,onChange:H=>p(H.target.value),className:"bg-zinc-800/50 border border-[#FFFF00]/30 text-white font-black text-xl px-3 py-1.5 rounded-xl w-full outline-none",placeholder:"Username"}),s.jsx("button",{onClick:we,className:"text-[10px] font-black uppercase tracking-widest text-[#FFFF00] bg-zinc-800 px-3 py-1 rounded-full border border-white/5",children:P.save})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-2xl font-black text-white leading-tight mb-1 truncate max-w-[140px]",children:(t==null?void 0:t.username)||"Guest"}),s.jsxs("p",{className:"text-zinc-500 text-xs font-bold uppercase tracking-[0.2em] mb-3",children:["SECURE ID: ",(t==null?void 0:t.id)||"----------"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-emerald-500 text-[10px] font-black uppercase",children:P.verified})]})]})]})]})]}),s.jsx("div",{className:"px-6 mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-zinc-900 to-[#0a0a0a] rounded-3xl p-6 border border-white/5 flex items-center justify-between shadow-xl",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-widest mb-1",children:P.balance}),s.jsxs("div",{className:"flex items-baseline space-x-1",children:[s.jsx("span",{className:"text-3xl font-black text-white",children:"$0.00"}),s.jsx("span",{className:"text-zinc-600 font-bold text-sm ml-2",children:"USD (SYSTEM)"})]})]}),s.jsx("button",{onClick:()=>l("deposit"),className:"bg-white text-black px-6 py-3 rounded-2xl font-black text-xs hover:bg-[#FFFF00] transition-colors active:scale-95",children:P.refill})]})}),s.jsxs("div",{className:"px-6 space-y-8",children:[s.jsxs("div",{className:"bg-zinc-900/50 rounded-[2.5rem] p-6 border border-white/5 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10",children:s.jsx("i",{className:"fas fa-users text-6xl text-white"})}),s.jsx("h4",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-[0.3em] mb-4",children:P.referralStats}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-zinc-600 text-[9px] font-bold uppercase tracking-wider mb-1",children:P.totalReferrals}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-4xl font-black text-[#FFFF00]",children:te}),s.jsx("span",{className:"bg-[#FFFF00]/10 text-[#FFFF00] text-[10px] px-2 py-0.5 rounded-md font-bold uppercase tracking-tighter",children:"Verified Protocol"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-zinc-600 text-[9px] font-bold uppercase tracking-wider mb-1",children:"System Tier"}),s.jsxs("span",{className:"text-white font-black text-lg",children:["LEVEL ",Math.floor(te/10)+1]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-zinc-600 text-[10px] font-black uppercase tracking-[0.3em] ml-2 mb-4",children:P.referral}),s.jsxs("div",{className:"bg-[#1a1c1e] rounded-[2rem] p-5 border border-white/5 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center text-zinc-400 border border-white/5",children:s.jsx("i",{className:"fas fa-share-nodes"})}),s.jsx("span",{className:"text-[#FFFF00] font-black text-lg tracking-widest",children:(t==null?void 0:t.referralCode)||"-----------"})]}),s.jsx("button",{onClick:()=>xe((t==null?void 0:t.referralCode)||""),className:"w-10 h-10 bg-zinc-800 rounded-xl flex items-center justify-center text-white active:scale-90 transition-transform",children:s.jsx("i",{className:"far fa-copy"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-zinc-600 text-[10px] font-black uppercase tracking-[0.3em] ml-2 mb-4",children:P.applyReferral}),s.jsx("div",{className:"bg-[#1a1c1e] rounded-[2rem] p-4 border border-white/5",children:t!=null&&t.appliedReferralCode?s.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-xl flex items-center justify-center text-emerald-500 border border-emerald-500/20",children:s.jsx("i",{className:"fas fa-check-circle"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-emerald-500 text-[10px] font-black uppercase",children:P.referralApplied}),s.jsx("span",{className:"text-white font-bold text-base tracking-widest",children:t.appliedReferralCode})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",maxLength:11,value:L,onChange:H=>O(H.target.value.toUpperCase()),placeholder:P.referralPlaceholder,className:"w-full bg-zinc-900 border border-white/10 text-white font-black text-center py-4 rounded-2xl outline-none focus:border-[#FFFF00]/50 transition-all placeholder:text-zinc-700 placeholder:text-[10px]"})}),s.jsx("button",{onClick:se,disabled:D||L.length!==11,className:"w-full bg-[#FFFF00] text-black font-black py-4 rounded-2xl text-xs uppercase tracking-[0.2em] transition-all active:scale-95 disabled:opacity-30 flex items-center justify-center shadow-lg",children:D?s.jsx("i",{className:"fas fa-circle-notch fa-spin"}):P.applyBtn})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-zinc-600 text-[10px] font-black uppercase tracking-[0.3em] ml-2 mb-4",children:P.security}),s.jsxs("div",{className:"bg-[#1a1c1e] rounded-[2rem] overflow-hidden border border-white/5",children:[s.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/5",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center text-zinc-400 border border-white/5",children:s.jsx("i",{className:"fas fa-shield-halved"})}),s.jsx("span",{className:"text-white text-sm font-bold",children:P.tfa})]}),s.jsx("button",{onClick:()=>M(!k),className:`w-12 h-6 rounded-full transition-all relative ${k?"bg-[#FFFF00]":"bg-zinc-800"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${k?"right-1":"left-1"}`})})]}),s.jsxs("button",{onClick:S,className:"w-full flex items-center justify-between p-5 hover:bg-white/5 transition-colors border-b border-white/5",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center text-zinc-400 border border-white/5",children:s.jsx("i",{className:"fas fa-key"})}),s.jsx("span",{className:"text-white text-sm font-bold",children:P.resetPass})]}),s.jsx("i",{className:"fas fa-chevron-right text-zinc-700 text-xs"})]}),s.jsxs("button",{className:"w-full flex items-center justify-between p-5 hover:bg-white/5 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center text-zinc-400 border border-white/5",children:s.jsx("i",{className:"fas fa-user-lock"})}),s.jsx("span",{className:"text-white text-sm font-bold",children:P.privacy})]}),s.jsx("i",{className:"fas fa-chevron-right text-zinc-700 text-xs"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-zinc-600 text-[10px] font-black uppercase tracking-[0.3em] ml-2 mb-4",children:P.financial}),s.jsxs("div",{className:"bg-[#1a1c1e] rounded-[2rem] overflow-hidden border border-white/5",children:[s.jsxs("button",{onClick:()=>l("history"),className:"w-full flex items-center justify-between p-5 hover:bg-white/5 transition-colors border-b border-white/5",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center text-zinc-400 border border-white/5",children:s.jsx("i",{className:"fas fa-clock-rotate-left"})}),s.jsx("span",{className:"text-white text-sm font-bold",children:P.history})]}),s.jsx("i",{className:"fas fa-chevron-right text-zinc-700 text-xs"})]}),s.jsxs("button",{className:"w-full flex items-center justify-between p-5 hover:bg-white/5 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center text-zinc-400 border border-white/5",children:s.jsx("i",{className:"fas fa-wallet"})}),s.jsx("span",{className:"text-white text-sm font-bold",children:P.withdraw})]}),s.jsx("span",{className:"text-[10px] font-black uppercase text-[#FFFF00]",children:"Secure Active"})]})]})]}),s.jsxs("div",{className:"pt-4",children:[s.jsxs("button",{onClick:$,className:"w-full bg-red-500/10 border border-red-500/20 text-red-500 py-5 rounded-[2rem] font-black text-sm uppercase tracking-widest flex items-center justify-center space-x-3 hover:bg-red-500 hover:text-white transition-all active:scale-95 shadow-xl",children:[s.jsx("i",{className:"fas fa-power-off"}),s.jsx("span",{children:P.logout})]}),s.jsx("p",{className:"text-center text-zinc-700 text-[9px] mt-6 font-bold uppercase tracking-widest",children:"ZEE AI v2.4.0  Secure Encrypted Channel"})]})]})]})},yE=({user:i,onBack:t,lang:a})=>{const[l,c]=b.useState(""),[u,f]=b.useState(!1),[m,p]=b.useState({show:!1,message:"",type:"info"}),x={ar:{title:"  ",subtitle:"         ",placeholder:"   ",claim:" ",back:" ",invalid:"      ",alreadyUsed:"     ",success:"   !   ",currency:"    "},en:{title:"Secure Gift Code",subtitle:"Enter your gift code for protocol check and system balance",placeholder:"Enter secure code here",claim:"Redeem Protocol",back:"System Back",invalid:"Invalid or expired system code",alreadyUsed:"You have already used this protocol",success:"Protocol redeemed! Added ",currency:" system USD to your balance"}}[a],v=async()=>{var N;if(!i||!l.trim())return;f(!0);const w=l.trim().toUpperCase();try{const k=ve(ye,`UserGifts/${i.uid}/${w}`);if((await zt(k)).exists()){p({show:!0,message:x.alreadyUsed,type:"error"}),f(!1);return}const L=ve(ye,`Gifts/${w}`),O=await zt(L);if(!O.exists()){p({show:!0,message:x.invalid,type:"error"}),f(!1);return}const W=O.val().amount||0,te=ve(ye,`User/${i.uid}`),pe=((N=(await zt(te)).val())==null?void 0:N.balance)||0;await Xe(te,{balance:pe+W}),await Wa(k,{redeemedAt:new Date().toISOString(),amount:W}),p({show:!0,message:`${x.success}${W}${x.currency}`,type:"success"}),c("")}catch(k){p({show:!0,message:k.message,type:"error"})}finally{f(!1)}};return s.jsxs("div",{className:"min-h-full px-6 pt-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsx(Yt,{isVisible:m.show,message:m.message,type:m.type,onClose:()=>p({...m,show:!1})}),s.jsxs("div",{className:"flex items-center justify-between mb-12",children:[s.jsx("button",{onClick:t,className:"w-10 h-10 bg-zinc-900 rounded-full flex items-center justify-center border border-white/5 active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400"})}),s.jsx("h2",{className:"text-xl font-black uppercase tracking-tighter mx-auto",children:x.title}),s.jsx("div",{className:"w-10"})]}),s.jsxs("div",{className:"bg-[#1a1c1e] rounded-[3rem] p-8 border border-white/5 shadow-2xl text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-emerald-500/10 rounded-[2rem] flex items-center justify-center mx-auto mb-8 text-emerald-500 text-4xl",children:s.jsx("i",{className:"fas fa-gift"})}),s.jsx("h3",{className:"text-white font-black text-xl mb-3 uppercase",children:x.title}),s.jsx("p",{className:"text-zinc-500 text-sm mb-10 leading-relaxed px-4",children:x.subtitle}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("input",{type:"text",value:l,onChange:w=>c(w.target.value.toUpperCase()),placeholder:x.placeholder,className:"w-full bg-zinc-900 border border-white/10 text-white font-black text-center py-5 rounded-[2rem] outline-none placeholder:text-zinc-700 uppercase tracking-[0.2em]"}),s.jsx("button",{onClick:v,disabled:u||!l.trim(),className:"w-full bg-emerald-500 text-white font-black py-5 rounded-[2rem] text-sm uppercase tracking-widest transition-all active:scale-95 shadow-lg",children:u?s.jsx("i",{className:"fas fa-circle-notch fa-spin"}):x.claim})]})]})]})},wE=({url:i,title:t,onBack:a})=>s.jsxs("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col animate-in fade-in duration-500",children:[s.jsxs("header",{className:"flex items-center justify-between px-6 py-4 bg-zinc-900/50 backdrop-blur-xl border-b border-white/5 shrink-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:a,className:"w-9 h-9 bg-zinc-800 rounded-full flex items-center justify-center border border-white/10 active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-black text-sm uppercase leading-none",children:t}),s.jsx("span",{className:"text-[9px] text-[#FFFF00] font-bold uppercase tracking-widest",children:"Secure Demo Mode"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("div",{className:"w-8 h-8 bg-rose-500/10 rounded-lg flex items-center justify-center text-rose-500",onClick:a,children:s.jsx("i",{className:"fas fa-times text-xs"})})})]}),s.jsx("div",{className:"flex-1 bg-zinc-950 relative overflow-hidden",children:s.jsx("iframe",{src:i,className:"absolute inset-0 w-full h-full border-0",title:t,allowFullScreen:!0,allow:"autoplay; encrypted-media; fullscreen"})})]}),_E=({onPlay:i,onAiPlay:t,onBack:a,lang:l})=>{const[c,u]=b.useState(""),[f,m]=b.useState("all"),[p,x]=b.useState([]),[v,w]=b.useState([]),[N,k]=b.useState(0);b.useEffect(()=>{const D=ve(ye,"Slides/"),W=lt(D,pe=>{const Ne=pe.val();if(Ne){const ie=Object.entries(Ne).map(([P,ue])=>typeof ue=="string"?{id:P,imageUrl:ue}:{id:P,imageUrl:ue.imageUrl||ue.img||""});x(ie)}}),te=ve(ye,"Demo/"),he=lt(te,pe=>{if(pe.exists()){const Ne=pe.val(),ie=Object.entries(Ne).map(([P,ue])=>({id:P,name:ue.title||"Untitled",url:ue.url||"",img:ue.imageUrl||ue.img||"",category:"demo",icon:"fa-gamepad"})).filter(P=>P.url!=="");w(ie)}else w([])});return()=>{W(),he()}},[]),b.useEffect(()=>{if(p.length<=1)return;const D=setInterval(()=>k(W=>(W+1)%p.length),5e3);return()=>clearInterval(D)},[p.length]);const O=[...[{id:"mines-winner",name:"Mines Winner",img:"https://i.ibb.co/HpBFcv9v/cb0d4ebb-97dc-409d-abfa-6f06edeb8ef8.jpg",icon:"fa-star",category:"zee"},{id:"slot777",name:"777 Slot",img:"https://i.ibb.co/fzzBX4rP/a4900de0-f4ed-4707-887f-e6e76e21c3f2.jpg",icon:"fa-7",category:"zee"},{id:"coinflip",name:l==="ar"?" ":"Coin Flip",img:"https://i.ibb.co/GfCkyYvB/coinflip.jpg",icon:"fa-coins",category:"zee"},{id:"spacex",name:l==="ar"?" ":"SpaceX",img:"https://i.ibb.co/z3Ztkw9/2f8f561a-7bf3-4300-9bbc-434c8944e0a6.jpg",icon:"fa-rocket",category:"zee"},{id:"mines-pro",name:l==="ar"?" ":"Mines Pro",img:"https://images.unsplash.com/photo-1614728263952-84ea256f9679?q=80&w=400",icon:"fa-gem",category:"zee"},{id:"chicken",name:l==="ar"?" ":"Chicken Road",img:"https://i.ibb.co/bRFkVS7W/images-1.webp",icon:"fa-egg",category:"zee"},{id:"highlow",name:l==="ar"?" ":"High Low AI",img:"https://i.ibb.co/27mF7Ccm/fc5f4cbd-17dc-4e06-aeb0-6a2d9e6fdf85.jpg",icon:"fa-chart-line",category:"zee"},{id:"plinkog",name:l==="ar"?" G":"Plinko G",img:"https://i.ibb.co/0728PND/5e94be18-ce69-4925-93a1-1d4f6650f4fd.jpg",icon:"fa-futbol",category:"zee"},{id:"dice",name:l==="ar"?"":"Dice AI",img:"https://i.ibb.co/B9r3BFj/Picsart-26-02-01-21-51-27-386.jpg",icon:"fa-dice",category:"zee"},{id:"crash",name:l==="ar"?"":"Crash AI",img:"https://i.ibb.co/ZRWNq2sq/crash.jpg",icon:"fa-rocket",category:"zee"},{id:"mines",name:l==="ar"?"":"Mines AI",img:"https://i.ibb.co/KpgbJcNn/mines.jpg",icon:"fa-bomb",category:"zee"},{id:"balloon",name:l==="ar"?" X":"Balloon X",img:"https://i.ibb.co/JF3Py5Hq/aeaea9b0-2a2c-4a07-b32c-078e7c4c50f6.jpg",icon:"fa-hot-air-balloon",category:"zee"},{id:"plinko",name:l==="ar"?"":"Plinko AI",img:"https://i.ibb.co/DmXhjST/917cd6c1-0801-4830-aaf4-3dc3d6f4dabf.jpg",icon:"fa-braille",category:"zee"},{id:"carx",name:l==="ar"?" ":"Car X AI",img:"https://i.ibb.co/Sw644Bbh/carx.jpg",icon:"fa-car-side",category:"zee"},{id:"wheel-ai",name:l==="ar"?" ":"Lucky Wheel",img:"https://images.unsplash.com/photo-1596838132731-3301c3fd4317?q=80&w=400",icon:"fa-dharmachakra",category:"zee"}],...v].filter(D=>{const W=D.name.toLowerCase().includes(c.toLowerCase()),te=f==="all"||D.category===f;return W&&te});return s.jsxs("div",{className:"min-h-full bg-[#0a0a0c] animate-in fade-in duration-500 pb-40",children:[s.jsxs("div",{className:"sticky top-0 z-40 bg-[#0a0a0c]/90 backdrop-blur-xl px-4 py-6 border-b border-white/5 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:a,className:"w-11 h-11 bg-zinc-900 rounded-2xl flex items-center justify-center border border-white/5 active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400"})}),s.jsxs("div",{className:"flex-1 bg-zinc-900/80 rounded-2xl border border-white/10 flex items-center px-4 h-11 shadow-inner",children:[s.jsx("i",{className:"fas fa-search text-zinc-600 text-xs mr-3"}),s.jsx("input",{type:"text",placeholder:l==="ar"?"  ...":"Search Lobby...",className:"bg-transparent w-full text-[11px] font-black text-white outline-none placeholder:text-zinc-700 uppercase tracking-widest",value:c,onChange:D=>u(D.target.value)})]})]}),s.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto no-scrollbar pb-1",children:[{id:"all",label:l==="ar"?"":"Lobby",icon:"fa-border-all"},{id:"zee",label:"AI GAMES",icon:"fa-bolt"},{id:"demo",label:"INSTANT",icon:"fa-rocket"},{id:"slots",label:"SLOTS",icon:"fa-coins"},{id:"table",label:"TABLE",icon:"fa-table"}].map(D=>s.jsxs("button",{onClick:()=>m(D.id),className:`shrink-0 flex items-center space-x-2 px-5 py-3 rounded-2xl text-[9px] font-black uppercase tracking-widest transition-all active:scale-95 ${f===D.id?"bg-white text-black shadow-[0_10px_20px_rgba(255,255,0,0.1)]":"bg-zinc-900 text-zinc-500 border border-white/5"}`,children:[s.jsx("i",{className:`fas ${D.icon} text-[10px]`}),s.jsx("span",{children:D.label})]},D.id))})]}),s.jsxs("div",{className:"px-4 mt-6",children:[!c&&f==="all"&&s.jsx("section",{className:"relative aspect-[16/6.5] w-full rounded-3xl overflow-hidden bg-zinc-900 border border-white/10 shadow-2xl mb-10 animate-in zoom-in duration-700",children:p.length>0?s.jsx(s.Fragment,{children:p.map((D,W)=>s.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${W===N?"opacity-100":"opacity-0"}`,children:[s.jsx("img",{src:D.imageUrl,alt:"Slide",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"})]},D.id))}):s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("i",{className:"fas fa-circle-notch fa-spin text-white/10 text-2xl"})})}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:O.length>0?O.map((D,W)=>s.jsxs("div",{onClick:()=>D.category==="zee"?t({id:D.id,name:D.name}):i({title:D.name||D.title,url:D.url}),className:"relative aspect-[4/5] bg-zinc-900 rounded-[2.5rem] overflow-hidden border border-white/10 active:scale-95 transition-all shadow-xl group animate-in slide-in-from-bottom-4 duration-500",style:{animationDelay:`${W*30}ms`},children:[s.jsx("img",{src:D.img||D.imageUrl,alt:D.name,className:"absolute inset-0 w-full h-full object-cover opacity-50 group-hover:scale-110 transition-transform duration-1000"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/10 to-transparent"}),D.category==="zee"&&s.jsx("div",{className:"absolute top-4 left-4 bg-[#FFFF00] text-black text-[6px] font-black px-2 py-0.5 rounded-full uppercase z-20",children:"AI CORE"}),s.jsxs("div",{className:"absolute bottom-5 left-5 right-5",children:[s.jsx("div",{className:"w-10 h-10 bg-black/40 backdrop-blur-md rounded-xl flex items-center justify-center mb-3 border border-white/10",children:s.jsx("i",{className:`fas ${D.icon} text-white text-xs`})}),s.jsx("h4",{className:"text-white font-black text-xs uppercase tracking-tight truncate",children:D.name||D.title}),s.jsx("p",{className:"text-zinc-600 text-[8px] font-black uppercase tracking-widest mt-1 opacity-60",children:"Verified Provider"})]})]},D.id)):s.jsxs("div",{className:"col-span-2 py-20 text-center flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center border border-white/5 opacity-40",children:s.jsx("i",{className:"fas fa-search-minus text-zinc-500 text-2xl"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-black text-sm uppercase tracking-widest",children:"No Results Found"}),s.jsx("p",{className:"text-zinc-600 text-[10px] font-bold uppercase mt-1",children:"Try another category or search term"})]})]})})]})]})},NE=({isOpen:i,onClose:t,lang:a,user:l,userData:c})=>{const[u,f]=b.useState("LIST"),[m,p]=b.useState("fiat"),[x,v]=b.useState(i),[w,N]=b.useState(null),[k,M]=b.useState("150"),[L,O]=b.useState(""),[D,W]=b.useState(null),[te,he]=b.useState(!1),[pe,Ne]=b.useState(891),[ie,P]=b.useState(696*3600+7*3600+3420+21),[ue,xe]=b.useState(!1),[se,je]=b.useState(0),[we,Ce]=b.useState(null),X=b.useRef(null),[S,$]=b.useState({show:!1,message:"",type:"info"}),H=b.useRef(null),V=b.useRef(null),q="01000000000";b.useEffect(()=>{if(i)v(!0),f("LIST"),document.body.style.overflow="hidden",V.current=setInterval(()=>{P(B=>B>0?B-1:0)},1e3);else{const B=setTimeout(()=>{v(!1),document.body.style.overflow="unset"},400);return V.current&&clearInterval(V.current),()=>clearTimeout(B)}return()=>{V.current&&clearInterval(V.current)}},[i]),b.useEffect(()=>(u==="CONFIRM"?H.current=setInterval(()=>{Ne(B=>B>0?B-1:0)},1e3):H.current&&clearInterval(H.current),()=>{H.current&&clearInterval(H.current)}),[u]),b.useEffect(()=>{let B;return u==="FINALIZING"&&(je(0),B=setInterval(()=>{je(C=>C>=100?(clearInterval(B),100):C+2)},100)),()=>clearInterval(B)},[u]);const _=B=>{const C=Math.floor(B/60),K=B%60;return`${C}m : ${K.toString().padStart(2,"0")}s`},T=B=>{const C=Math.floor(B/86400),K=Math.floor(B%(24*3600)/3600),Ee=Math.floor(B%3600/60),ge=B%60;return`${C}d : ${K.toString().padStart(2,"0")}h : ${Ee.toString().padStart(2,"0")}m : ${ge.toString().padStart(2,"0")}s`},z=B=>{navigator.clipboard.writeText(B),$({show:!0,message:a==="ar"?"  !":"Copied successfully!",type:"success"})},G=B=>{var Ee;const C=(Ee=B.target.files)==null?void 0:Ee[0];if(!C)return;he(!0);const K=new FileReader;K.onload=ge=>{var Te;W((Te=ge.target)==null?void 0:Te.result),he(!1),$({show:!0,message:a==="ar"?"    ":"Proof image selected successfully",type:"success"})},K.onerror=()=>{he(!1),$({show:!0,message:a==="ar"?"   ":"Failed to load encrypted image",type:"error"})},K.readAsDataURL(C)};if(!x)return null;const ne={ar:{title:" ",fiat:" ",crypto:" ",currency:" ",vodafone:" ",orange:" ",etisalat:" ",fawry:"",back:" ",phonePlaceholder:"  (11 )",amountLabel:" ",depositBtn:"  ",bonus:" ",copyDetails:"  ",recipientPhone:"   ",waiting:"  :",confirmBtn:"  ",successMsg:"        ",finalSuccess:"    !",copied:" !",processing:"  ...",finalizing:"  ...",handshake:"  ...",paymentProcessing:"   ",trackStatus:"     ",date:" :",time:" :",procTime:"  :",procTimeRange:"5-10  ",close:" ",minAmountError:"    20 .",phoneError:"      11   !",userInfo:"  ",userPhone:"   ():",uploadProof:"   ( )",proofRequired:"        !",changeProof:"  "},en:{title:"Secure Deposit",fiat:"System Fiat",crypto:"Encrypted Crypto",currency:"Egyptian pound",vodafone:"Vodafone Cash",orange:"Orange Cash",etisalat:"Etisalat Cash",fawry:"Fawry",back:"Protocol Back",phonePlaceholder:"Wallet Number (11 digits)",amountLabel:"System Amount",depositBtn:"Start Secure Deposit",bonus:"System Bonus",copyDetails:"Secure Recipient Details",recipientPhone:"Secure Recipient's Number",waiting:"Waiting for secure transfer:",confirmBtn:"Confirm Encrypted Transfer",successMsg:"Verified, please complete protocol transfer",finalSuccess:"Request sent for secure review!",copied:"Copied!",processing:"Secure Processing...",finalizing:"Securing System Transaction...",handshake:"Protocol Sync Active...",paymentProcessing:"Secure In Process",trackStatus:"Track in protocol history section",date:"System Date:",time:"Protocol Time:",procTime:"Secure Estimated Time:",procTimeRange:"5-10 min protocol",close:"Close System",minAmountError:"Minimum system 20 EGP",phoneError:"Please enter your 11-digit wallet for secure check!",userInfo:"Secure Account Info",userPhone:"Your Phone (Protocol):",uploadProof:"Secure Transfer Screenshot",proofRequired:"Upload protocol screenshot first!",changeProof:"Change Secure Image"}}[a],A=[{id:"vodafone",name:ne.vodafone,logo:"https://i.ibb.co/3ZK6xjV/d4fa94a1-33c1-4f3b-84af-cfe18b50a76b.jpg"},{id:"etisalat",name:ne.etisalat,logo:"https://i.ibb.co/WYVbdVS/b885d40f-f8ca-4b22-87da-69b17e187014.jpg"},{id:"orange",name:ne.orange,logo:"https://i.ibb.co/35NCTPHH/b3a2c2ed-2016-44a5-976e-19588640ff99.jpg"},{id:"fawry",name:ne.fawry,logo:"https://i.ibb.co/1G94NwbX/images-3.jpg"}],Q=B=>{N(B),f("DETAILS")},_e=()=>{const B=L.replace(/\D/g,"");if(!B||B.length!==11){$({show:!0,message:ne.phoneError,type:"error"});return}const C=parseFloat(k);if(isNaN(C)||C<20){$({show:!0,message:ne.minAmountError,type:"error"});return}f("LOADING"),setTimeout(()=>{$({show:!0,message:ne.successMsg,type:"success"}),f("CONFIRM")},1500)},ee=async()=>{if(!l||!c)return;if(!D){$({show:!0,message:ne.proofRequired,type:"error"});return}f("FINALIZING"),xe(!0);const B=new Date,C={date:B.toLocaleDateString("en-GB"),time:B.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),submittedAmount:k,submittedPhone:L,proof:D};try{const K=ve(ye,"Deposit"),Ee=I1(K),ge={uid:l.uid,id:c.id,username:c.username,phone:L,amount:parseFloat(k),method:(w==null?void 0:w.id)||"unknown",status:"pending",createdAt:B.toISOString(),proofImage:D};await Wa(Ee,ge),setTimeout(()=>{Ce(C),f("SUCCESS"),xe(!1)},3e3)}catch(K){$({show:!0,message:K.message,type:"error"}),f("CONFIRM"),xe(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Yt,{isVisible:S.show,message:S.message,type:S.type,onClose:()=>$({...S,show:!1})}),s.jsx("div",{className:`fixed inset-0 bg-black/80 z-[200] backdrop-blur-md transition-opacity duration-500 ease-in-out ${i?"opacity-100":"opacity-0"}`,onClick:t}),s.jsxs("div",{className:`fixed bottom-0 left-0 right-0 z-[201] bg-[#1a1c1e] border-t border-white/5 rounded-t-[2.5rem] p-5 pt-6 max-h-[92vh] overflow-y-auto transition-all duration-500 cubic-bezier(0.19, 1, 0.22, 1) ${i?"translate-y-0 shadow-[0_-20px_60px_rgba(0,0,0,0.8)]":"translate-y-full"}`,dir:a==="ar"?"rtl":"ltr",children:[s.jsx("div",{className:"w-12 h-1 bg-zinc-800 rounded-full mx-auto mb-6"}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u==="LIST"||u==="SUCCESS"?s.jsx("h2",{className:"text-xl font-black text-white tracking-tight uppercase",children:ne.title}):u==="FINALIZING"?s.jsx("div",{className:"w-8"}):s.jsxs("button",{onClick:()=>f(u==="CONFIRM"?"DETAILS":"LIST"),className:"flex items-center space-x-1 text-[#FFFF00] font-black text-xs uppercase tracking-tighter",children:[s.jsx("i",{className:`fas ${a==="ar"?"fa-chevron-right":"fa-chevron-left"} mx-1`}),s.jsx("span",{children:ne.back})]}),u!=="LIST"&&u!=="SUCCESS"&&u!=="FINALIZING"&&w&&s.jsxs("div",{className:"flex items-center space-x-2 bg-zinc-900 px-3 py-1.5 rounded-xl border border-white/5 shadow-inner",children:[s.jsx("img",{src:w.logo,className:"w-5 h-5 object-contain rounded-md",alt:""}),s.jsx("span",{className:"text-white font-black text-[10px] uppercase mx-1 tracking-tighter",children:w.name})]}),s.jsx("button",{onClick:t,className:"w-9 h-9 flex items-center justify-center text-zinc-500 bg-zinc-900 rounded-full border border-white/5 active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-times text-base"})})]}),(u==="DETAILS"||u==="CONFIRM")&&c&&s.jsxs("div",{className:"bg-zinc-900/50 rounded-2xl p-4 border border-white/5 mb-6 flex items-center space-x-3 shadow-inner",children:[s.jsx("div",{className:"w-10 h-10 bg-black rounded-xl overflow-hidden border border-white/10 p-0.5",children:s.jsx("img",{src:c.profileImage,className:"w-full h-full object-cover rounded-lg",alt:""})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-[9px] text-zinc-600 font-black uppercase leading-none mb-1 tracking-widest",children:ne.userInfo}),s.jsx("p",{className:"text-white font-black text-sm leading-none truncate",children:c.username}),s.jsxs("p",{className:"text-zinc-500 font-bold text-[10px] uppercase tracking-tighter opacity-60 leading-none mt-1",children:["SECURE ID: ",c.id]})]})]}),u==="LIST"&&s.jsxs("div",{className:"animate-in fade-in duration-400",children:[s.jsxs("div",{className:"bg-zinc-900 p-1 rounded-2xl flex items-center mb-6 border border-white/5",children:[s.jsxs("button",{onClick:()=>p("fiat"),className:`flex-1 flex items-center justify-center py-3 rounded-xl transition-all ${m==="fiat"?"bg-zinc-800 text-white font-black shadow-lg":"text-zinc-500 font-bold"}`,children:[s.jsx("i",{className:"fas fa-shield-alt text-emerald-500 mr-2 ml-2 text-sm"}),s.jsx("span",{className:"text-sm uppercase tracking-tighter",children:ne.fiat})]}),s.jsxs("button",{onClick:()=>p("crypto"),className:`flex-1 flex items-center justify-center py-3 rounded-xl transition-all ${m==="crypto"?"bg-zinc-800 text-white font-black shadow-lg":"text-zinc-500 font-bold"}`,children:[s.jsx("i",{className:"fab fa-bitcoin text-orange-500 mr-2 ml-2 text-sm"}),s.jsx("span",{className:"text-sm uppercase tracking-tighter",children:ne.crypto})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:A.map(B=>s.jsxs("div",{onClick:()=>Q(B),className:"bg-zinc-900 p-4 rounded-3xl border border-white/5 flex flex-col items-center justify-center space-y-3 active:scale-95 transition-all cursor-pointer group shadow-inner",children:[s.jsx("div",{className:"w-14 h-12 flex items-center justify-center overflow-hidden rounded-xl bg-black/50 p-2",children:s.jsx("img",{src:B.logo,alt:B.name,className:"max-w-full max-h-full object-contain"})}),s.jsx("p",{className:"text-white font-black text-[10px] uppercase tracking-tighter",children:B.name})]},B.id))})]}),u==="DETAILS"&&s.jsxs("div",{className:"animate-in fade-in duration-400 space-y-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-zinc-900 rounded-2xl p-5 border border-white/5 shadow-inner",children:s.jsx("input",{type:"tel",maxLength:11,placeholder:ne.phonePlaceholder,value:L,onChange:B=>O(B.target.value.replace(/\D/g,"").substring(0,11)),className:"w-full bg-transparent outline-none text-white font-black text-base placeholder:text-zinc-700",required:!0})}),s.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6 border border-white/5 flex items-center justify-between shadow-inner",children:[s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-[9px] text-zinc-600 font-black uppercase mb-1 tracking-widest",children:ne.amountLabel}),s.jsxs("div",{className:"flex items-center text-white font-black text-2xl",children:[s.jsx("span",{className:"mr-2 text-emerald-500",children:"E"}),s.jsx("input",{type:"number",value:k,onChange:B=>M(B.target.value),className:"bg-transparent text-white font-black outline-none w-full",min:"20"})]})]}),s.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1.5 rounded-xl flex items-center text-[10px] font-black uppercase shadow-lg",children:[ne.bonus," ",s.jsx("i",{className:"fas fa-gift ml-1 mr-1"})]})]}),s.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto no-scrollbar py-2",children:["25","50","150","300"].map(B=>s.jsxs("button",{onClick:()=>M(B),className:`shrink-0 px-6 py-2.5 rounded-full font-black text-xs border transition-all ${k===B?"bg-[#FFFF00] text-black border-[#FFFF00] shadow-[0_0_15px_rgba(255,255,0,0.2)]":"bg-zinc-900 text-zinc-400 border-white/5"}`,children:["E",B]},B))})]}),s.jsx("button",{onClick:_e,disabled:L.length!==11,className:`w-full font-black py-4 rounded-2xl shadow-[0_10px_30px_rgba(255,255,0,0.1)] active:scale-95 transition-all text-base uppercase tracking-widest ${L.length!==11?"bg-zinc-800 text-zinc-600 cursor-not-allowed":"bg-[#FFFF00] text-black hover:bg-white"}`,children:ne.depositBtn}),s.jsxs("div",{className:"relative bg-gradient-to-br from-[#1a1c1e] to-zinc-900 rounded-3xl p-6 overflow-hidden border border-white/5 shadow-inner",children:[s.jsxs("div",{className:"relative z-10 space-y-1.5 text-left",children:[s.jsx("p",{className:"text-white font-black text-sm uppercase tracking-tighter",children:"+100% on secure first deposit"}),s.jsx("p",{className:"text-zinc-500 text-[10px] font-bold",children:"Secure your system bonus today."}),s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-black/40 backdrop-blur-md px-3 py-1.5 rounded-full text-white text-[9px] font-black border border-white/5 mt-2",children:[s.jsx("i",{className:"far fa-clock mr-1 text-emerald-500"}),s.jsx("span",{className:"tracking-tighter",children:T(ie)})]})]}),s.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/4213/4213958.png",className:"absolute right-[-5px] bottom-[-15px] w-28 h-28 opacity-10 grayscale",alt:""})]})]}),u==="LOADING"&&s.jsxs("div",{className:"py-20 flex flex-col items-center justify-center animate-in zoom-in duration-500",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-[#FFFF00]/10 border-t-[#FFFF00] rounded-full animate-spin mb-6 shadow-[0_0_20px_rgba(255,255,0,0.1)]"}),s.jsx("p",{className:"text-zinc-500 font-black uppercase tracking-[0.4em] text-[10px]",children:ne.processing})]}),u==="CONFIRM"&&s.jsxs("div",{className:"animate-in fade-in duration-400 space-y-6",children:[s.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6 border border-white/5 shadow-inner space-y-6",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-black rounded-xl flex items-center justify-center text-zinc-500 border border-white/5",children:s.jsx("i",{className:"fas fa-phone-alt text-xs"})}),s.jsxs("div",{className:"text-left mx-2",children:[s.jsx("p",{className:"text-[9px] text-zinc-600 font-black uppercase mb-0.5 tracking-widest",children:ne.recipientPhone}),s.jsx("p",{className:"text-white font-black text-base",children:q})]})]}),s.jsx("button",{onClick:()=>z(q),className:"w-10 h-10 bg-black rounded-xl flex items-center justify-center text-zinc-500 border border-white/5 active:scale-90 transition-transform",children:s.jsx("i",{className:"far fa-copy text-base"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-xl flex items-center justify-center text-emerald-500 font-black text-sm border border-emerald-500/20",children:"E"}),s.jsxs("div",{className:"text-left mx-2",children:[s.jsx("p",{className:"text-[9px] text-zinc-600 font-black uppercase mb-0.5 tracking-widest",children:ne.amountLabel}),s.jsxs("p",{className:"text-white font-black text-base",children:["E",k]})]})]}),s.jsx("button",{onClick:()=>z(k),className:"w-10 h-10 bg-black rounded-xl flex items-center justify-center text-zinc-500 border border-white/5 active:scale-90 transition-transform",children:s.jsx("i",{className:"far fa-copy text-base"})})]})]}),s.jsxs("div",{className:"pt-5 border-t border-white/5",children:[s.jsx("p",{className:"text-[10px] text-zinc-500 font-black uppercase tracking-widest mb-4 text-left",children:ne.uploadProof}),D?s.jsxs("div",{className:"relative rounded-3xl overflow-hidden border border-white/5 shadow-lg aspect-video",children:[s.jsx("img",{src:D,className:"w-full h-full object-cover",alt:"Proof"}),s.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:s.jsx("button",{onClick:()=>{var B;return(B=X.current)==null?void 0:B.click()},className:"bg-[#FFFF00] text-black px-4 py-1.5 rounded-xl font-black text-[9px] uppercase tracking-widest",children:ne.changeProof})})]}):s.jsxs("div",{onClick:()=>{var B;return(B=X.current)==null?void 0:B.click()},className:"w-full h-32 bg-black rounded-3xl border-2 border-dashed border-zinc-800 flex flex-col items-center justify-center cursor-pointer transition-all hover:border-[#FFFF00]/30 group",children:[s.jsx("input",{type:"file",ref:X,onChange:G,accept:"image/*",className:"hidden"}),te?s.jsx("i",{className:"fas fa-circle-notch fa-spin text-[#FFFF00] text-2xl"}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-camera text-zinc-800 text-2xl mb-2 group-hover:text-zinc-600 transition-colors"}),s.jsx("span",{className:"text-[9px] font-black text-zinc-700 uppercase tracking-tighter group-hover:text-zinc-500 transition-colors",children:"Tap for secure upload"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsx("span",{className:"text-zinc-600 text-[10px] font-black uppercase opacity-60 tracking-widest",children:ne.waiting}),s.jsx("div",{className:"bg-zinc-900 px-4 py-1.5 rounded-full text-emerald-500 font-black text-[11px] border border-white/5 shadow-inner",children:_(pe)})]}),s.jsx("button",{onClick:ee,className:"w-full bg-[#FFFF00] text-black font-black py-4 rounded-2xl shadow-[0_10px_30px_rgba(255,255,0,0.1)] active:scale-95 transition-all text-base uppercase tracking-widest",children:ne.confirmBtn})]}),u==="FINALIZING"&&s.jsxs("div",{className:"py-20 flex flex-col items-center justify-center animate-in fade-in duration-500 space-y-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 border-4 border-emerald-500/10 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-20 h-20 border-t-4 border-emerald-500 rounded-full animate-spin shadow-[0_0_15px_rgba(16,185,129,0.2)]"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("i",{className:"fas fa-shield-alt text-emerald-500 text-2xl drop-shadow-[0_0_10px_rgba(16,185,129,0.5)]"})})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h4",{className:"text-white font-black uppercase text-lg tracking-tighter",children:ne.finalizing}),s.jsx("p",{className:"text-zinc-600 text-[10px] font-black tracking-[0.4em] uppercase opacity-50",children:ne.handshake})]}),s.jsx("div",{className:"w-full max-w-xs bg-zinc-900 h-1.5 rounded-full overflow-hidden border border-white/5 shadow-inner",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-100",style:{width:`${se}%`}})})]}),u==="SUCCESS"&&we&&s.jsxs("div",{className:"animate-in zoom-in duration-500 space-y-8 text-center flex flex-col items-center pb-6",children:[s.jsx("div",{className:"relative mt-6 animate-float",children:s.jsx("div",{className:"w-48 h-32 bg-zinc-900 rounded-[2.5rem] relative shadow-[0_20px_50px_rgba(0,0,0,0.5)] flex items-center justify-center overflow-hidden border border-white/5",children:s.jsx("i",{className:"fas fa-receipt text-[#FFFF00] text-5xl drop-shadow-[0_0_20px_rgba(255,255,0,0.3)]"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-2xl font-black text-white tracking-tight uppercase",children:ne.paymentProcessing}),s.jsx("p",{className:"text-zinc-500 text-[11px] font-bold px-10 leading-relaxed opacity-70 tracking-widest",children:ne.trackStatus})]}),s.jsxs("div",{className:"bg-zinc-900 rounded-3xl w-full p-6 border border-white/5 shadow-inner space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between pb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center border border-white/10 overflow-hidden p-0.5",children:we.proof?s.jsx("img",{src:we.proof,className:"w-full h-full object-cover rounded-lg"}):s.jsx("img",{src:w==null?void 0:w.logo,className:"w-8 h-8 object-contain"})}),s.jsxs("div",{className:"text-left mx-2",children:[s.jsx("p",{className:"text-[9px] text-zinc-600 font-black uppercase leading-none mb-1 tracking-widest",children:ne.userPhone}),s.jsx("p",{className:"text-white font-black text-xs",children:we.submittedPhone})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-emerald-500 font-black text-xl tracking-tighter",children:["E",we.submittedAmount]})})]}),s.jsx("div",{className:"h-px bg-white/5 w-full"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center text-[10px]",children:[s.jsx("span",{className:"text-zinc-600 font-black uppercase tracking-widest",children:ne.date}),s.jsx("span",{className:"text-white font-black",children:we.date})]}),s.jsxs("div",{className:"flex justify-between items-center text-[10px]",children:[s.jsx("span",{className:"text-[#FFFF00] font-black uppercase leading-none tracking-widest",children:ne.procTime}),s.jsx("span",{className:"text-[#FFFF00] font-black",children:ne.procTimeRange})]})]})]}),s.jsx("button",{onClick:t,className:"w-full bg-[#FFFF00] text-black font-black py-4 rounded-2xl shadow-[0_10px_30px_rgba(255,255,0,0.1)] active:scale-95 transition-all text-base uppercase tracking-widest",children:ne.close})]}),s.jsx("div",{className:"mt-8 text-center pb-12 opacity-20",children:s.jsx("p",{className:"text-zinc-600 text-[9px] font-black uppercase tracking-[0.5em]",children:"ZEE AI SECURE PORTAL v4.2.1"})})]})]})},jE=({isOpen:i,onClose:t,lang:a,user:l,userData:c})=>{var ie;const[u,f]=b.useState("LIST"),[m,p]=b.useState(i),[x,v]=b.useState(null),[w,N]=b.useState("150"),[k,M]=b.useState(""),[L,O]=b.useState(!1),[D,W]=b.useState({show:!1,message:"",type:"info"});if(b.useEffect(()=>{if(i)p(!0),f("LIST"),document.body.style.overflow="hidden";else{const P=setTimeout(()=>{p(!1),document.body.style.overflow="unset"},400);return()=>clearTimeout(P)}},[i]),!m)return null;const te={ar:{title:" ",back:"",phonePlaceholder:"  (11 )",amountLabel:" ",withdrawBtn:"  ",successTitle:"   ",successDesc:"    .       24 .",balanceError:"   ",minError:"    150 .",phoneError:"     (11 )",processing:"  ...",close:" ",vodafone:" ",orange:" ",etisalat:" ",instapay:" "},en:{title:"Secure Withdraw",back:"Back",phonePlaceholder:"Wallet Number (11 digits)",amountLabel:"Withdraw Amount",withdrawBtn:"Start Secure Withdraw",successTitle:"Withdrawal Pending",successDesc:"Withdrawal request received. Verification and transfer will be completed within 24 hours.",balanceError:"Insufficient balance for withdrawal",minError:"Minimum withdrawal is 150 EGP",phoneError:"Please enter a valid phone number (11 digits)",processing:"Secure Processing...",close:"Close System",vodafone:"Vodafone Cash",orange:"Orange Cash",etisalat:"Etisalat Cash",instapay:"InstaPay"}}[a],he=[{id:"vodafone",name:te.vodafone,logo:"https://i.ibb.co/3ZK6xjV/d4fa94a1-33c1-4f3b-84af-cfe18b50a76b.jpg"},{id:"etisalat",name:te.etisalat,logo:"https://i.ibb.co/WYVbdVS/b885d40f-f8ca-4b22-87da-69b17e187014.jpg"},{id:"orange",name:te.orange,logo:"https://i.ibb.co/35NCTPHH/b3a2c2ed-2016-44a5-976e-19588640ff99.jpg"},{id:"instapay",name:te.instapay,logo:"https://i.ibb.co/C06YV8Z/instapay.jpg"}],pe=P=>{v(P),f("DETAILS")},Ne=async()=>{if(!l||!c)return;const P=parseFloat(w);if(isNaN(P)||P<150){W({show:!0,message:te.minError,type:"error"});return}if((c.balance||0)<P){W({show:!0,message:te.balanceError,type:"error"});return}const ue=k.replace(/\D/g,"");if(ue.length!==11){W({show:!0,message:te.phoneError,type:"error"});return}O(!0);try{const xe=ve(ye,`User/${l.uid}`),se=(c.balance||0)-P;await Xe(xe,{balance:se});const je=ve(ye,"Withdraw"),we=I1(je);await Xe(we,{uid:l.uid,username:c.username,id:c.id,amount:P,phone:ue,method:x.id,status:"pending",createdAt:new Date().toISOString()}),f("SUCCESS")}catch(xe){W({show:!0,message:xe.message,type:"error"})}finally{O(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Yt,{isVisible:D.show,message:D.message,type:D.type,onClose:()=>W({...D,show:!1})}),s.jsx("div",{className:`fixed inset-0 bg-black/80 z-[200] backdrop-blur-md transition-opacity duration-500 ${i?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:t}),s.jsxs("div",{className:`fixed bottom-0 left-0 right-0 z-[201] bg-[#1a1c1e] border-t border-white/5 rounded-t-[2.5rem] p-6 pt-8 max-h-[92vh] overflow-y-auto transition-transform duration-500 ease-[cubic-bezier(0.32,0.72,0,1)] ${i?"translate-y-0 shadow-[0_-20px_60px_rgba(0,0,0,0.8)]":"translate-y-full"}`,dir:a==="ar"?"rtl":"ltr",children:[s.jsx("div",{className:"w-12 h-1 bg-zinc-800 rounded-full mx-auto mb-8"}),s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u==="DETAILS"?s.jsxs("button",{onClick:()=>f("LIST"),className:"flex items-center space-x-2 space-x-reverse text-[#FFFF00] font-black text-xs uppercase tracking-widest",children:[s.jsx("i",{className:`fas ${a==="ar"?"fa-chevron-right":"fa-chevron-left"}`}),s.jsx("span",{children:te.back})]}):s.jsx("h2",{className:"text-2xl font-black text-white tracking-tighter uppercase",children:te.title}),s.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center text-zinc-500 bg-zinc-900 rounded-full border border-white/5 active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-times text-lg"})})]}),u==="LIST"&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-400",children:[s.jsx("p",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-[0.2em] mb-6 text-center",children:"Select Secure Method"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:he.map(P=>s.jsxs("div",{onClick:()=>pe(P),className:"bg-zinc-900/50 p-6 rounded-[2rem] border border-white/5 flex flex-col items-center justify-center space-y-4 active:scale-95 transition-all cursor-pointer group hover:border-[#FFFF00]/30 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 flex items-center justify-center overflow-hidden rounded-2xl bg-black/40 p-2 shadow-inner border border-white/5",children:s.jsx("img",{src:P.logo,alt:P.name,className:"max-w-full max-h-full object-contain"})}),s.jsx("p",{className:"text-white font-black text-[11px] uppercase tracking-widest",children:P.name})]},P.id))})]}),u==="DETAILS"&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-400 space-y-6",children:[s.jsxs("div",{className:"bg-zinc-900/30 rounded-[2rem] p-6 border border-white/5 space-y-6 shadow-inner",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-black flex items-center justify-center border border-white/10 overflow-hidden p-1 shadow-lg",children:s.jsx("img",{src:x.logo,className:"w-full h-full object-contain",alt:""})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-600 text-[8px] font-black uppercase tracking-widest block leading-none mb-1",children:"Target Method"}),s.jsx("span",{className:"text-white font-black text-sm uppercase tracking-tighter",children:x.name})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-zinc-600 text-[8px] font-black uppercase tracking-widest block leading-none mb-1",children:"Available"}),s.jsxs("span",{className:"text-[#FFFF00] font-black text-sm",children:["$",((ie=c==null?void 0:c.balance)==null?void 0:ie.toFixed(1))||"0.0"]})]})]}),s.jsx("div",{className:"h-px bg-white/5"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-widest ml-1 mb-2 block",children:te.phonePlaceholder}),s.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 border border-white/10 shadow-inner group focus-within:border-[#FFFF00]/50 transition-all",children:s.jsx("input",{type:"tel",maxLength:11,placeholder:"01xxxxxxxxx",value:k,onChange:P=>M(P.target.value.replace(/\D/g,"")),className:"w-full bg-transparent outline-none text-white font-black text-lg placeholder:text-zinc-800 tracking-widest text-center"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-widest ml-1 mb-2 block",children:te.amountLabel}),s.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 border border-white/10 shadow-inner flex items-center group focus-within:border-[#FFFF00]/50 transition-all",children:[s.jsx("span",{className:"text-emerald-500 font-black text-lg mr-3 ml-3",children:"E"}),s.jsx("input",{type:"number",value:w,onChange:P=>N(P.target.value),className:"flex-1 bg-transparent outline-none text-white font-black text-2xl placeholder:text-zinc-800 tracking-tighter",min:"150"})]})]}),s.jsx("div",{className:"flex gap-2 pt-2",children:["150","500","1000","2000"].map(P=>s.jsx("button",{onClick:()=>N(P),className:`flex-1 py-2.5 rounded-xl text-[10px] font-black border transition-all ${w===P?"bg-[#FFFF00] text-black border-[#FFFF00] shadow-lg shadow-[#FFFF00]/10":"bg-zinc-900/50 text-zinc-500 border-white/5"}`,children:P},P))})]})]}),s.jsx("button",{onClick:Ne,disabled:L||k.length!==11,className:`w-full h-16 rounded-[1.8rem] font-black text-sm uppercase tracking-[0.2em] transition-all shadow-2xl flex items-center justify-center ${L||k.length!==11?"bg-zinc-800 text-zinc-600 opacity-50":"bg-[#FFFF00] text-black hover:bg-white active:scale-95"}`,children:L?s.jsx("i",{className:"fas fa-circle-notch fa-spin text-xl"}):te.withdrawBtn}),s.jsx("p",{className:"text-[7px] text-zinc-700 text-center font-black uppercase tracking-[0.3em] px-10",children:"Secure encrypted tunnel active. Requests are processed manually for maximum safety."})]}),u==="SUCCESS"&&s.jsxs("div",{className:"animate-in zoom-in duration-500 space-y-8 text-center flex flex-col items-center py-10",children:[s.jsx("div",{className:"w-24 h-24 bg-emerald-500/10 rounded-[2rem] flex items-center justify-center border border-emerald-500/20 shadow-[0_0_40px_rgba(16,185,129,0.1)]",children:s.jsx("i",{className:"fas fa-clock-rotate-left text-emerald-500 text-4xl animate-pulse"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-2xl font-black text-white tracking-tight uppercase",children:te.successTitle}),s.jsx("p",{className:"text-zinc-500 text-[11px] font-bold leading-relaxed px-8 opacity-70 tracking-widest",children:te.successDesc})]}),s.jsx("button",{onClick:t,className:"w-full bg-[#FFFF00] text-black font-black h-16 rounded-[1.8rem] shadow-[0_10px_30px_rgba(255,255,0,0.1)] active:scale-95 transition-all text-xs uppercase tracking-[0.3em]",children:te.close})]}),s.jsx("div",{className:"mt-8 text-center pb-10 opacity-10",children:s.jsx("p",{className:"text-[8px] font-black text-zinc-600 uppercase tracking-[0.5em]",children:"BETREX SECURE PAYOUT GATEWAY v4.2"})})]})]})},SE=({user:i,lang:t,onBack:a})=>{const[l,c]=b.useState([]),[u,f]=b.useState(!0),[m,p]=b.useState("all"),[x,v]=b.useState("all"),[w,N]=b.useState(null),[k,M]=b.useState(!1),[L,O]=b.useState({show:!1,message:"",type:"info"});b.useEffect(()=>{if(!i)return;(()=>{lt(ve(ye,"Deposit"),he=>{lt(ve(ye,"Withdraw"),pe=>{const Ne=he.val()||{},ie=pe.val()||{},P=Object.entries(Ne).map(([xe,se])=>({...se,firebaseId:xe,type:"deposit"})).filter(xe=>xe.uid===i.uid),ue=Object.entries(ie).map(([xe,se])=>({...se,firebaseId:xe,type:"withdraw"})).filter(xe=>xe.uid===i.uid);c([...P,...ue].sort((xe,se)=>new Date(se.createdAt).getTime()-new Date(xe.createdAt).getTime())),f(!1)})})})()},[i]);const D={ar:{title:"  ",empty:"      ",amount:" ",status:" ",method:"",phone:"  ()",date:" ",pending:"  ",approved:"  ",rejected:" ",all:" ",deleteTitle:"  ",cancel:" ",confirmDelete:"   "},en:{title:"Secure Transaction History",empty:"No protocol transactions found yet",amount:"System Amount",status:"Secure Status",method:"Method",phone:"Phone Number (Protocol)",date:"System Date",pending:"Secure Review",approved:"Protocol Approved",rejected:"Protocol Rejected",all:"All Secure",deleteTitle:"Confirm Secure Delete",cancel:"Protocol Cancel",confirmDelete:"Delete from Secure Ledger"}}[t],W=l.filter(te=>(m==="all"||m==="pending"&&te.status==="pending"||m==="completed"&&te.status!=="pending")&&(x==="all"||te.type===x));return s.jsxs("div",{className:"min-h-full pb-32 animate-in fade-in duration-500",children:[s.jsxs("header",{className:"px-6 pt-8 pb-4 flex items-center justify-between sticky top-0 bg-[#0f1113]/90 backdrop-blur-xl z-20 border-b border-white/5",children:[s.jsx("button",{onClick:a,className:"w-10 h-10 bg-zinc-900 rounded-full flex items-center justify-center border border-white/5 active:scale-90 transition-transform",children:s.jsx("i",{className:`fas ${t==="ar"?"fa-chevron-right":"fa-chevron-left"} text-zinc-400`})}),s.jsx("h2",{className:"text-xl font-black uppercase tracking-tighter mx-auto",children:D.title}),s.jsx("div",{className:"w-10"})]}),s.jsx("div",{className:"px-6 space-y-4 mt-6",children:W.map((te,he)=>s.jsxs("div",{className:"bg-[#1a1c1e] rounded-[2rem] p-5 border border-white/5 shadow-xl relative overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"text-white font-black text-xs uppercase",children:te.method}),s.jsx("span",{className:"text-[10px] font-black uppercase px-2 py-0.5 rounded bg-amber-500/20 text-amber-500",children:te.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-zinc-950/50 rounded-2xl p-4 border border-white/5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[9px] text-zinc-600 font-bold uppercase mb-0.5",children:D.amount}),s.jsxs("p",{className:"font-black text-sm text-white",children:["EGP ",te.amount]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[9px] text-zinc-600 font-bold uppercase mb-0.5",children:D.phone}),s.jsx("p",{className:"text-white font-black text-sm",children:te.phone})]})]})]},te.firebaseId))})]})},dl=[{label:"10",value:"10",color:"#3f51b5",text:"#fff",isWin:!0},{label:"20",value:"20",color:"#5c6bc0",text:"#fff",isWin:!0},{label:"30",value:"30",color:"#3f51b5",text:"#fff",isWin:!0},{label:"40",value:"40",color:"#5c6bc0",text:"#fff",isWin:!0},{label:"25",value:"25",color:"#3f51b5",text:"#fff",isWin:!0},{label:"Lose",value:"0",color:"#1a237e",text:"#ef4444",isWin:!1},{label:"Lose",value:"0",color:"#1a237e",text:"#ef4444",isWin:!1},{label:"Try again",value:"0",color:"#283593",text:"#ffeb3b",isWin:!1}],kE=({result:i,onClose:t})=>s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-black/90 backdrop-blur-md animate-in fade-in duration-500",children:s.jsxs("div",{className:"relative w-full max-w-xs bg-[#1a1c1e] border-2 border-[#FFFF00]/30 rounded-[3rem] p-10 text-center shadow-[0_0_100px_rgba(255,255,0,0.2)] animate-in zoom-in-bounce duration-500",children:[s.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-24 h-24 bg-[#FFFF00] rounded-full flex items-center justify-center shadow-[0_0_40px_rgba(255,255,0,0.5)] animate-bounce",children:s.jsx("i",{className:`fas ${i.isWin?"fa-trophy":"fa-redo"} text-black text-4xl`})}),s.jsx("h2",{className:"mt-8 text-2xl font-black text-white uppercase tracking-tighter",children:i.isWin?"CONGRATULATIONS!":"UNLUCKY!"}),s.jsx("div",{className:"bg-white/5 rounded-3xl py-6 my-6 border border-white/5 shadow-inner",children:s.jsx("span",{className:`text-5xl font-black tracking-tighter drop-shadow-[0_0_15px_rgba(255,255,0,0.3)] ${i.isWin?"text-[#FFFF00]":"text-zinc-500"}`,children:i.label})}),s.jsx("button",{onClick:t,className:"w-full bg-white text-black font-black py-5 rounded-2xl uppercase text-sm tracking-widest active:scale-95 transition-all shadow-xl hover:bg-[#FFFF00]",children:"Close Record"})]})}),EE=({user:i,onBack:t,lang:a})=>{const[l,c]=b.useState(!1),[u,f]=b.useState(0),[m,p]=b.useState(null),[x,v]=b.useState({show:!1,message:"",type:"info"}),w=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2017/2017-preview.mp3")),N=()=>{if(l)return;c(!0);const k=Math.floor(Math.random()*dl.length),M=360/dl.length,L=(10+Math.floor(Math.random()*5))*360,O=360-(k*M+M/2),D=u+L+(O-u%360);f(D),setTimeout(()=>{c(!1);const W=dl[k];p(W),W.isWin&&w.current.play().catch(()=>{})},5e3)};return s.jsxs("div",{className:"fixed inset-0 bg-[#07080a] text-white flex flex-col font-['Cairo'] select-none overflow-hidden",dir:"ltr",children:[s.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-20 z-0",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(139,92,246,0.3),transparent_70%)]"}),s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')]"})]}),s.jsx(Yt,{isVisible:x.show,message:x.message,type:x.type,onClose:()=>v({...x,show:!1})}),m&&s.jsx(kE,{result:m,onClose:()=>p(null)}),s.jsx("button",{onClick:t,className:"absolute top-6 left-6 z-50 w-11 h-11 bg-zinc-900/60 rounded-2xl flex items-center justify-center border border-white/10 active:scale-90 transition-all hover:bg-zinc-800 shadow-xl",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400"})}),s.jsxs("main",{className:"flex-1 relative flex flex-col items-center justify-center z-10 p-4",children:[s.jsxs("div",{className:"mb-12 relative group animate-in fade-in slide-in-from-top-4 duration-1000",children:[s.jsx("div",{className:"absolute -inset-10 bg-purple-600/30 blur-3xl rounded-full animate-pulse"}),s.jsxs("div",{className:"relative flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center gap-4 text-4xl md:text-5xl font-black italic tracking-tighter text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.8)]",children:[s.jsx("i",{className:"fas fa-star text-[#FFFF00] text-2xl animate-pulse"}),s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-b from-white via-white to-zinc-400",children:"LUCKY"}),s.jsx("div",{className:"w-12 h-12 bg-rose-600 rounded-full flex items-center justify-center shadow-[0_0_20px_rgba(225,29,72,0.6)]",children:s.jsx("i",{className:"fas fa-heart text-white text-2xl"})}),s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-b from-white via-white to-zinc-400",children:"WHEEL"}),s.jsx("i",{className:"fas fa-star text-[#FFFF00] text-2xl animate-pulse delay-75"})]}),s.jsx("div",{className:"h-1 w-64 bg-gradient-to-r from-transparent via-[#FFFF00] to-transparent mt-3 opacity-60"})]})]}),s.jsxs("div",{className:"relative w-full max-w-[360px] aspect-square flex items-center justify-center group/wheel",children:[s.jsxs("div",{className:"absolute inset-[-20px] rounded-full border-[10px] border-[#1e1b4b] shadow-[0_30px_80px_rgba(0,0,0,1)] z-0 overflow-hidden bg-gradient-to-br from-indigo-950 to-black",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),[...Array(24)].map((k,M)=>s.jsx("div",{className:`absolute w-3 h-3 rounded-full z-10 shadow-[0_0_12px_#fff] ${M%2===0?"bg-white animate-pulse":"bg-[#FFFF00] animate-bounce"}`,style:{top:`${50+47*Math.sin(M*15*Math.PI/180)}%`,left:`${50+47*Math.cos(M*15*Math.PI/180)}%`,transform:"translate(-50%, -50%)",animationDelay:`${M*150}ms`}},M))]}),s.jsx("div",{className:"absolute top-[-35px] left-1/2 -translate-x-1/2 z-50",children:s.jsx("div",{className:"w-12 h-16 bg-gradient-to-b from-yellow-300 via-yellow-500 to-orange-600 clip-path-v shadow-[0_10px_30px_rgba(0,0,0,0.5)] flex items-center justify-center border-x-2 border-yellow-200/20",children:s.jsx("div",{className:"w-5 h-5 bg-white rounded-full mt-[-15px] shadow-inner border border-zinc-200"})})}),s.jsxs("div",{className:"relative w-full h-full rounded-full transition-transform duration-[5000ms] cubic-bezier(0.1, 0, 0.1, 1) shadow-[inset_0_0_100px_rgba(0,0,0,0.8),0_0_40px_rgba(0,0,0,0.5)] border-[6px] border-white/5 overflow-hidden z-10 bg-black",style:{transform:`rotate(${u}deg)`},children:[s.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full -rotate-90",children:dl.map((k,M)=>{const L=360/dl.length,O=M*L,D=(M+1)*L,W=50+50*Math.cos(Math.PI*O/180),te=50+50*Math.sin(Math.PI*O/180),he=50+50*Math.cos(Math.PI*D/180),pe=50+50*Math.sin(Math.PI*D/180);return s.jsxs("g",{children:[s.jsx("path",{d:`M 50 50 L ${W} ${te} A 50 50 0 0 1 ${he} ${pe} Z`,fill:k.color,stroke:"rgba(255,255,255,0.15)",strokeWidth:"0.8"}),s.jsx("g",{transform:`rotate(${O+L/2}, 50, 50)`,children:s.jsx("text",{x:"75",y:"50",fill:k.text,fontSize:"6.5",fontWeight:"1000",textAnchor:"middle",alignmentBaseline:"middle",className:"uppercase tracking-tighter",style:{textShadow:"0 2px 5px rgba(0,0,0,0.5)",filter:k.isWin?"none":"grayscale(1)"},children:k.label})})]},M)})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/10 via-transparent to-transparent pointer-events-none"})]}),s.jsx("div",{className:"absolute inset-0 m-auto w-32 h-32 rounded-full z-40 bg-zinc-900 shadow-[0_20px_50px_rgba(0,0,0,0.8)] flex items-center justify-center p-2 border-4 border-[#283593]",children:s.jsxs("button",{onClick:N,disabled:l,className:`w-full h-full rounded-full z-40 flex items-center justify-center transition-all duration-300 relative overflow-hidden group/btn ${l?"bg-zinc-800 scale-95":"bg-gradient-to-br from-yellow-400 via-orange-500 to-yellow-700 hover:scale-105 active:scale-90 shadow-[inset_0_4px_10px_rgba(255,255,255,0.3)]"}`,children:[s.jsx("div",{className:"absolute inset-1.5 rounded-full border-[3px] border-white/20"}),s.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[s.jsx("span",{className:"text-white font-black text-3xl tracking-tighter italic drop-shadow-2xl",children:"GO"}),!l&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full mt-1.5 animate-ping shadow-[0_0_10px_white]"})]})]})}),s.jsx("div",{className:"absolute inset-0 m-auto w-[140px] h-[140px] rounded-full border-[8px] border-yellow-500/20 z-30 pointer-events-none shadow-[inset_0_0_30px_rgba(255,255,0,0.1)]"})]})]}),s.jsx("style",{children:`
        .clip-path-v { clip-path: polygon(0% 0%, 100% 0%, 50% 100%); }
        @keyframes zoom-in-bounce {
          0% { transform: scale(0.8); opacity: 0; }
          70% { transform: scale(1.08); opacity: 1; }
          100% { transform: scale(1); opacity: 1; }
        }
        .zoom-in-bounce { animation: zoom-in-bounce 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
      `})]})},cb=["Ahmed_Cairo","Ziad_77","Mido_Vip","Youssef_X","Mostafa_Bet","Kimo_99","Hassan_Gamer","Omar_Elite","Tarek_Win","Samy_Pro","Mahmoud_VIP","Amr_Alex","Sherif_Gold","Hany_Strike","Karim_X"],ub=({isOpen:i,onClose:t,children:a,anchorRect:l,side:c})=>{if(!i||!l)return null;const u={position:"fixed",top:l.bottom+8,zIndex:9999,[c]:c==="left"?l.left:window.innerWidth-l.right};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:t}),s.jsx("div",{style:u,className:"animate-in fade-in zoom-in duration-200",children:a})]})},CE=({user:i,onBack:t,lang:a,onAuthRequired:l})=>{var ee,B;const[c,u]=b.useState(0),[f,m]=b.useState(10),[p,x]=b.useState(50),[v,w]=b.useState("under"),[N,k]=b.useState(!1),[M,L]=b.useState(0),[O,D]=b.useState(50),[W,te]=b.useState(!1),[he,pe]=b.useState(!1),[Ne,ie]=b.useState("main"),P=b.useRef(null),ue=b.useRef(null),[xe,se]=b.useState("live"),[je,we]=b.useState([]),[Ce,X]=b.useState([]),[S,$]=b.useState([]),[H,V]=b.useState({show:!1,message:"",type:"info"}),[q,_]=b.useState(()=>Math.random().toString(36).substring(2,12).toUpperCase()),[T]=b.useState(()=>Array.from({length:40},()=>Math.floor(Math.random()*16).toString(16)).join("")),z=b.useMemo(()=>v==="under"?p:100-p,[p,v]),G=b.useMemo(()=>{if(z<=0)return 99;const C=94/z;return Math.max(1.01,parseFloat(C.toFixed(2)))},[z]),ne=b.useCallback((C=!1)=>{const K=cb[Math.floor(Math.random()*cb.length)],Ee=C?Math.random()*500+100:Math.random()*100+10,ge=Math.random()>.4,Te=ge?(94/(Math.random()*80+10)).toFixed(2):"0.00";return{id:Math.random().toString(36).substring(2,10),name:K,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${K}`,amount:parseFloat(Ee.toFixed(2)),multiplier:"x"+Te,win:ge?(Ee*parseFloat(Te)).toFixed(2):"--",status:ge?"win":"lose"}},[]);b.useEffect(()=>{i&&(lt(ve(ye,`User/${i.uid}/balance`),K=>u(K.val()||0)),lt(ve(ye,"Luck/dice"),K=>{K.exists()&&D(Number(K.val()))})),we(Array.from({length:12},()=>ne(!1))),X(Array.from({length:12},()=>ne(!0)));const C=setInterval(()=>{we(K=>[ne(!1),...K.slice(0,14)]),Math.random()>.8&&X(K=>[ne(!0),...K.slice(0,14)])},4e3);return()=>clearInterval(C)},[i,ne]);const A=b.useCallback(async()=>{if(N||!i){i||l==null||l();return}if(c<f){V({show:!0,message:a==="ar"?"  ":"Insufficient balance",type:"error"});return}k(!0),L(0),await Xe(ve(ye,`User/${i.uid}`),{balance:c-f});const C=Math.random()*100<O;let K;C?K=v==="under"?Math.floor(Math.random()*p):Math.floor(Math.random()*(100-(p+1)))+(p+1):K=v==="under"?Math.floor(Math.random()*(100-p))+p:Math.floor(Math.random()*(p+1)),K=Math.max(0,Math.min(99,K));let Ee=0;const ge=1e3,Te=30,Ge=ge/Te,Ue=K/Ge,fe=setInterval(()=>{Ee+=Ue,Ee>=K?(L(K),clearInterval(fe),Ie(K)):L(Math.floor(Ee))},Te),Ie=async me=>{const ae=v==="under"?me<p:me>p;if(ae){const I=f*G,ke=((await zt(ve(ye,`User/${i.uid}/balance`))).val()||0)+I;await Xe(ve(ye,`User/${i.uid}`),{balance:ke}),V({show:!0,message:a==="ar"?`! +${I.toFixed(2)} EGP`:`Win! +${I.toFixed(2)} EGP`,type:"success"})}else V({show:!0,message:a==="ar"?"   ":"Loss! Better luck next time",type:"error"});const Z={id:Date.now().toString(),name:"You",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${i.uid}`,amount:f,multiplier:"x"+G.toFixed(2),win:ae?(f*G).toFixed(2):"--",status:ae?"win":"lose"};$(I=>[Z,...I.slice(0,49)]),k(!1),_(Math.random().toString(36).substring(2,12).toUpperCase())}},[N,i,c,f,O,v,p,G,a,l]),Q=b.useMemo(()=>xe==="live"?je:xe==="my"?S:Ce,[xe,je,S,Ce]),_e={ar:{limits:"",how:" ",min:": 10 EGP",max:": 2000 EGP",rule1:"1.   .",rule2:"2.   .",rule3:"3.  Bet  .",copy:""},en:{limits:"Limits",how:"How to play",min:"Min: 10 EGP",max:"Max: 2000 EGP",rule1:"1. Choose your bet.",rule2:"2. Slide to predict.",rule3:"3. Press Bet to roll.",copy:"Copy"}}[a];return s.jsxs("div",{className:"min-h-screen bg-[#07080a] text-white flex flex-col font-['Cairo'] select-none overflow-y-auto no-scrollbar",dir:"ltr",children:[s.jsx(Yt,{isVisible:H.show,message:H.message,type:H.type,onClose:()=>V({...H,show:!1})}),s.jsxs("header",{className:"px-5 py-4 bg-black/40 flex items-center justify-between sticky top-0 z-50 backdrop-blur-xl",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl font-normal text-red-600 font-['Trade_Winds'] tracking-tighter",children:"REX"}),s.jsx("span",{className:"text-zinc-600 font-bold",children:""}),s.jsx("span",{className:"text-lg font-black uppercase text-white/90",children:"Dice"})]}),s.jsxs("div",{className:"flex items-center gap-4 relative",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900/50 px-3 py-1.5 rounded-xl border border-white/5",children:[s.jsx("i",{className:"fas fa-wallet text-[#FFFF00] text-xs"}),s.jsxs("span",{className:"text-white font-black text-xs",children:[c.toFixed(2),"EGP"]})]}),s.jsx("button",{ref:ue,onClick:()=>{pe(!he),ie("main")},className:"text-zinc-500 hover:text-white transition-colors active:scale-90",children:s.jsx("i",{className:"fas fa-cog"})})]})]}),s.jsx(ub,{isOpen:he,onClose:()=>pe(!1),anchorRect:((ee=ue.current)==null?void 0:ee.getBoundingClientRect())||null,side:"right",children:s.jsxs("div",{className:"w-52 bg-[#1a1c1e] rounded-2xl border border-white/10 shadow-2xl p-3 overflow-hidden",children:[Ne==="main"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>ie("limits"),className:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-white/5 text-left transition-colors",children:[s.jsx("span",{className:"text-white font-black uppercase text-[10px] tracking-widest",children:_e.limits}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]}),s.jsxs("button",{onClick:()=>ie("how"),className:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-white/5 text-left transition-colors",children:[s.jsx("span",{className:"text-white font-black uppercase text-[10px] tracking-widest",children:_e.how}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]})]}),Ne==="limits"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>ie("main"),className:"text-zinc-600 hover:text-white transition-colors text-[9px] font-black uppercase",children:[s.jsx("i",{className:"fas fa-chevron-left mr-1"})," Back"]}),s.jsxs("div",{className:"px-2 py-1 space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase",children:"Min"}),s.jsx("span",{className:"text-white font-bold text-[10px]",children:"10 EGP"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase",children:"Max"}),s.jsx("span",{className:"text-white font-bold text-[10px]",children:"2000 EGP"})]})]})]}),Ne==="how"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>ie("main"),className:"text-zinc-600 hover:text-white transition-colors text-[9px] font-black uppercase",children:[s.jsx("i",{className:"fas fa-chevron-left mr-1"})," Back"]}),s.jsxs("div",{className:"px-2 space-y-2",children:[s.jsx("p",{className:"text-zinc-400 text-[9px] font-bold leading-relaxed",children:_e.rule1}),s.jsx("p",{className:"text-zinc-400 text-[9px] font-bold leading-relaxed",children:_e.rule2}),s.jsx("p",{className:"text-zinc-400 text-[9px] font-bold leading-relaxed",children:_e.rule3})]})]})]})}),s.jsxs("main",{className:"flex-1 p-4 max-w-lg mx-auto w-full space-y-3",children:[s.jsxs("div",{className:"relative rounded-[2.5rem] py-10 px-8 border border-white/10 overflow-hidden shadow-2xl bg-[#121417]",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-25 pointer-events-none",style:{backgroundImage:'url("https://i.ibb.co/qYH5MQmD/Picsart-26-01-31-18-29-11-602.jpg")'}}),s.jsx("div",{className:"absolute inset-0 opacity-[0.12] pointer-events-none mix-blend-screen",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/hexellence.png")'}}),s.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-8xl md:text-9xl font-black tabular-nums tracking-tighter leading-none text-white drop-shadow-[0_0_30px_rgba(255,255,0,0.4)]",children:p.toString().padStart(2,"0")}),s.jsx("span",{className:"text-zinc-400 text-[10px] font-black uppercase tracking-[0.25em] mt-4 opacity-90",children:"Your number"})]}),s.jsxs("div",{className:"relative scale-110 mx-4",children:[s.jsx("div",{className:"absolute -inset-10 bg-white/5 blur-3xl rounded-full animate-pulse"}),s.jsx("div",{className:"cube-scene",children:s.jsxs("div",{className:"cube-wrapper",children:[s.jsx("div",{className:"cube-face cube-front"}),s.jsx("div",{className:"cube-face cube-back"}),s.jsx("div",{className:"cube-face cube-right"}),s.jsx("div",{className:"cube-face cube-left"}),s.jsx("div",{className:"cube-face cube-top"}),s.jsx("div",{className:"cube-face cube-bottom"})]})})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:`text-8xl md:text-9xl font-black tabular-nums tracking-tighter leading-none transition-all duration-300 drop-shadow-[0_0_30px_rgba(255,255,255,0.4)] ${N?"text-zinc-400 animate-pulse":"text-white"}`,children:M.toString().padStart(2,"0")}),s.jsx("span",{className:"text-zinc-400 text-[10px] font-black uppercase tracking-[0.25em] mt-4 opacity-90",children:"Rolled number"})]})]}),s.jsx("div",{className:"absolute top-6 left-6 z-[10]",children:s.jsx("button",{ref:P,onClick:()=>te(!W),className:"text-white/30 hover:text-white/60 transition-colors active:scale-90",children:s.jsx("i",{className:"fas fa-question text-xs"})})})]}),s.jsx(ub,{isOpen:W,onClose:()=>te(!1),anchorRect:((B=P.current)==null?void 0:B.getBoundingClientRect())||null,side:"left",children:s.jsxs("div",{className:"w-64 bg-[#1a1c1e] rounded-2xl border border-white/10 shadow-2xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-white/5 pb-2",children:[s.jsx("span",{className:"text-white font-black uppercase text-[10px] tracking-widest",children:"Round Info"}),s.jsx("button",{onClick:()=>te(!1),className:"text-zinc-500 hover:text-white",children:s.jsx("i",{className:"fas fa-times text-xs"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-zinc-500 text-[8px] font-black uppercase",children:"ID"}),s.jsxs("div",{className:"bg-black/40 p-2 rounded-lg border border-white/5 flex items-center justify-between",children:[s.jsx("span",{className:"text-white font-bold text-[10px] truncate w-40",children:q}),s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(q),V({show:!0,message:"Copied!",type:"success"})},className:"text-zinc-500 hover:text-white",children:s.jsx("i",{className:"far fa-copy text-[10px]"})})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-zinc-500 text-[8px] font-black uppercase",children:"Hash"}),s.jsxs("div",{className:"bg-black/40 p-2 rounded-lg border border-white/5 flex items-center justify-between",children:[s.jsx("span",{className:"text-white font-bold text-[10px] truncate w-40",children:T}),s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(T),V({show:!0,message:"Copied!",type:"success"})},className:"text-zinc-500 hover:text-white",children:s.jsx("i",{className:"far fa-copy text-[10px]"})})]})]})]})]})}),s.jsxs("div",{className:"bg-[#16181b] rounded-2xl p-3 border border-white/10 flex justify-around items-center shadow-xl",children:[s.jsxs("div",{className:"text-center px-1",children:[s.jsxs("span",{className:"text-white font-bold text-lg tracking-tighter block leading-none mb-0.5",children:["x",G]}),s.jsx("span",{className:"text-zinc-500 text-[10px] font-medium",children:"Multiplier"})]}),s.jsxs("div",{className:"text-center px-1",children:[s.jsxs("span",{className:"text-white font-bold text-lg tracking-tighter block leading-none mb-0.5",children:[(f*G).toFixed(2),"EGP"]}),s.jsx("span",{className:"text-zinc-500 text-[10px] font-medium",children:"Possible payout"})]}),s.jsxs("div",{className:"text-center px-1",children:[s.jsxs("span",{className:"text-white font-bold text-lg tracking-tighter block leading-none mb-0.5",children:[z,"%"]}),s.jsx("span",{className:"text-zinc-500 text-[10px] font-medium",children:"Win chance"})]})]}),s.jsxs("div",{className:"bg-[#121417] rounded-[1.5rem] p-3 border border-white/5 space-y-3",children:[s.jsxs("div",{className:"relative flex items-center gap-4 px-1",children:[s.jsxs("div",{className:"flex items-center gap-2 shrink-0 opacity-60",children:[s.jsx("i",{className:"fas fa-cube text-sm text-white"}),s.jsx("span",{className:"text-sm font-black tabular-nums text-white/80",children:p})]}),s.jsxs("div",{className:"relative flex-1 h-8 flex items-center",children:[s.jsxs("div",{className:"absolute inset-x-0 h-1 rounded-full overflow-hidden flex shadow-inner",children:[s.jsx("div",{className:`h-full ${v==="under"?"bg-blue-600":"bg-red-600"}`,style:{width:`${p}%`}}),s.jsx("div",{className:`h-full flex-1 ${v==="under"?"bg-red-600":"bg-blue-600"}`})]}),s.jsx("input",{type:"range",min:"1",max:"98",value:p,onChange:C=>x(parseInt(C.target.value)),className:"custom-range-input absolute inset-0 w-full h-full opacity-0 cursor-pointer z-30"}),s.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 w-7 h-7 bg-[#cbd5e1] rounded-[6px] shadow-[0_3px_10px_rgba(0,0,0,0.4)] z-20 pointer-events-none flex items-center justify-center gap-[2.5px]",style:{left:`calc(${p}% - 14px)`},children:[s.jsx("div",{className:"w-[1.2px] h-2.5 bg-black/40 rounded-full"}),s.jsx("div",{className:"w-[1.2px] h-2.5 bg-black/40 rounded-full"}),s.jsx("div",{className:"w-[1.2px] h-2.5 bg-black/40 rounded-full"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>w("under"),className:`py-2.5 rounded-xl flex items-center justify-center gap-2 border transition-all duration-300 ${v==="under"?"bg-[#1a1c1e] border-white/10 text-white shadow-xl":"bg-transparent border-transparent text-zinc-600"}`,children:[s.jsx("span",{className:"font-bold text-xs tracking-tight",children:"Under"}),s.jsxs("div",{className:"flex flex-col -space-y-1 ml-2 opacity-80",children:[s.jsx("i",{className:"fas fa-chevron-down text-[8px] text-zinc-500"}),s.jsx("i",{className:"fas fa-chevron-down text-[8px] text-white"})]})]}),s.jsxs("button",{onClick:()=>w("over"),className:`py-2.5 rounded-xl flex items-center justify-center gap-2 border transition-all duration-300 ${v==="over"?"bg-[#1a1c1e] border-white/10 text-white shadow-xl":"bg-transparent border-transparent text-zinc-600"}`,children:[s.jsx("span",{className:"font-bold text-xs tracking-tight",children:"Over"}),s.jsxs("div",{className:"flex flex-col -space-y-1 ml-2 opacity-80",children:[s.jsx("i",{className:"fas fa-chevron-up text-[8px] text-white"}),s.jsx("i",{className:"fas fa-chevron-up text-[8px] text-zinc-500"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-[1fr_120px] gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-[#121417] rounded-2xl p-4 border border-white/5 flex items-center justify-between h-14 shadow-inner",children:[s.jsx("input",{type:"number",value:f,onChange:C=>m(parseFloat(C.target.value)||0),className:"bg-transparent outline-none font-black text-lg w-24 text-white"}),s.jsx("span",{className:"text-zinc-600 text-[10px] font-black uppercase mr-2",children:"EGP"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>m(C=>Math.max(10,C-1)),className:"text-zinc-600 hover:text-white transition-colors",children:s.jsx("i",{className:"fas fa-minus"})}),s.jsx("button",{onClick:()=>m(C=>C+1),className:"text-zinc-600 hover:text-white transition-colors",children:s.jsx("i",{className:"fas fa-plus"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 h-10",children:[s.jsx("button",{onClick:()=>m(C=>Math.max(10,Math.floor(C/2))),className:"bg-[#1a1c1e] rounded-xl text-zinc-500 font-black text-[10px] uppercase border border-white/5 active:bg-white/5 transition-colors",children:"/2"}),s.jsx("button",{onClick:()=>m(C=>C*2),className:"bg-[#1a1c1e] rounded-xl text-zinc-500 font-black text-[10px] uppercase border border-white/5 active:bg-white/5 transition-colors",children:"x2"})]})]}),s.jsxs("button",{onClick:A,disabled:N,className:"bg-blue-600 rounded-2xl flex flex-col items-center justify-center gap-2 active:scale-[0.97] transition-all shadow-xl shadow-blue-900/30 disabled:opacity-50 group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),s.jsx("span",{className:"text-white font-black text-xl leading-none tracking-tighter drop-shadow-md",children:"Bet"}),s.jsx("i",{className:"fas fa-dice text-white/40 text-xs"})]})]}),s.jsxs("div",{className:"space-y-4 pt-6",children:[s.jsx("h3",{className:"text-white font-black uppercase text-xs tracking-[0.2em] pl-2 opacity-80",children:"Live Bets"}),s.jsxs("div",{className:"bg-[#1a1c1e] rounded-[1.5rem] border border-white/5 overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"grid grid-cols-3 p-1 bg-black/30",children:[s.jsxs("button",{onClick:()=>se("live"),className:`py-3 text-[10px] font-black uppercase rounded-xl transition-all duration-300 ${xe==="live"?"bg-blue-600/10 text-blue-500":"text-zinc-600"}`,children:[" Live | ",s.jsx("i",{className:"fas fa-user-friends ml-1"})," ",je.length+12]}),s.jsx("button",{onClick:()=>se("my"),className:`py-3 text-[10px] font-black uppercase rounded-xl transition-all duration-300 ${xe==="my"?"bg-blue-600/10 text-blue-500":"text-zinc-600"}`,children:"My"}),s.jsx("button",{onClick:()=>se("top"),className:`py-3 text-[10px] font-black uppercase rounded-xl transition-all duration-300 ${xe==="top"?"bg-blue-600/10 text-blue-500":"text-zinc-600"}`,children:"Top"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-[11px]",children:[s.jsx("thead",{className:"text-zinc-600 uppercase font-black tracking-[0.15em] border-b border-white/5 bg-black/10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-3.5",children:"Name / Bet EGP"}),s.jsx("th",{className:"px-5 py-3.5 text-center",children:"Multiplier"}),s.jsx("th",{className:"px-5 py-3.5 text-right",children:"Win EGP"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:Q.length>0?Q.map((C,K)=>s.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[s.jsxs("td",{className:"px-5 py-4 flex items-center gap-3",children:[s.jsx("div",{className:"w-7 h-7 rounded-full border border-white/10 overflow-hidden bg-zinc-800 shadow-inner shrink-0",children:s.jsx("img",{src:C.avatar,className:"w-full h-full object-cover",alt:""})}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("span",{className:`font-bold leading-none mb-1 truncate ${C.name==="You"?"text-blue-400":"text-white"}`,children:C.name}),s.jsx("span",{className:"text-zinc-500 font-black text-[9px]",children:C.amount.toFixed(2)})]})]}),s.jsx("td",{className:"px-5 py-4 text-center",children:s.jsx("span",{className:`font-black tabular-nums ${C.status==="win"?"text-emerald-500":"text-zinc-500"}`,children:C.multiplier})}),s.jsx("td",{className:"px-5 py-4 text-right",children:s.jsx("span",{className:`font-black tabular-nums ${C.status==="win"?"text-blue-500":"text-zinc-800"}`,children:C.win})})]},C.id+K)):s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-5 py-12 text-center text-zinc-600 uppercase font-black tracking-widest opacity-40",children:"No data recorded"})})})]})})]})]})]}),s.jsx("style",{children:`
        .custom-range-input::-webkit-slider-thumb {
          appearance: none;
          width: 28px;
          height: 28px;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        .cube-scene {
          width: 40px;
          height: 40px;
          perspective: 400px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .cube-wrapper {
          width: 24px;
          height: 24px;
          position: relative;
          transform-style: preserve-3d;
          animation: rotateCube 4s infinite linear;
        }
        .cube-face {
          position: absolute;
          width: 24px;
          height: 24px;
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 4px;
        }
        
        .cube-front  { transform: translateZ(15px); background: #ffffff; box-shadow: inset 0 0 10px rgba(0,0,0,0.1); }
        .cube-back   { transform: rotateY(180deg) translateZ(15px); background: #888888; }
        .cube-right  { transform: rotateY(90deg) translateZ(15px); background: #666666; }
        .cube-left   { transform: rotateY(-90deg) translateZ(15px); background: #666666; }
        .cube-top    { transform: rotateX(90deg) translateZ(15px); background: #888888; }
        .cube-bottom { transform: rotateX(-90deg) translateZ(15px); background: #444444; }

        @keyframes rotateCube {
          0%   { transform: rotateX(0deg) rotateY(0deg); }
          100% { transform: rotateX(360deg) rotateY(360deg); }
        }

        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] { -moz-appearance: textfield; }
      `})]})},oc=["Ahmed_Cairo","Ziad_77","Mido_Vip","Youssef_X","Mostafa_Bet","Kimo_99","Hassan_Gamer","Omar_Elite","Tarek_Win","Samy_Pro","Mahmoud_VIP","Amr_Alex","Sherif_Gold","Hany_Strike","Karim_X"],TE=({user:i,onBack:t,lang:a,onDepositClick:l,onAuthRequired:c})=>{const[u,f]=b.useState(1),[m,p]=b.useState("WAITING"),[x,v]=b.useState(0),[w,N]=b.useState(30),[k,M]=b.useState(5),[L,O]=b.useState({show:!1,message:"",type:"info"}),[D,W]=b.useState([]),[te,he]=b.useState("all"),[pe,Ne]=b.useState([]),[ie,P]=b.useState([]),[ue,xe]=b.useState([]),[se,je]=b.useState(null),we=b.useRef(null),Ce=b.useRef(null),X=b.useRef(1),S=b.useRef(null),$=b.useRef([]),H=b.useRef([]),V=b.useRef(!1),q=b.useRef(!1),_=b.useRef(!1),T=b.useRef("2.00"),z=b.useRef(!1),G=b.useRef(!1),ne=b.useRef(!1),A=b.useRef("2.00"),Q=b.useRef("WAITING"),_e=b.useRef(1),[ee,B]=b.useState(10),[C,K]=b.useState(!1),[Ee,ge]=b.useState(!1),[Te,Ge]=b.useState(!1),[Ue,fe]=b.useState(!1),[Ie,me]=b.useState(!1),[ae,Z]=b.useState("2.00"),[I,ce]=b.useState(10),[ke,Re]=b.useState(!1),[Ae,Oe]=b.useState(!1),[Ve,it]=b.useState(!1),[He,Nt]=b.useState(!1),[rt,Ye]=b.useState(!1),[kt,mt]=b.useState("2.00");b.useEffect(()=>{V.current=C,q.current=Ee,_.current=Ie,T.current=ae},[C,Ee,Ie,ae]),b.useEffect(()=>{z.current=ke,G.current=Ae,ne.current=rt,A.current=kt},[ke,Ae,rt,kt]),b.useEffect(()=>{Q.current=m},[m]),b.useEffect(()=>{const oe=[];for(let be=0;be<60;be++)oe.push({x:Math.random()*800,y:Math.random()*600,speed:.2+Math.random()*2.5,size:.1+Math.random()*1.8});H.current=oe},[]),b.useEffect(()=>{i&&(lt(ve(ye,`User/${i.uid}/balance`),dt=>v(dt.val()||0)),lt(ve(ye,"Luck/crash"),dt=>{dt.exists()&&N(Number(dt.val()))}));const oe=localStorage.getItem("zee_crash_history");if(oe)try{W(JSON.parse(oe))}catch{W([])}const be=localStorage.getItem("zee_crash_my_bets");if(be)try{xe(JSON.parse(be))}catch{xe([])}P(Nn(15))},[i]);const Nn=oe=>Array.from({length:oe},(be,dt)=>{const pt=1.1+Math.random()*15,jt=Math.floor(50+Math.random()*1e3);return{id:`hist-${Date.now()}-${dt}`,username:oc[Math.floor(Math.random()*oc.length)],betAmount:jt,multiplier:pt,payout:jt*pt,status:"cashed",timestamp:Date.now()-dt*6e4}}),nu=(oe,be,dt,pt,jt=1,ft=1)=>{const tt=Math.min(3,ft*.25)*(Math.random()-.5);oe.save(),oe.translate(be+tt,dt+tt),oe.rotate(pt),oe.scale(jt,jt),oe.shadowBlur=25+Math.min(20,ft*2),oe.shadowColor="#00f2ff";const Mt=20+Math.random()*15+ft*1.5,en=oe.createLinearGradient(-10,0,-10-Mt,0);en.addColorStop(0,"#ffffff"),en.addColorStop(.1,"#00f2ff"),en.addColorStop(.4,"rgba(0, 112, 243, 0.4)"),en.addColorStop(1,"transparent"),oe.fillStyle=en,oe.beginPath(),oe.moveTo(-10,-6),oe.quadraticCurveTo(-12-Mt/2,-10,-10-Mt,0),oe.quadraticCurveTo(-12-Mt/2,10,-10,6),oe.fill(),oe.fillStyle="#ffffff",oe.beginPath(),oe.moveTo(25,0),oe.bezierCurveTo(15,-12,-8,-14,-12,-12),oe.lineTo(-12,12),oe.bezierCurveTo(-8,14,15,12,25,0),oe.closePath(),oe.fill(),oe.strokeStyle="#00d4ff",oe.lineWidth=2,oe.stroke(),oe.save(),oe.shadowBlur=8,oe.shadowColor="#ff1e1e",oe.fillStyle="#ff1e1e",oe.beginPath(),oe.moveTo(25,0),oe.lineTo(12,-5),oe.lineTo(12,5),oe.closePath(),oe.fill(),oe.restore(),oe.fillStyle="#f0f0f0",oe.beginPath(),oe.moveTo(-4,-12),oe.lineTo(-16,-20),oe.lineTo(-12,-12),oe.fill(),oe.beginPath(),oe.moveTo(-4,12),oe.lineTo(-16,20),oe.lineTo(-12,12),oe.fill(),oe.fillStyle="#1e293b",oe.fillRect(-12,-6,4,12);const cs=oe.createRadialGradient(6,-2,1,6,-2,5);cs.addColorStop(0,"#ffffff"),cs.addColorStop(1,"#0070f3"),oe.fillStyle=cs,oe.beginPath(),oe.ellipse(6,-2,6,4,-.2,0,Math.PI*2),oe.fill(),oe.restore()},hr=b.useCallback(()=>{const oe=we.current;if(!oe)return;const be=oe.getContext("2d");if(!be)return;const dt=oe.width,pt=oe.height,jt=_e.current;be.clearRect(0,0,dt,pt),be.strokeStyle="rgba(255, 255, 255, 0.04)",be.lineWidth=1;const ft=Date.now()*.05%100;for(let tt=-100;tt<dt+100;tt+=100)be.beginPath(),be.moveTo(tt-ft,0),be.lineTo(tt-ft,pt),be.stroke();for(let tt=-100;tt<pt+100;tt+=100)be.beginPath(),be.moveTo(0,tt+ft),be.lineTo(dt,tt+ft),be.stroke();if(be.fillStyle="rgba(255, 255, 255, 0.6)",H.current.forEach(tt=>{if(be.beginPath(),be.arc(tt.x,tt.y,tt.size,0,Math.PI*2),be.fill(),Q.current==="PLAYING"){const Mt=Math.min(3.5,jt*.85);tt.x-=tt.speed*Mt*1.5,tt.y+=tt.speed*Mt*.8,tt.x<0&&(tt.x=dt),tt.y>pt&&(tt.y=0)}}),Q.current==="PLAYING"||Q.current==="CRASHED"){const Mt=dt-200,en=pt-200,cs=80,Et=[],mr=Math.max(1.8,jt);for(let Le=0;Le<=cs;Le++){const Xt=Le/cs,Fs=1+(jt-1)*Xt,ii=Math.min(1,(Fs-1)/(mr-1||1)),su=100+ii*Mt,au=pt-100-Math.pow(ii,2.2)*en;Et.push({x:su,y:au})}if(Et.length>1){be.save(),be.lineCap="round",be.lineJoin="round",be.beginPath(),be.shadowBlur=60,be.shadowColor="rgba(0, 212, 255, 1)",be.strokeStyle="rgba(0, 112, 243, 0.2)",be.lineWidth=35,be.moveTo(Et[0].x,Et[0].y);for(let Le=1;Le<Et.length;Le++)be.lineTo(Et[Le].x,Et[Le].y);be.stroke(),be.beginPath(),be.shadowBlur=25,be.shadowColor="rgba(0, 255, 255, 0.8)",be.strokeStyle="rgba(0, 212, 255, 0.3)",be.lineWidth=14,be.moveTo(Et[0].x,Et[0].y);for(let Le=1;Le<Et.length;Le++)be.lineTo(Et[Le].x,Et[Le].y);be.stroke(),be.beginPath(),be.shadowBlur=10,be.shadowColor="#ffffff",be.strokeStyle="rgba(255, 255, 255, 0.15)",be.lineWidth=4,be.moveTo(Et[0].x,Et[0].y);for(let Le=1;Le<Et.length;Le++)be.lineTo(Et[Le].x,Et[Le].y);be.stroke(),be.restore()}const un=Et[Et.length-1],pr=Et[Et.length-2]||Et[0],zn=Math.atan2(un.y-pr.y,un.x-pr.x);if(Q.current==="PLAYING")be.save(),be.shadowBlur=30,be.shadowColor="#00d4ff",be.fillStyle="#00d4ff",be.beginPath(),be.arc(un.x,un.y,8,0,Math.PI*2),be.fill(),be.restore(),nu(be,un.x,un.y,zn,1.45,jt),Math.random()>.3&&$.current.push({x:un.x,y:un.y,size:.5+Math.random()*3,alpha:.8,vx:(Math.random()-.5)*3-Math.cos(zn)*5,vy:(Math.random()-.5)*3-Math.sin(zn)*5,color:Math.random()>.6?"#00f2ff":"#ffffff"});else if(Q.current==="CRASHED"){if(be.save(),be.fillStyle="#ef4444",be.shadowBlur=80,be.shadowColor="#ef4444",be.beginPath(),be.arc(un.x,un.y,22,0,Math.PI*2),be.fill(),$.current.length<40)for(let Le=0;Le<12;Le++)$.current.push({x:un.x,y:un.y,size:2+Math.random()*5,alpha:1,vx:(Math.random()-.5)*12,vy:(Math.random()-.5)*12,color:"#ff4d4d"});be.restore()}$.current.forEach((Le,Xt)=>{Le.x+=Le.vx,Le.y+=Le.vy,Le.alpha-=.022,Le.alpha<=0?$.current.splice(Xt,1):(be.save(),be.fillStyle=Le.color,be.globalAlpha=Le.alpha,be.shadowBlur=10*Le.alpha,be.shadowColor=Le.color,be.beginPath(),be.arc(Le.x,Le.y,Le.size,0,Math.PI*2),be.fill(),be.restore())})}S.current=requestAnimationFrame(hr)},[]);b.useEffect(()=>(S.current=requestAnimationFrame(hr),()=>{S.current&&cancelAnimationFrame(S.current)}),[hr]),b.useEffect(()=>{if(m==="WAITING"){ge(!1),K(!1),Oe(!1),Re(!1),q.current=!1,G.current=!1,V.current=!1,z.current=!1,f(1),_e.current=1,je(null),$.current=[];const oe=Array.from({length:8+Math.floor(Math.random()*8)},(dt,pt)=>({id:`live-${Date.now()}-${pt}`,username:oc[Math.floor(Math.random()*oc.length)],betAmount:Math.floor(10+Math.random()*500),multiplier:null,payout:null,status:"playing",timestamp:Date.now()}));Ne(oe);const be=setInterval(()=>{M(dt=>dt<=1?(clearInterval(be),ai(),0):dt-1)},1e3);return(Te||Ue)&&(Ge(!1),setTimeout(()=>{Q.current==="WAITING"&&In(1)},500)),(Ve||He)&&(it(!1),setTimeout(()=>{Q.current==="WAITING"&&In(2)},1e3)),()=>clearInterval(be)}},[m,Ue,He,Te,Ve]);const ai=()=>{const oe=Math.random()*100<w;X.current=oe?2.5+Math.random()*15:1.01+Math.random()*1.8,p("PLAYING");const be=Date.now(),dt=.065;Ce.current=setInterval(()=>{const pt=(Date.now()-be)/1e3,jt=1*Math.pow(Math.E,dt*pt);if(Ne(ft=>ft.map(tt=>{if(tt.status==="playing"&&Math.random()>.99){const Mt=jt;return{...tt,status:"cashed",multiplier:Mt,payout:tt.betAmount*Mt}}return tt})),_.current&&V.current&&!q.current){const ft=parseFloat(T.current);!isNaN(ft)&&jt>=ft&&os(1,ft,!0)}if(ne.current&&z.current&&!G.current){const ft=parseFloat(A.current);!isNaN(ft)&&jt>=ft&&os(2,ft,!0)}if(jt>=X.current){clearInterval(Ce.current);const ft=X.current;f(ft),_e.current=ft,p("CRASHED"),Ne(Mt=>Mt.map(en=>en.status==="playing"?{...en,status:"crashed",multiplier:ft}:en));const tt={id:Date.now().toString(),value:parseFloat(ft.toFixed(2))};W(Mt=>{const en=[tt,...Mt].slice(0,20);return localStorage.setItem("zee_crash_history",JSON.stringify(en)),en}),K(!1),Re(!1),setTimeout(()=>{M(5),p("WAITING")},3e3)}else f(jt),_e.current=jt},40)},os=async(oe,be,dt=!1)=>{if(Q.current!=="PLAYING")return;const pt=oe===1?ee:I,jt=pt*be,ft={id:`personal-${Date.now()}`,username:"You",betAmount:pt,multiplier:be,payout:jt,status:"cashed",timestamp:Date.now()};if(xe(tt=>{const Mt=[ft,...tt].slice(0,30);return localStorage.setItem("zee_crash_my_bets",JSON.stringify(Mt)),Mt}),oe===1){if(q.current||!V.current)return;ge(!0),K(!1),q.current=!0,V.current=!1,await ka(jt,be,dt)}else{if(G.current||!z.current)return;Oe(!0),Re(!1),G.current=!0,z.current=!1,await ka(jt,be,dt)}},ka=async(oe,be,dt)=>{if(i){const jt=(await zt(ve(ye,`User/${i.uid}/balance`))).val()||0;await Xe(ve(ye,`User/${i.uid}`),{balance:jt+oe})}je({show:!0,amount:oe,mult:be}),setTimeout(()=>je(pt=>(pt==null?void 0:pt.amount)===oe?null:pt),3e3),O({show:!0,message:`${dt?"Auto ":""}Win! +${oe.toFixed(2)} E`,type:"success"})},In=async oe=>{if(!i){c==null||c();return}if(oe===1&&V.current||oe===2&&z.current)return;if(Q.current!=="WAITING"){if(oe===1){if(Te){Ge(!1);return}Ge(!0)}else{if(Ve){it(!1);return}it(!0)}return}const be=oe===1?ee:I;if(!(be<1)){if(i){const pt=(await zt(ve(ye,`User/${i.uid}/balance`))).val()||0;if(pt<be){O({show:!0,message:"Insufficient Balance",type:"error"}),oe===1?(fe(!1),Ge(!1)):(Nt(!1),it(!1));return}await Xe(ve(ye,`User/${i.uid}`),{balance:pt-be})}oe===1?(K(!0),V.current=!0):(Re(!0),z.current=!0)}};return s.jsxs("div",{className:"min-h-screen bg-[#07080a] text-white flex flex-col font-['Cairo'] select-none overflow-y-auto pb-32",dir:"ltr",children:[s.jsx(Yt,{isVisible:L.show,message:L.message,type:L.type,onClose:()=>O({...L,show:!1})}),s.jsxs("header",{className:"sticky top-0 z-50 px-4 py-3 bg-[#0d0f11]/80 backdrop-blur-2xl border-b border-white/5 flex items-center justify-between shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:t,className:"w-10 h-10 bg-zinc-900/80 rounded-2xl flex items-center justify-center border border-white/10 active:scale-90 transition-all shadow-lg",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400 text-xs"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_#10b981]"}),s.jsx("span",{className:"text-[8px] font-black text-zinc-600 uppercase tracking-widest leading-none",children:"Secure Node"})]}),s.jsx("h1",{className:"text-lg font-black tracking-tight text-white uppercase leading-none mt-0.5",children:"Crash AI"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:i&&s.jsxs("div",{className:"bg-zinc-900/60 pl-4 pr-1 py-1 rounded-2xl border border-white/10 shadow-inner flex items-center group cursor-default",children:[s.jsxs("div",{className:"flex flex-col items-start mr-3",children:[s.jsx("span",{className:"text-[6px] font-black text-zinc-600 uppercase tracking-[0.2em] leading-none mb-0.5",children:"Encrypted Bal"}),s.jsxs("span",{className:"text-white font-black text-[13px] leading-none tracking-tight",children:["$",x.toFixed(2)]})]}),s.jsx("button",{onClick:l,className:"w-8 h-8 bg-[#FFFF00] rounded-xl flex items-center justify-center text-black shadow-lg active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-plus text-[10px]"})})]})})]}),s.jsxs("main",{className:"flex-1 max-w-md mx-auto w-full px-4 pt-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar py-2 bg-black px-3 rounded-[10px] border border-white/5 shadow-inner",children:[s.jsx("i",{className:"fas fa-history text-zinc-700 text-[10px] shrink-0"}),D.length>0?D.map(oe=>s.jsxs("div",{className:`shrink-0 text-[9px] font-black font-['Cairo'] tabular-nums tracking-tighter px-2 py-0.5 text-white border rounded-[5px] bg-black animate-in fade-in zoom-in duration-300 ${oe.value>=2?"border-emerald-500/50":"border-rose-500/50"}`,children:["x",oe.value.toFixed(2)]},oe.id)):s.jsx("span",{className:"text-[9px] text-zinc-800 uppercase font-black tracking-widest",children:"No rounds yet"})]}),s.jsxs("div",{className:"relative bg-[#050505] rounded-[3rem] h-80 border border-white/10 overflow-hidden shadow-2xl group",children:[s.jsx("canvas",{ref:we,width:800,height:600,className:"w-full h-full opacity-100"}),(se==null?void 0:se.show)&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-[60] bg-black/20 backdrop-blur-[2px] animate-in fade-in duration-300",children:s.jsxs("div",{className:"bg-zinc-900/90 border border-[#FFFF00]/30 rounded-[2rem] p-6 flex flex-col items-center shadow-[0_20px_50px_rgba(0,0,0,0.8)] animate-in zoom-in duration-500 scale-110",children:[s.jsx("div",{className:"w-12 h-12 bg-[#FFFF00] rounded-full flex items-center justify-center mb-3 shadow-[0_0_20px_rgba(255,255,0,0.4)]",children:s.jsx("i",{className:"fas fa-trophy text-black text-xl animate-bounce"})}),s.jsx("h3",{className:"text-[#FFFF00] font-black uppercase text-xs tracking-[0.2em] mb-1",children:"Cashed Out"}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("span",{className:"text-white text-3xl font-black tracking-tighter leading-none",children:[se.amount.toFixed(2)," E"]}),s.jsxs("span",{className:"text-zinc-500 text-[10px] font-black uppercase mt-1",children:["At x",se.mult.toFixed(2)]})]})]})}),s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:m==="WAITING"?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 w-32 h-32 -m-4 border-2 border-white/5 rounded-full animate-ping-slow"}),s.jsx("div",{className:"relative w-24 h-24 bg-zinc-900/40 rounded-full border border-white/10 backdrop-blur-md flex items-center justify-center shadow-2xl animate-countdown-beat",children:s.jsx("span",{className:"text-6xl font-black text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.4)]",children:k})})]}),s.jsxs("span",{className:"text-[9px] font-bold text-zinc-500 uppercase tracking-[0.4em] mt-8 flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-1 bg-red-600 rounded-full animate-pulse"}),"Connecting Protocol..."]})]}):s.jsxs("div",{className:`absolute bottom-8 right-10 flex flex-col items-end transition-all duration-300 ${m==="CRASHED"?"scale-110":""}`,children:[s.jsxs("span",{className:`text-4xl font-black font-['Cairo'] tabular-nums tracking-tighter drop-shadow-[0_10px_30px_rgba(0,0,0,0.5)] ${m==="CRASHED"?"text-rose-600":"text-white"}`,children:["x",u.toFixed(2)]}),m==="CRASHED"&&s.jsx("span",{className:"text-rose-600 font-black uppercase text-[10px] tracking-widest mt-1",children:"CRASHED!"})]})}),s.jsx("div",{className:"absolute bottom-6 left-6 text-[8px] font-black text-zinc-800 uppercase tracking-widest pointer-events-none",children:"ZEE AI SECURE GRAPH"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-[#181a1d] rounded-[2.5rem] p-5 border border-white/5 space-y-4 shadow-xl",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>fe(!Ue),className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded bg-zinc-800 border border-white/10 flex items-center justify-center transition-colors ${Ue?"bg-indigo-500/20 border-indigo-500/50":""}`,children:Ue&&s.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-sm shadow-[0_0_8px_#6366f1]"})}),s.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-tighter",children:"Auto Bet"})]}),s.jsxs("button",{onClick:()=>me(!Ie),className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded bg-zinc-800 border border-white/10 flex items-center justify-center transition-colors ${Ie?"bg-emerald-500/20 border-emerald-500/50":""}`,children:Ie&&s.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-sm shadow-[0_0_8px_#10b981]"})}),s.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-tighter",children:"Auto Withdraw"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"bg-zinc-950/80 rounded-2xl p-1 border border-white/5 flex items-center shadow-inner overflow-hidden h-14 min-w-[145px]",children:[s.jsx("button",{onClick:()=>B(Math.max(1,ee-10)),className:"w-11 h-11 flex items-center justify-center text-zinc-600 active:scale-90 transition-all hover:text-white shrink-0",children:s.jsx("i",{className:"fas fa-minus text-xs"})}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center overflow-hidden px-1",children:[s.jsx("span",{className:"text-[6px] text-zinc-700 font-black uppercase tracking-widest leading-none mb-1",children:"STAKE"}),s.jsxs("span",{className:"text-white font-black text-xs truncate",children:[ee.toFixed(1)," E"]})]}),s.jsx("button",{onClick:()=>B(ee+10),className:"w-11 h-11 flex items-center justify-center text-zinc-600 active:scale-90 transition-all hover:text-white shrink-0",children:s.jsx("i",{className:"fas fa-plus text-xs"})})]}),Ie&&s.jsxs("div",{className:"bg-zinc-900/50 border border-emerald-500/20 rounded-xl px-4 py-1.5 flex items-center justify-between animate-in fade-in slide-in-from-top-1",children:[s.jsx("span",{className:"text-[8px] font-black text-zinc-600 uppercase",children:"Withdraw at"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"text",value:ae,onChange:oe=>Z(oe.target.value),className:"bg-transparent text-white w-12 text-center text-[11px] font-black outline-none border-b border-white/5",placeholder:"1.01"}),s.jsx("span",{className:"text-zinc-600 font-black text-[10px]",children:"x"})]})]})]}),m==="PLAYING"&&C&&!Ee?s.jsxs("button",{onClick:()=>os(1,u),className:"w-32 bg-emerald-500 rounded-xl flex flex-col items-center justify-center shadow-lg active:scale-95 transition-all group shrink-0 h-14",children:[s.jsx("span",{className:"text-white font-black uppercase text-sm tracking-tight leading-none",children:"Cash Out"}),s.jsxs("span",{className:"text-white font-black text-[10px] mt-1",children:[(ee*u).toFixed(2)," E"]})]}):s.jsx("button",{onClick:()=>In(1),className:`w-32 rounded-xl flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all shrink-0 h-14 ${C||Te?"bg-zinc-800 text-zinc-400":"bg-[#0070f3] text-white hover:brightness-110"}`,children:s.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:C?"Placed":Te?"CANCEL":m==="WAITING"?"Bet":"Next Round"})})]})]}),s.jsxs("div",{className:"bg-[#181a1d] rounded-[2.5rem] p-5 border border-white/5 space-y-4 shadow-xl",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>Nt(!He),className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded bg-zinc-800 border border-white/10 flex items-center justify-center transition-colors ${He?"bg-indigo-500/20 border-indigo-500/50":""}`,children:He&&s.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-sm shadow-[0_0_8px_#6366f1]"})}),s.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-tighter",children:"Auto Bet"})]}),s.jsxs("button",{onClick:()=>Ye(!rt),className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded bg-zinc-800 border border-white/10 flex items-center justify-center transition-colors ${rt?"bg-emerald-500/20 border-emerald-500/50":""}`,children:rt&&s.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-sm shadow-[0_0_8px_#10b981]"})}),s.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-tighter",children:"Auto Withdraw"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"bg-zinc-950/80 rounded-2xl p-1 border border-white/5 flex items-center shadow-inner overflow-hidden h-14 min-w-[145px]",children:[s.jsx("button",{onClick:()=>ce(Math.max(1,I-10)),className:"w-11 h-11 flex items-center justify-center text-zinc-600 active:scale-90 transition-all hover:text-white shrink-0",children:s.jsx("i",{className:"fas fa-minus text-xs"})}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center overflow-hidden px-1",children:[s.jsx("span",{className:"text-[6px] text-zinc-700 font-black uppercase tracking-widest leading-none mb-1",children:"STAKE"}),s.jsxs("span",{className:"text-white font-black text-xs truncate",children:[I.toFixed(1)," E"]})]}),s.jsx("button",{onClick:()=>ce(I+10),className:"w-11 h-11 flex items-center justify-center text-zinc-600 active:scale-90 transition-all hover:text-white shrink-0",children:s.jsx("i",{className:"fas fa-plus text-xs"})})]}),rt&&s.jsxs("div",{className:"bg-zinc-900/50 border border-emerald-500/20 rounded-xl px-4 py-1.5 flex items-center justify-between animate-in fade-in slide-in-from-top-1",children:[s.jsx("span",{className:"text-[8px] font-black text-zinc-600 uppercase",children:"Withdraw at"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"text",value:kt,onChange:oe=>mt(oe.target.value),className:"bg-transparent text-white w-12 text-center text-[11px] font-black outline-none border-b border-white/5",placeholder:"1.01"}),s.jsx("span",{className:"text-zinc-600 font-black text-[10px]",children:"x"})]})]})]}),m==="PLAYING"&&ke&&!Ae?s.jsxs("button",{onClick:()=>os(2,u),className:"w-32 bg-emerald-500 rounded-xl flex flex-col items-center justify-center shadow-lg active:scale-95 transition-all group shrink-0 h-14",children:[s.jsx("span",{className:"text-white font-black uppercase text-sm tracking-tight leading-none",children:"Cash Out"}),s.jsxs("span",{className:"text-white font-black text-[10px] mt-1",children:[(I*u).toFixed(2)," E"]})]}):s.jsx("button",{onClick:()=>In(2),className:`w-32 rounded-xl flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all shrink-0 h-14 ${ke||Ve?"bg-zinc-800 text-zinc-400":"bg-[#0070f3] text-white hover:brightness-110"}`,children:s.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:ke?"Placed":Ve?"CANCEL":m==="WAITING"?"Bet":"Next Round"})})]})]})]}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsx("div",{className:"flex items-center justify-around bg-zinc-900/50 p-1 rounded-2xl border border-white/5",children:["All Bets","Top Wins","My bets"].map(oe=>s.jsx("button",{onClick:()=>he(oe.toLowerCase().split(" ")[0]),className:`flex-1 py-2 text-[10px] font-black uppercase rounded-xl transition-all ${te===oe.toLowerCase().split(" ")[0]?"bg-zinc-800 text-white shadow-lg":"text-zinc-600"}`,children:oe},oe))}),s.jsx("div",{className:"bg-[#181a1d] rounded-[2rem] border border-white/5 overflow-hidden shadow-xl min-h-[300px]",children:s.jsxs("table",{className:"w-full text-left text-[10px] font-bold",children:[s.jsx("thead",{className:"bg-black/20 text-zinc-600 uppercase tracking-widest border-b border-white/5",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3",children:"Player"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Mult"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Amount"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:(te==="all"?pe:te==="top"?ie:ue).map(oe=>s.jsxs("tr",{className:`transition-colors group ${oe.username==="You"?"bg-indigo-500/5":"hover:bg-white/5"}`,children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${oe.status==="cashed"?"bg-emerald-500 shadow-[0_0_5px_#10b981]":oe.status==="crashed"?"bg-rose-500":"bg-zinc-700 animate-pulse"}`}),s.jsx("span",{className:oe.username==="You"?"text-indigo-400 font-black":oe.status==="cashed"?"text-zinc-200":"text-zinc-400",children:oe.username})]})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:oe.status==="cashed"?"text-emerald-500 font-black":"text-zinc-600",children:oe.multiplier?`x${oe.multiplier.toFixed(2)}`:m==="PLAYING"?"-":"L"})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsxs("span",{className:"text-white font-black",children:["E",oe.betAmount.toFixed(1)]}),oe.payout&&s.jsxs("span",{className:"text-[8px] text-emerald-500/60",children:["+E",oe.payout.toFixed(1)]})]})})]},oe.id))})]})})]})]}),s.jsx("style",{children:`
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
        
        @keyframes countdown-beat {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.1); box-shadow: 0 0 30px rgba(255,255,255,0.2); }
        }
        .animate-countdown-beat {
          animation: countdown-beat 1s ease-in-out infinite;
        }
        
        @keyframes ping-slow {
          0% { transform: scale(0.8); opacity: 0.8; }
          100% { transform: scale(1.6); opacity: 0; }
        }
        .animate-ping-slow {
          animation: ping-slow 2s cubic-bezier(0, 0, 0.2, 1) infinite;
        }
      `})]})},Fc=({opacity:i=1})=>s.jsxs("div",{className:"relative flex items-center justify-center w-full h-full scale-110",style:{opacity:i},children:[s.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 blur-lg rounded-full"}),s.jsx("div",{className:"absolute bottom-1 w-10 h-5 bg-cyan-400/20 blur-md rounded-full"}),s.jsxs("svg",{viewBox:"0 0 100 100",className:"w-12 h-12 drop-shadow-[0_0_15px_rgba(34,211,238,0.8)] z-10",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"gemGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"#67e8f9"}),s.jsx("stop",{offset:"50%",stopColor:"#22d3ee"}),s.jsx("stop",{offset:"100%",stopColor:"#0891b2"})]})}),s.jsx("path",{d:"M50 5 L85 35 L50 95 L15 35 Z",fill:"url(#gemGrad)"}),s.jsx("path",{d:"M50 5 L85 35 L50 45 L15 35 Z",fill:"rgba(255,255,255,0.4)"}),s.jsx("path",{d:"M50 45 L85 35 L50 95 Z",fill:"rgba(0,0,0,0.15)"}),s.jsx("circle",{cx:"40",cy:"25",r:"3",fill:"white",className:"opacity-50"})]})]}),db=({hit:i})=>s.jsxs("div",{className:"relative flex items-center justify-center w-full h-full scale-110",children:[i&&s.jsx("div",{className:"absolute inset-0 bg-red-600/40 blur-2xl rounded-full animate-ping"}),s.jsxs("svg",{viewBox:"0 0 100 100",className:`w-12 h-12 ${i?"drop-shadow-[0_0_25px_rgba(239,68,68,1)]":"opacity-40 grayscale"}`,children:[s.jsx("defs",{children:s.jsxs("radialGradient",{id:"bombBody",cx:"40%",cy:"40%",r:"60%",children:[s.jsx("stop",{offset:"0%",stopColor:i?"#ef4444":"#3f3f46"}),s.jsx("stop",{offset:"100%",stopColor:i?"#7f1d1d":"#18181b"})]})}),s.jsx("circle",{cx:"50",cy:"65",r:"32",fill:"url(#bombBody)",stroke:i?"#fecaca":"#52525b",strokeWidth:"1.5"}),s.jsx("path",{d:"M45 30 L55 30 L53 40 L47 40 Z",fill:"#27272a"}),s.jsx("path",{d:"M50 30 Q65 10 80 15",fill:"none",stroke:i?"#fbbf24":"#71717a",strokeWidth:"4",strokeLinecap:"round"}),i&&s.jsxs("g",{children:[s.jsx("circle",{cx:"80",cy:"15",r:"8",fill:"#f59e0b"}),s.jsx("path",{d:"M80 5 L80 25 M70 15 L90 15",stroke:"#fff",strokeWidth:"2"})]})]})]}),AE=({amount:i,multiplier:t,onClose:a})=>s.jsxs("div",{className:"absolute inset-0 z-[100] flex items-center justify-center p-4 bg-[#0d0f11]/60 backdrop-blur-md animate-in fade-in duration-500 overflow-hidden rounded-[2.5rem]",children:[s.jsx("div",{className:"absolute inset-0",onClick:a}),s.jsx("div",{className:"absolute w-[350px] h-[350px] bg-[conic-gradient(from_0deg,transparent,rgba(34,211,238,0.25),transparent,rgba(255,204,0,0.15),transparent)] animate-spin-slow rounded-full opacity-50"}),s.jsx("div",{className:"absolute w-[250px] h-[250px] bg-cyan-500/15 blur-[60px] animate-pulse rounded-full"}),s.jsxs("div",{className:"relative w-full max-w-[240px] bg-gradient-to-b from-zinc-800 to-black rounded-[2rem] overflow-hidden shadow-[0_20px_80px_rgba(0,0,0,0.9),0_0_40px_rgba(34,211,238,0.15)] border border-white/10 p-0.5 animate-in zoom-in-bounce duration-500",children:[s.jsx("div",{className:"absolute top-[-50%] left-[-50%] w-[200%] h-[200%] bg-gradient-to-tr from-white/0 via-white/5 to-white/0 rotate-45 pointer-events-none"}),s.jsxs("div",{className:"relative bg-[#0d0f11]/85 backdrop-blur-3xl rounded-[1.9rem] p-5 flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-3 relative",children:[s.jsx("div",{className:"w-5 h-5 -rotate-12 animate-float",children:s.jsx(Fc,{})}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("h2",{className:"text-white text-xl font-black tracking-tighter uppercase leading-none drop-shadow-[0_0_10px_#fff]",children:"BIG WIN"}),s.jsx("span",{className:"text-cyan-400 text-[7px] font-black uppercase tracking-[0.3em] mt-1 drop-shadow-lg",children:"Verified"})]}),s.jsx("div",{className:"w-5 h-5 rotate-12 animate-float delay-150",children:s.jsx(Fc,{})})]}),s.jsxs("div",{className:"w-full bg-gradient-to-b from-white/[0.04] to-white/0 rounded-[1.5rem] py-4 flex flex-col items-center border border-white/5 shadow-inner mb-4 relative group",children:[s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-cyan-500 text-black px-2 py-0.5 rounded-full text-[6px] font-black uppercase tracking-widest shadow-[0_0_10px_rgba(34,211,238,0.4)]",children:"Protocol Success"}),s.jsxs("span",{className:"text-white text-3xl font-black tracking-tighter drop-shadow-[0_6px_12px_rgba(0,0,0,0.5)] animate-pulse-fast",children:["$",i.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})]})]}),s.jsxs("div",{className:"flex items-center justify-between w-full px-1 mb-4",children:[s.jsxs("div",{className:"flex flex-col text-left",children:[s.jsx("span",{className:"text-zinc-500 text-[6px] font-black uppercase tracking-widest leading-none mb-1",children:"Total Payout"}),s.jsxs("span",{className:"text-white font-black text-base leading-none",children:["x",t.toFixed(2)]})]}),s.jsx("div",{className:"w-8 h-8 bg-zinc-900 rounded-lg flex items-center justify-center border border-white/5 shadow-lg rotate-3 group-hover:rotate-0 transition-transform",children:s.jsx("i",{className:"fas fa-bolt text-cyan-400 text-sm animate-pulse"})})]}),s.jsx("div",{className:"w-full h-1 bg-zinc-900/50 rounded-full overflow-hidden border border-white/5 shadow-inner",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-600 via-cyan-400 to-cyan-600 shadow-[0_0_8px_#22d3ee] animate-modal-progress-long"})}),s.jsx("p",{className:"text-zinc-700 text-[5px] font-black uppercase tracking-widest mt-1.5",children:"Auto-Close active"})]})]})]}),RE=({username:i,onClose:t,volume:a,onVolumeChange:l})=>{const[c,u]=b.useState("main");return s.jsx("div",{className:"absolute right-0 top-full mt-2 z-[200] w-[280px] animate-in fade-in slide-in-from-top-2 duration-300 origin-top-right",children:s.jsxs("div",{className:"bg-[#1a1c1e] rounded-[2rem] border border-white/10 p-6 shadow-[0_20px_60px_rgba(0,0,0,0.8)] backdrop-blur-2xl overflow-hidden",children:[c==="main"&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-white font-black uppercase text-sm italic tracking-tighter",children:"Settings"}),s.jsx("div",{className:"w-2 h-2 bg-[#FFFF00] rounded-full animate-pulse shadow-[0_0_8px_#FFFF00]"})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"bg-[#121417] rounded-xl p-3 border border-white/5 shadow-inner",children:[s.jsx("label",{className:"text-[7px] font-black text-zinc-600 uppercase tracking-[0.2em] block mb-0.5",children:"Active Nickname"}),s.jsx("div",{className:"text-white font-black text-xs tracking-tight truncate",children:i||"User"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>u("limits"),className:"w-full bg-[#2a2f35] rounded-xl py-3 px-4 flex items-center justify-between text-white font-black text-[10px] border border-white/5 active:scale-95 transition-all shadow-lg group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("i",{className:"fas fa-bullseye text-[10px] text-zinc-400 group-hover:text-emerald-400 transition-colors"}),s.jsx("span",{className:"tracking-tighter uppercase",children:"Limits"})]}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]}),s.jsxs("button",{onClick:()=>u("rules"),className:"w-full bg-[#2a2f35] rounded-xl py-3 px-4 flex items-center justify-between text-white font-black text-[10px] border border-white/5 active:scale-95 transition-all shadow-lg group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("i",{className:"fas fa-file-alt text-[10px] text-zinc-400 group-hover:text-emerald-400 transition-colors"}),s.jsx("span",{className:"tracking-tighter uppercase",children:"Rules"})]}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 px-1 pt-1",children:[s.jsx("i",{className:`fas ${a===0?"fa-volume-mute":"fa-volume-up"} text-zinc-600 text-xs w-4`}),s.jsx("div",{className:"flex-1 relative flex items-center group/slider",children:s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:a,onChange:f=>l(parseFloat(f.target.value)),className:"w-full h-1.5 bg-zinc-900 rounded-full appearance-none cursor-pointer accent-emerald-500 hover:accent-emerald-400 transition-all",style:{background:`linear-gradient(to right, #10b981 0%, #10b981 ${a*100}%, #18181b ${a*100}%, #18181b 100%)`}})}),s.jsxs("span",{className:"text-[8px] font-black text-zinc-500 tracking-tighter w-6 text-right",children:[Math.round(a*100),"%"]})]})]})]}),c==="limits"&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-left-4 duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("button",{onClick:()=>u("main"),className:"w-7 h-7 bg-zinc-900 rounded-full flex items-center justify-center text-zinc-500 hover:text-white transition-colors",children:s.jsx("i",{className:"fas fa-chevron-left text-[10px]"})}),s.jsx("h3",{className:"text-white font-black uppercase text-sm italic tracking-tighter",children:"Bet Limits"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[s.jsx("span",{className:"text-zinc-500 text-[9px] font-black uppercase",children:"Min Bet"}),s.jsx("span",{className:"text-white font-black text-[11px]",children:"20.00 EGP"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[s.jsx("span",{className:"text-zinc-500 text-[9px] font-black uppercase",children:"Max Bet"}),s.jsx("span",{className:"text-white font-black text-[11px]",children:"2,000.00 EGP"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[s.jsx("span",{className:"text-zinc-500 text-[9px] font-black uppercase",children:"Max Win"}),s.jsx("span",{className:"text-emerald-500 font-black text-[11px]",children:"1M+ EGP"})]}),s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{className:"text-zinc-500 text-[9px] font-black uppercase",children:"Mines Range"}),s.jsx("span",{className:"text-white font-black text-[11px]",children:"1 - 24"})]})]})]}),c==="rules"&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-left-4 duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("button",{onClick:()=>u("main"),className:"w-7 h-7 bg-zinc-900 rounded-full flex items-center justify-center text-zinc-500 hover:text-white transition-colors",children:s.jsx("i",{className:"fas fa-chevron-left text-[10px]"})}),s.jsx("h3",{className:"text-white font-black uppercase text-sm italic tracking-tighter",children:"How to Play"})]}),s.jsx("div",{className:"space-y-4 max-h-[220px] overflow-y-auto no-scrollbar pr-1",children:[{icon:"fa-coins",text:"Select bet amount (min 20) and hidden mines."},{icon:"fa-hand-pointer",text:"Reveal Gems to increase multiplier."},{icon:"fa-money-bill-wave",text:"Cash Out any time after one Gem."},{icon:"fa-bomb",text:"Hit a Mine = Instantly lose bet.",color:"text-rose-500"}].map((f,m)=>s.jsxs("div",{className:"flex gap-3 items-start",children:[s.jsx("div",{className:"w-6 h-6 rounded-lg bg-zinc-900 flex items-center justify-center border border-white/5 shrink-0",children:s.jsx("i",{className:`fas ${f.icon} ${f.color||"text-cyan-400"} text-[8px]`})}),s.jsx("p",{className:"text-zinc-400 text-[10px] font-bold leading-tight",children:f.text})]},m))})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-white/5 text-center",children:s.jsx("p",{className:"text-[6px] font-black text-zinc-800 uppercase tracking-[0.4em]",children:"ZEE CORE SECURE UI"})})]})})},IE=({user:i,onBack:t,lang:a,onDepositClick:l,onAuthRequired:c})=>{const[u,f]=b.useState(20),[m,p]=b.useState(3),[x,v]=b.useState(Array(25).fill("hidden")),[w,N]=b.useState([]),[k,M]=b.useState("IDLE"),[L,O]=b.useState(0),[D,W]=b.useState(0),[te,he]=b.useState(null),[pe,Ne]=b.useState("top"),[ie,P]=b.useState({show:!1,message:"",type:"info"}),[ue,xe]=b.useState([]),[se,je]=b.useState("manual"),[we,Ce]=b.useState([]),[X,S]=b.useState(null),[$,H]=b.useState(!1),[V,q]=b.useState(.85),[_,T]=b.useState([]),z=b.useRef(null),G=b.useRef(null),ne=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3")),A=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3")),Q=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/212/212-preview.mp3")),_e=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3")),ee=25;b.useEffect(()=>{[ne,A,Q,_e].forEach(Z=>{Z.current&&(Z.current.volume=V)})},[V]),b.useEffect(()=>{const ae=Z=>{z.current&&!z.current.contains(Z.target)&&H(!1)};return $&&document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[$]);const B=ae=>{ae.current&&(ae.current.currentTime=0,ae.current.play().catch(()=>{}))},C=b.useCallback((ae,Z)=>{if(ae===0)return 1;if(Z===3){const Re=[1.08,1.23,1.42,1.64,1.92,2.25,2.68,3.21,3.9,4.8,6,7.64,9.93,13.24,18.21,26.01,39.02,62.43,109.25,218.5,546.25,2185];return Re[ae-1]||Re[Re.length-1]}let I=1;for(let Re=0;Re<ae;Re++)I*=(ee-Z-Re)/(ee-Re);let ce=.96;Z>10&&(ce-=(Z-10)*.005),Z>15&&(ce-=(Z-15)*.015),ce=Math.max(.75,ce);let ke=1/I*ce;return Math.max(1.01,Number(Math.min(1e4,ke).toFixed(2)))},[]),K=b.useMemo(()=>C(se==="auto"?we.length:L,m),[L,m,C,se,we]),Ee=b.useMemo(()=>{const ae=[],Z=ee-m;for(let I=1;I<=Math.min(22,Z);I++)ae.push(C(I,m));return ae},[m,C]),ge=(ae,Z)=>{const I=ae?u*Z:0,ce={id:Math.random().toString(36).substring(2,9),game:"Mines",icon:"fa-bomb",multiplier:ae?`${Z.toFixed(2)}x`:"0.00x",payout:`$${I.toFixed(1)}`,type:"my",timestamp:Date.now()};xe(ke=>[ce,...ke])},Te=b.useCallback((ae=!1)=>{const Z=[{name:"Hamsta",icon:"fa-atom"},{name:"Mines",icon:"fa-bomb"},{name:"Dice Twice",icon:"fa-dice"}],I=Z[Math.floor(Math.random()*Z.length)],ce=Math.random()>.4,ke=ae?10+Math.random()*20:ce?1.1+Math.random()*5:0;return{id:Math.random().toString(36).substring(2,9),game:I.name,icon:I.icon,multiplier:`${ke.toFixed(2)}x`,payout:ke>0?`$${(u*ke).toFixed(1)}`:"$0.0",type:ae||ke>10?"top":"all",timestamp:Date.now()}},[u]);b.useEffect(()=>(i&&lt(ve(ye,`User/${i.uid}`),ae=>{const Z=ae.val();W((Z==null?void 0:Z.balance)||0),he(Z)}),xe(Array.from({length:15},(ae,Z)=>Te(Z<5))),G.current=setInterval(()=>{xe(ae=>[Te(Math.random()>.9),...ae].slice(0,50))},6e3),()=>clearInterval(G.current)),[i,Te]);const Ge=()=>{v(Array(ee).fill("hidden")),O(0),M("IDLE")},Ue=async()=>{if(B(ne),!i){c==null||c();return}if(u<20){P({show:!0,message:"Min bet is 20 EGP",type:"error"});return}if(D<u){P({show:!0,message:"Insufficient Balance",type:"error"});return}if(se==="auto"&&we.length===0){P({show:!0,message:"Select at least one tile",type:"info"});return}await Xe(ve(ye,`User/${i==null?void 0:i.uid}`),{balance:D-u});const ae=[];for(;ae.length<m;){const Z=Math.floor(Math.random()*ee);ae.includes(Z)||ae.push(Z)}if(N(ae),se==="manual")v(Array(ee).fill("hidden")),O(0),M("PLAYING");else{M("PLAYING");let Z=!1,I=-1;for(const ce of we)if(ae.includes(ce)){Z=!0,I=ce;break}if(Z)B(Q),v(x.map((ce,ke)=>ae.includes(ke)?ke===I?"mine-hit":"mine":"gem")),M("GAMEOVER"),ge(!1,0),setTimeout(Ge,3e3);else{B(_e);const ce=C(we.length,m),ke=u*ce,Re=Array(ee).fill("hidden");we.forEach(Ae=>Re[Ae]="gem"),v(Re),await Xe(ve(ye,`User/${i==null?void 0:i.uid}`),{balance:D+ke}),M("CASHED_OUT"),ge(!0,ce),S({amount:ke,multiplier:ce}),setTimeout(()=>{S(null),Ge()},3500)}}},fe=(ae,Z)=>{if(se==="auto"&&k==="IDLE"){Ce(Ae=>Ae.includes(Z)?Ae.filter(Oe=>Oe!==Z):[...Ae,Z]),B(ne);return}if(k!=="PLAYING"||x[Z]!=="hidden")return;const I=ae.currentTarget.getBoundingClientRect(),ce=ae.clientX-I.left,ke=ae.clientY-I.top,Re=Date.now();if(T(Ae=>[...Ae,{id:Re,x:ce,y:ke,tileIdx:Z}]),setTimeout(()=>{T(Ae=>Ae.filter(Oe=>Oe.id!==Re))},600),w.includes(Z))B(Q),v(x.map((Ae,Oe)=>w.includes(Oe)?Oe===Z?"mine-hit":"mine":"gem")),M("GAMEOVER"),ge(!1,0),setTimeout(Ge,3e3);else{B(A);const Ae=[...x];Ae[Z]="gem",v(Ae),O(Oe=>Oe+1)}},Ie=async()=>{B(_e);const ae=K,Z=u*ae;await Xe(ve(ye,`User/${i==null?void 0:i.uid}`),{balance:D+Z}),M("CASHED_OUT"),v(x.map((I,ce)=>I==="gem"?"gem":w.includes(ce)?"mine":"gem")),ge(!0,ae),S({amount:Z,multiplier:ae}),setTimeout(()=>{S(null),Ge()},3500)},me=b.useMemo(()=>(m/(ee-L)*100).toFixed(0),[m,L]);return s.jsxs("div",{className:"min-h-screen bg-[#0d0f11] text-white flex flex-col font-['Cairo'] select-none overflow-y-auto pb-20",children:[s.jsx(Yt,{isVisible:ie.show,message:ie.message,type:ie.type,onClose:()=>P({...ie,show:!1})}),s.jsxs("header",{className:"sticky top-0 z-50 px-4 py-3 bg-[#0d0f11]/80 backdrop-blur-2xl border-b border-white/5 flex items-center justify-between shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:t,className:"w-10 h-10 bg-zinc-900/80 rounded-2xl flex items-center justify-center border border-white/10 active:scale-90 transition-all hover:bg-zinc-800 shadow-lg",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400 text-xs"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_#10b981]"}),s.jsx("span",{className:"text-[8px] font-black text-zinc-600 uppercase tracking-widest leading-none",children:"Secure Node"})]}),s.jsx("h1",{className:"text-lg font-black tracking-tight text-white uppercase leading-none mt-0.5",children:"Mines AI"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"bg-zinc-900/60 pl-4 pr-1 py-1 rounded-2xl border border-white/10 shadow-inner flex items-center group cursor-default",children:[s.jsxs("div",{className:"flex flex-col items-start mr-3",children:[s.jsx("span",{className:"text-[6px] font-black text-zinc-600 uppercase tracking-[0.2em] leading-none mb-0.5",children:"Encrypted Bal"}),s.jsxs("span",{className:"text-white font-black text-[13px] leading-none tracking-tight",children:["$",D.toFixed(2)]})]}),s.jsx("button",{onClick:l,className:"w-8 h-8 bg-[#FFFF00] rounded-xl flex items-center justify-center text-black shadow-lg active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-plus text-[10px]"})})]}),s.jsxs("div",{className:"relative",ref:z,children:[s.jsx("button",{onClick:()=>H(!$),className:`w-10 h-10 bg-zinc-900/40 rounded-xl flex items-center justify-center text-zinc-500 hover:text-white transition-all border border-white/5 active:scale-90 ${$?"bg-zinc-800 text-white border-[#FFFF00]/30":""}`,children:s.jsx("i",{className:`fas fa-cog text-xs transition-transform duration-500 ${$?"rotate-90 text-[#FFFF00]":""}`})}),$&&s.jsx(RE,{username:te==null?void 0:te.username,volume:V,onVolumeChange:q,onClose:()=>H(!1)})]})]})]}),s.jsx("div",{className:"relative w-full h-[54px] bg-[#0d0f11] border-b border-white/5 overflow-hidden",children:s.jsx("div",{className:"flex items-center gap-2.5 px-4 py-3 transition-transform duration-500",style:{transform:`translateX(-${Math.max(0,(se==="auto"?we.length:L)-1)*66}px)`},children:Ee.map((ae,Z)=>{const I=se==="auto"?we.length:L;return s.jsxs("div",{className:`shrink-0 w-[56px] h-[28px] flex items-center justify-center rounded-lg border text-[9px] font-black transition-all duration-300 ${I>=Z+1?"bg-orange-500 border-orange-400 text-black shadow-[0_0_15px_rgba(249,115,22,0.6)] scale-110":I===Z?"border-orange-500/50 bg-zinc-900 text-orange-400":"border-white/5 bg-zinc-900/50 text-zinc-600 opacity-40"}`,children:["x",ae>=1e3?(ae/1e3).toFixed(2)+"k":ae.toFixed(2)]},Z)})})}),s.jsxs("div",{className:"flex-1 flex flex-col items-center px-4 pt-4 space-y-6 max-w-[480px] mx-auto w-full relative",children:[s.jsxs("div",{className:"w-full bg-[#1a1c1e] p-1 rounded-2xl flex border border-white/5 shadow-inner",children:[s.jsxs("button",{onClick:()=>{je("manual"),Ce([]),Ge()},className:`flex-1 py-3 text-xs font-black uppercase rounded-xl flex items-center justify-center gap-2 transition-all ${se==="manual"?"bg-[#2a2f35] text-white shadow-lg":"text-zinc-600"}`,children:["Manual ",s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${se==="manual"?"bg-emerald-500 shadow-[0_0_5px_#10b981]":"bg-zinc-800"}`})]}),s.jsxs("button",{onClick:()=>{je("auto"),Ge()},className:`flex-1 py-3 text-xs font-black uppercase rounded-xl flex items-center justify-center gap-2 transition-all ${se==="auto"?"bg-[#2a2f35] text-white shadow-lg":"text-zinc-600"}`,children:["Auto ",s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${se==="auto"?"bg-emerald-500 shadow-[0_0_5px_#10b981]":"bg-zinc-800"}`})]})]}),s.jsxs("div",{className:"w-full relative",children:[X&&s.jsx(AE,{amount:X.amount,multiplier:X.multiplier,onClose:()=>S(null)}),s.jsx("div",{className:"w-full grid grid-cols-5 gap-3",children:x.map((ae,Z)=>{const I=we.includes(Z);return s.jsxs("button",{onClick:ce=>fe(ce,Z),disabled:se==="manual"&&k!=="PLAYING"||k!=="PLAYING"&&k!=="IDLE"||k==="PLAYING"&&se==="manual"&&ae!=="hidden",className:`aspect-square rounded-2xl transition-all duration-200 relative flex items-center justify-center overflow-hidden ${ae==="hidden"?I?"bg-cyan-500/10 border-2 border-cyan-400 shadow-[0_0_15px_rgba(34,211,238,0.3)]":"bg-[#1a1c1e] border border-[#1a1c1e] hover:bg-[#252a2f] shadow-[0_4px_10px_rgba(0,0,0,0.3)]":"bg-[#0a0a0a] border border-[#0a0a0a] shadow-inner"}`,children:[_.filter(ce=>ce.tileIdx===Z).map(ce=>s.jsx("span",{className:"absolute rounded-full bg-white/40 pointer-events-none animate-ripple-water",style:{left:ce.x,top:ce.y,width:"20px",height:"20px",transform:"translate(-50%, -50%) scale(0)"}},ce.id)),ae==="gem"&&s.jsx("div",{className:"scale-100 animate-reveal-ultra-fast",children:s.jsx(Fc,{})}),ae==="mine"&&s.jsx("div",{className:"opacity-40 grayscale animate-reveal-ultra-fast",children:s.jsx(db,{hit:!1})}),ae==="mine-hit"&&s.jsx("div",{className:"animate-shake-bomb-fast",children:s.jsx(db,{hit:!0})}),ae==="hidden"&&I&&s.jsx(Fc,{opacity:.3})]},Z)})})]}),s.jsx("div",{className:"w-full",children:k==="PLAYING"&&se==="manual"?L>0?s.jsxs("button",{onClick:Ie,className:"w-full h-16 bg-gradient-to-b from-[#ff8c00] to-[#b35900] border-t border-white/30 rounded-2xl active:scale-[0.98] transition-all shadow-lg flex flex-col items-center justify-center",children:[s.jsx("span",{className:"text-white font-black text-xl tracking-tighter uppercase leading-none",children:"Cash Out"}),s.jsxs("span",{className:"text-white/90 text-[10px] font-black tracking-widest uppercase mt-1",children:["EGP ",(u*K).toFixed(1)]})]}):s.jsx("button",{onClick:()=>M("IDLE"),className:"w-full h-16 bg-zinc-800 rounded-2xl active:scale-[0.98] transition-all text-white/50 font-black text-xl tracking-tighter uppercase",children:"Cancel"}):s.jsx("button",{onClick:Ue,disabled:k==="GAMEOVER"||k==="CASHED_OUT"||se==="auto"&&we.length===0,className:`w-full h-16 rounded-2xl active:scale-[0.98] transition-all text-white font-black text-xl tracking-tighter uppercase disabled:opacity-50 shadow-2xl ${se==="auto"?"bg-cyan-600 shadow-[0_0_20px_rgba(8,145,178,0.3)]":"bg-[#1da1f2] shadow-[0_0_20px_rgba(29,161,242,0.3)]"}`,children:se==="auto"?"Start Auto":"Start Game"})}),s.jsxs("div",{className:"w-full space-y-6",children:[s.jsxs("div",{className:"w-full flex items-center gap-1.5 h-14",children:[s.jsx("button",{onClick:()=>f(20),className:"w-12 h-12 bg-[#1e2329] rounded-xl flex items-center justify-center text-zinc-400 font-black text-[10px] uppercase active:scale-95 transition-all border border-white/5 shadow-sm",children:"min"}),s.jsx("button",{onClick:()=>f(ae=>Math.max(20,ae-1)),className:"w-12 h-12 bg-[#1e2329] rounded-xl flex items-center justify-center text-zinc-400 active:scale-95 transition-all border border-white/5 shadow-sm",children:s.jsx("i",{className:"fas fa-minus text-[10px]"})}),s.jsxs("div",{className:"flex-1 bg-[#121417] h-full rounded-xl flex flex-col items-center justify-center border border-white/5 shadow-inner px-2 overflow-hidden group focus-within:border-cyan-500/50 transition-colors",children:[s.jsx("div",{className:"text-zinc-600 text-[8px] font-black uppercase tracking-[0.1em] mb-0.5 opacity-80 whitespace-nowrap",children:"Bet Amount"}),s.jsxs("div",{className:"flex items-center justify-center w-full",children:[s.jsx("span",{className:"text-[#FFFF00] font-black text-[10px] mr-1 opacity-80",children:"EGP"}),s.jsx("input",{type:"number",value:u,onChange:ae=>f(Math.max(0,parseInt(ae.target.value)||0)),disabled:k==="PLAYING",className:"bg-transparent outline-none w-full text-center text-white font-black text-base placeholder-zinc-700"})]})]}),s.jsx("button",{onClick:()=>f(ae=>ae+1),className:"w-12 h-12 bg-[#1e2329] rounded-xl flex items-center justify-center text-zinc-400 active:scale-95 transition-all border border-white/5 shadow-sm",children:s.jsx("i",{className:"fas fa-plus text-[10px]"})}),s.jsx("button",{onClick:()=>f(Math.floor(D)),className:"w-12 h-12 bg-[#1e2329] rounded-xl flex items-center justify-center text-zinc-400 font-black text-[10px] uppercase active:scale-95 transition-all border border-white/5 shadow-sm",children:"max"})]}),s.jsxs("div",{className:"w-full bg-[#0d0f11] rounded-[1.2rem] p-1 px-2 flex items-center justify-between border border-zinc-800 shadow-2xl h-[50px]",children:[s.jsx("div",{className:"flex gap-1 shrink-0",children:[3,5].map(ae=>s.jsx("button",{onClick:()=>p(ae),className:`w-[40px] h-[40px] flex items-center justify-center rounded-xl text-[11px] font-black transition-all ${m===ae?"bg-zinc-800 text-white shadow-lg":"bg-zinc-800/40 text-zinc-500"}`,children:ae},ae))}),s.jsxs("div",{className:"flex flex-1 items-center justify-center gap-1.5 px-1 overflow-hidden",children:[s.jsx("button",{onClick:()=>p(Math.max(1,m-1)),className:"w-[38px] h-[40px] flex items-center justify-center rounded-xl border border-[#ff7b2b]/40 bg-black/40 text-[#ff7b2b] active:scale-90 transition-all shrink-0",children:s.jsx("i",{className:"fas fa-minus text-[10px]"})}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[45px] shrink-0",children:[s.jsx("span",{className:"text-[7px] text-[#ff7b2b] font-black uppercase opacity-80 leading-none mb-0.5",children:"Mines"}),s.jsx("span",{className:"text-[#ff7b2b] font-black text-lg leading-none",children:m})]}),s.jsx("button",{onClick:()=>p(Math.min(24,m+1)),className:"w-[38px] h-[40px] flex items-center justify-center rounded-xl border border-[#ff7b2b]/40 bg-black/40 text-[#ff7b2b] active:scale-90 transition-all shrink-0",children:s.jsx("i",{className:"fas fa-plus text-[10px]"})})]}),s.jsx("div",{className:"flex gap-1 shrink-0",children:[10,20].map(ae=>s.jsx("button",{onClick:()=>p(ae),className:`w-[40px] h-[40px] flex items-center justify-center rounded-xl text-[11px] font-black transition-all ${m===ae?"bg-zinc-800 text-white shadow-lg":"bg-zinc-800/40 text-zinc-500"}`,children:ae},ae))})]})]}),s.jsxs("div",{className:"w-full",children:[s.jsxs("p",{className:"text-[#ff7b2b] text-[10px] font-black uppercase tracking-widest mb-2 ml-1 flex items-center gap-2",children:[s.jsx("i",{className:"fas fa-chart-bar text-[8px]"})," Game details"]}),s.jsxs("div",{className:"relative bg-black rounded-[1.8rem] p-4 border border-orange-500/30 shadow-[0_10px_30px_rgba(0,0,0,0.8)] space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-zinc-900 flex items-center justify-center border border-white/5",children:s.jsx("i",{className:"fas fa-gem text-cyan-400 text-[10px]"})}),s.jsx("span",{className:"text-zinc-400 text-[10px] font-bold uppercase tracking-widest",children:"Gems left"})]}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-white font-black text-base",children:ee-m-(se==="auto"?we.length:L)}),s.jsx("span",{className:"text-zinc-700 text-[7px] font-black uppercase",children:"qty"})]})]}),s.jsx("div",{className:"h-px bg-white/[0.04]"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-zinc-900 flex items-center justify-center border border-white/5",children:s.jsx("i",{className:"fas fa-bomb text-orange-500 text-[10px]"})}),s.jsx("span",{className:"text-zinc-400 text-[10px] font-bold uppercase tracking-widest",children:"Mine risk"})]}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-orange-500 font-black text-base",children:se==="auto"?(m/ee*100).toFixed(0):me}),s.jsx("span",{className:"text-orange-900 text-[9px] font-black",children:"%"})]})]}),s.jsx("div",{className:"h-px bg-white/[0.04]"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-zinc-900 flex items-center justify-center border border-white/5",children:s.jsx("i",{className:"fas fa-th-large text-zinc-600 text-[10px]"})}),s.jsx("span",{className:"text-zinc-400 text-[10px] font-bold uppercase tracking-widest",children:se==="auto"?"Planned tiles":"Opened tiles"})]}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-white font-black text-base",children:se==="auto"?we.length:L}),s.jsxs("span",{className:"text-zinc-700 text-[9px] font-black",children:["/ ",ee]})]})]})]})]}),s.jsxs("div",{className:"w-full space-y-4 pt-4 pb-12",children:[s.jsx("div",{className:"flex items-center justify-around bg-[#1a1c1e] p-1 rounded-2xl border border-white/5",children:["All Bets","Top bets","My bets"].map(ae=>s.jsx("button",{onClick:()=>Ne(ae.toLowerCase().split(" ")[0]),className:`flex-1 py-3 text-[10px] font-black uppercase rounded-xl transition-all ${pe===ae.toLowerCase().split(" ")[0]?"bg-[#2a2f35] text-white shadow-lg":"text-zinc-600"}`,children:ae},ae))}),s.jsx("div",{className:"bg-[#1a1c1e] rounded-[2rem] border border-white/5 overflow-hidden shadow-xl min-h-[200px]",children:s.jsxs("table",{className:"w-full text-left text-[11px] font-bold",children:[s.jsx("thead",{className:"bg-[#0a0a0a]/50 text-zinc-600 uppercase tracking-widest border-b border-white/5",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"Game"}),s.jsx("th",{className:"px-6 py-4 text-center",children:"Multiplier"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Payout"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:ue.filter(ae=>pe==="all"?!0:pe==="top"?ae.type==="top":ae.type==="my").slice(0,15).map((ae,Z)=>s.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[s.jsxs("td",{className:"px-6 py-4 flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 bg-zinc-900 rounded-full flex items-center justify-center border border-white/5",children:s.jsx("i",{className:`fas ${ae.icon} text-zinc-500 text-[9px]`})}),s.jsx("span",{className:"text-zinc-400",children:ae.game})]}),s.jsx("td",{className:"px-6 py-4 text-center font-black text-zinc-500",children:ae.multiplier}),s.jsx("td",{className:"px-6 py-4 text-right font-black text-white",children:ae.payout})]},ae.id+Z))})]})})]})]}),s.jsx("style",{children:`
        @keyframes revealUltraFast { from { transform: scale(0.92); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .animate-reveal-ultra-fast { animation: revealUltraFast 0.05s ease-out forwards; }
        @keyframes shakeBombFast { 0% { transform: scale(1); } 50% { transform: scale(1.08) rotate(2deg); } 100% { transform: scale(1) rotate(0deg); } }
        .animate-shake-bomb-fast { animation: shakeBombFast 0.12s ease-in-out; }
        @keyframes modalProgressLong { from { width: 0%; } to { width: 100%; } }
        .animate-modal-progress-long { animation: modalProgressLong 3.5s linear forwards; }
        @keyframes zoomInBounce {
          0% { transform: scale(0.8); opacity: 0; }
          70% { transform: scale(1.05); opacity: 1; }
          100% { transform: scale(1); opacity: 1; }
        }
        .zoom-in-bounce { animation: zoomInBounce 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        @keyframes pulseFast {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.05); }
        }
        .animate-pulse-fast { animation: pulseFast 1.5s ease-in-out infinite; }
        @keyframes rippleWater {
          0% { transform: translate(-50%, -50%) scale(0); opacity: 0.6; }
          100% { transform: translate(-50%, -50%) scale(6); opacity: 0; }
        }
        .animate-ripple-water { animation: rippleWater 0.6s ease-out forwards; }

        /* Custom Slider Styles */
        input[type='range']::-webkit-slider-thumb {
          appearance: none;
          width: 14px;
          height: 14px;
          background: #ffffff;
          border: 2px solid #10b981;
          border-radius: 50%;
          cursor: pointer;
          box-shadow: 0 0 10px rgba(16, 185, 129, 0.4);
          transition: all 0.2s;
        }
        input[type='range']::-webkit-slider-thumb:hover {
          transform: scale(1.2);
          box-shadow: 0 0 15px rgba(16, 185, 129, 0.6);
        }

        /* Hide Number Input Arrows */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }
      `})]})},zE=({onClose:i,isSound:t,toggleSound:a,lang:l})=>{const[c,u]=b.useState("main"),f={ar:{limits:"",how:" ",sound:"",min:"",max:"",step1:"    .",step2:"     .",step3:"     .",step4:"      ."},en:{limits:"Limits",how:"How to play",sound:"Sound",min:"Min",max:"Max",step1:"Set your bet amount and number of mines.",step2:"Click tiles to reveal hidden gems.",step3:"Each gem increases your potential payout.",step4:"Avoid hitting mines and cash out anytime to win."}}[l];return s.jsx("div",{className:"absolute right-0 top-full mt-2 z-[200] w-[200px] animate-in fade-in slide-in-from-top-2 duration-300 origin-top-right",children:s.jsx("div",{className:"bg-[#1a1c1e] rounded-[1rem] border border-blue-500/20 p-4 shadow-[0_30px_90px_rgba(0,0,0,1)] backdrop-blur-3xl overflow-hidden",children:c==="main"?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>u("limits"),className:"w-full flex items-center justify-between p-2 rounded-lg bg-black/40 border border-white/5 hover:border-white/20 transition-all group",children:[s.jsx("span",{className:"text-white font-black uppercase text-[8px] tracking-widest",children:f.limits}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]}),s.jsxs("button",{onClick:()=>u("how-to"),className:"w-full flex items-center justify-between p-2 rounded-lg bg-black/40 border border-white/5 hover:border-white/20 transition-all group",children:[s.jsx("span",{className:"text-white font-black uppercase text-[8px] tracking-widest",children:f.how}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-black/40 border border-white/5",children:[s.jsx("span",{className:"text-white font-black uppercase text-[8px] tracking-widest",children:f.sound}),s.jsx("button",{onClick:a,className:`w-8 h-4 rounded-full relative transition-all ${t?"bg-blue-600 shadow-[0_0_10px_#2563eb]":"bg-zinc-800"}`,children:s.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all duration-300 ${t?"translate-x-4.5":"translate-x-0.5"}`})})]}),s.jsx("button",{onClick:i,className:"w-full mt-2 text-zinc-600 font-black uppercase text-[7px] hover:text-white transition-colors",children:l==="ar"?"":"Close"})]}):c==="limits"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>u("main"),className:"text-zinc-600 hover:text-white transition-colors text-[8px]",children:[s.jsx("i",{className:"fas fa-chevron-left mr-1"})," Back"]}),s.jsxs("div",{className:"bg-black/60 p-2 rounded-lg border border-white/5 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500 font-black text-[7px] uppercase",children:f.min}),s.jsx("span",{className:"text-white font-black text-[8px]",children:"10 EGP"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500 font-black text-[7px] uppercase",children:f.max}),s.jsx("span",{className:"text-white font-black text-[8px]",children:"2000 EGP"})]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>u("main"),className:"text-zinc-600 hover:text-white transition-colors text-[8px]",children:[s.jsx("i",{className:"fas fa-chevron-left mr-1"})," Back"]}),s.jsx("div",{className:"bg-black/60 p-2 rounded-lg border border-white/5 space-y-2 max-h-[150px] overflow-y-auto no-scrollbar",children:[f.step1,f.step2,f.step3,f.step4].map((m,p)=>s.jsxs("p",{className:"text-zinc-400 text-[7px] font-bold leading-relaxed",children:[" ",m]},p))})]})})})},ME=({hit:i})=>s.jsxs("div",{className:`relative flex items-center justify-center w-full h-full ${i?"opacity-100":"opacity-40 grayscale"}`,children:[i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 bg-orange-600/30 blur-3xl rounded-[15px]"}),s.jsx("div",{className:"absolute inset-[-10px] bg-red-600/20 blur-xl rounded-[15px] animate-ping"})]}),s.jsxs("svg",{viewBox:"0 0 100 100",className:`w-12 h-12 ${i?"drop-shadow-[0_0_20px_#f97316]":""}`,children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"bombBodyPro",cx:"40%",cy:"40%",r:"60%",children:[s.jsx("stop",{offset:"0%",stopColor:i?"#444":"#222"}),s.jsx("stop",{offset:"100%",stopColor:"#000"})]}),s.jsxs("linearGradient",{id:"fuseGradPro",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:"#8b4513"}),s.jsx("stop",{offset:"100%",stopColor:"#5d4037"})]})]}),s.jsx("rect",{x:"20",y:"35",width:"60",height:"60",rx:"10",fill:"url(#bombBodyPro)"}),s.jsx("circle",{cx:"40",cy:"55",r:"8",fill:"white",fillOpacity:"0.1"}),s.jsx("path",{d:"M42 25 L58 25 L55 35 L45 35 Z",fill:"#333"}),s.jsx("path",{d:"M50 25 Q65 5 80 10",fill:"none",stroke:"url(#fuseGradPro)",strokeWidth:"4",strokeLinecap:"round"}),i&&s.jsx("g",{className:"animate-pulse",children:s.jsx("circle",{cx:"80",cy:"10",r:"10",fill:"#fbbf24",filter:"blur(2px)"})})]})]}),OE=({user:i,onBack:t,lang:a,onDepositClick:l,onAuthRequired:c})=>{const[u,f]=b.useState(0),[m,p]=b.useState(10),[x,v]=b.useState(3),[w,N]=b.useState(Array(25).fill("hidden")),[k,M]=b.useState([]),[L,O]=b.useState("IDLE"),[D,W]=b.useState(0),[te,he]=b.useState({show:!1,message:"",type:"info"}),[pe,Ne]=b.useState(!1),[ie,P]=b.useState(null),[ue,xe]=b.useState(!1),[se,je]=b.useState(!0),we=b.useRef(null),Ce=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3")),X=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3")),S=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/212/212-preview.mp3")),$=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"));b.useEffect(()=>{i&&lt(ve(ye,`User/${i.uid}/balance`),ee=>f(ee.val()||0))},[i]),b.useEffect(()=>{const ee=B=>{we.current&&!we.current.contains(B.target)&&xe(!1)};return ue&&document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[ue]);const H=ee=>{ee.current&&se&&(ee.current.currentTime=0,ee.current.play().catch(()=>{}))},V=b.useCallback((ee,B)=>{if(ee===0)return 1;const C=25,K=B,Ee=ee,ge=(Ue,fe)=>{if(fe<0||fe>Ue)return 0;if(fe===0||fe===Ue)return 1;let Ie=1;const me=fe>Ue/2?Ue-fe:fe;for(let ae=1;ae<=me;ae++)Ie=Ie*(Ue-ae+1)/ae;return Ie},Te=ge(C-K,Ee)/ge(C,Ee);return parseFloat(((1-.04)/(Te||1)).toFixed(2))},[]),q=typeof x=="string"?parseInt(x)||3:x,_=typeof m=="string"?parseFloat(m)||0:m,T=b.useMemo(()=>V(D,q),[D,q,V]),z=b.useMemo(()=>{const ee=[],B=25-q;for(let C=1;C<=Math.min(24,B);C++)ee.push(V(C,q));return ee},[q,V]),G=async()=>{if(H(Ce),!i){c==null||c();return}if(L!=="IDLE")return;if(_<10){he({show:!0,message:a==="ar"?"   10 .":"Min bet is 10 EGP",type:"error"});return}if(u<_){he({show:!0,message:a==="ar"?"  ":"Insufficient Balance",type:"error"});return}const ee=Math.max(1,Math.min(24,q));v(ee),await Xe(ve(ye,`User/${i.uid}`),{balance:u-_});const B=[];for(;B.length<ee;){const C=Math.floor(Math.random()*25);B.includes(C)||B.push(C)}M(B),N(Array(25).fill("hidden")),W(0),O("PLAYING"),Ne(!1),P(null)},ne=async()=>{if(H(Ce),L!=="PLAYING"||D>0)return;const ee=await zt(ve(ye,`User/${i==null?void 0:i.uid}/balance`));await Xe(ve(ye,`User/${i==null?void 0:i.uid}`),{balance:(ee.val()||0)+_}),O("IDLE"),N(Array(25).fill("hidden"))},A=async ee=>{H($);const B=ee||T,C=_*B,K=await zt(ve(ye,`User/${i==null?void 0:i.uid}/balance`));await Xe(ve(ye,`User/${i==null?void 0:i.uid}`),{balance:(K.val()||0)+C}),O("CASHED_OUT");const Ee=w.map((ge,Te)=>k.includes(Te)?"bomb":ge==="hidden"?"gem":ge);N(Ee),P({amount:C,mult:B}),setTimeout(()=>{O("IDLE"),N(Array(25).fill("hidden")),W(0),P(null)},4500)},Q=async ee=>{if(!(L!=="PLAYING"||w[ee]!=="hidden"))if(k.includes(ee)){H(S);const B=w.map((C,K)=>K===ee?"bomb-hit":k.includes(K)?"bomb":w[K]==="gem"?"gem":"hidden");N(B),O("GAMEOVER"),setTimeout(()=>Ne(!0),100),setTimeout(()=>{O("IDLE"),N(Array(25).fill("hidden")),W(0),Ne(!1)},4500)}else{H(X);const B=D+1,C=[...w];C[ee]="gem",N(C),W(B),B===25-q&&A(V(B,q))}},_e={ar:{stake:" ",mines:"",deploy:" ",collect:"",abort:"",min:"",max:""},en:{stake:"Stake Amount",mines:"Mines Density",deploy:"DEPLOY",collect:"Collect",abort:"ABORT",min:"MIN",max:"MAX"}}[a];return s.jsxs("div",{className:"min-h-screen bg-[#0d0f11] text-white flex flex-col font-['Cairo'] select-none overflow-y-auto pb-24",dir:"ltr",children:[s.jsx(Yt,{isVisible:te.show,message:te.message,type:te.type,onClose:()=>he({...te,show:!1})}),s.jsxs("header",{className:"px-4 py-3 flex items-center justify-between bg-[#0d0f11]/80 backdrop-blur-2xl border-b border-white/5 sticky top-0 z-[120] shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:t,className:"w-10 h-10 bg-zinc-900/80 rounded-2xl flex items-center justify-center border border-white/10 active:scale-90 transition-all shadow-lg",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400 text-xs"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-lg font-black tracking-tight text-white uppercase leading-none",children:"Mines Pro"}),s.jsx("span",{className:"text-[7px] text-blue-500 font-black tracking-[0.4em] uppercase mt-1",children:"Verified Engine"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"bg-zinc-900/60 pl-4 pr-1 py-1 rounded-2xl border border-white/10 shadow-inner flex items-center group",children:[s.jsxs("div",{className:"flex flex-col items-start mr-3",children:[s.jsx("span",{className:"text-[6px] font-black text-zinc-600 uppercase tracking-[0.2em] leading-none mb-0.5",children:"Secure Bal"}),s.jsxs("span",{className:"text-emerald-400 font-black text-[13px] leading-none tracking-tight",children:[u.toFixed(2)," EGP"]})]}),s.jsx("button",{onClick:l,className:"w-8 h-8 bg-blue-600 rounded-xl flex items-center justify-center text-white shadow-lg active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-plus text-[10px]"})})]}),s.jsxs("div",{className:"relative",ref:we,children:[s.jsx("button",{onClick:()=>xe(!ue),className:"w-10 h-10 bg-zinc-900/80 rounded-xl flex items-center justify-center border border-white/10 text-zinc-400 active:scale-90 transition-all hover:text-white",children:s.jsx("i",{className:`fas fa-cog text-sm transition-transform duration-500 ${ue?"rotate-90 text-blue-500":""}`})}),ue&&s.jsx(zE,{lang:a,isSound:se,toggleSound:()=>je(!se),onClose:()=>xe(!1)})]})]})]}),s.jsxs("main",{className:"flex-1 p-4 flex flex-col items-center gap-6 max-w-md mx-auto w-full relative",children:[s.jsx("div",{className:"w-full bg-[#0d0f11] border border-white/5 overflow-hidden h-[54px] rounded-2xl shadow-inner",children:s.jsx("div",{className:"flex items-center gap-2.5 px-4 py-3 transition-transform duration-500",style:{transform:`translateX(-${Math.max(0,D-1)*66}px)`},children:z.map((ee,B)=>s.jsxs("div",{className:`shrink-0 w-[56px] h-[28px] flex items-center justify-center rounded-lg border text-[9px] font-black transition-all duration-300 ${D>=B+1?"bg-blue-600 border-blue-400 text-white shadow-[0_0_15px_rgba(37,99,235,0.6)] scale-110":D===B?"border-blue-500/50 bg-zinc-900 text-blue-400":"border-white/5 bg-zinc-900/50 text-zinc-600 opacity-40"}`,children:["x",ee.toFixed(2)]},B))})}),s.jsxs("div",{className:"relative w-full aspect-square bg-[#0d0f11] grid grid-cols-5 gap-2.5",children:[w.map((ee,B)=>s.jsxs("button",{onClick:C=>Q(B),disabled:L!=="PLAYING"&&L!=="IDLE"||L==="PLAYING"&&ee!=="hidden",className:`relative aspect-square rounded-2xl transition-all duration-300 flex items-center justify-center overflow-hidden active:scale-90 active:brightness-125
                ${ee==="hidden"?L==="IDLE"?"bg-[#1a1c1e] border border-white/5 shadow-[0_4px_0_#101214]":"bg-gradient-to-b from-blue-500 to-blue-700 border-t border-white/20 shadow-[0_4px_0_#1d4ed8] active:shadow-none active:translate-y-[4px]":"bg-[#0a0a0a] border border-white/5"}
              `,children:[ee==="hidden"&&s.jsx("span",{className:`font-black text-xl transition-colors duration-300 ${L==="IDLE"?"text-white/10":"text-white/50"}`,children:"?"}),ee==="gem"&&s.jsx("div",{className:"w-full h-full p-2 animate-reveal-static",children:s.jsx("div",{className:"w-full h-full bg-gradient-to-tr from-blue-400 to-cyan-600 rounded-[10px] flex items-center justify-center shadow-[0_0_15px_rgba(34,211,238,0.4)]",children:s.jsx("i",{className:"fas fa-gem text-white text-2xl drop-shadow-lg"})})}),(ee==="bomb"||ee==="bomb-hit")&&s.jsx(ME,{hit:ee==="bomb-hit"})]},B)),pe&&s.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center animate-in fade-in zoom-in duration-300 backdrop-blur-[2px]",children:s.jsxs("div",{className:"relative bg-[#1a1c1e]/95 border-2 border-red-500/20 p-8 rounded-[2.5rem] shadow-[0_20px_80px_rgba(255,0,0,0.3)] text-center w-72",children:[s.jsx("div",{className:"w-20 h-20 bg-red-600/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/30",children:s.jsx("i",{className:"fas fa-bomb text-red-500 text-3xl animate-bounce"})}),s.jsx("h2",{className:"text-white font-black text-2xl uppercase tracking-tighter mb-1",children:"DETONATED"}),s.jsx("div",{className:"text-red-500 font-black text-5xl mb-4 italic tracking-tighter",children:"x0.00"})]})}),ie&&s.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center animate-in fade-in zoom-in duration-300 backdrop-blur-[2px]",children:s.jsxs("div",{className:"relative bg-[#1a1c1e]/95 border-2 border-blue-500/30 p-8 rounded-[2.5rem] shadow-[0_20px_80px_rgba(37,99,235,0.3)] text-center w-72",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-blue-500/30",children:s.jsx("i",{className:"fas fa-crown text-blue-400 text-3xl animate-bounce"})}),s.jsx("h2",{className:"text-white font-black text-2xl uppercase tracking-tighter mb-1",children:"PROFIT SECURED"}),s.jsxs("div",{className:"text-blue-400 font-black text-5xl mb-4 italic tracking-tighter",children:["x",ie.mult.toFixed(2)]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-400 font-black text-lg",children:["+ EGP ",ie.amount.toFixed(2)]})]})})]}),s.jsxs("div",{className:"w-full bg-[#16181b]/60 backdrop-blur-xl rounded-[2.5rem] p-6 pt-8 border border-white/5 space-y-6 shadow-2xl",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between px-1",children:[s.jsx("span",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:_e.stake}),s.jsx("span",{className:"text-blue-500 text-[8px] font-black uppercase tracking-widest",children:"MIN: 10 EGP"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 h-14",children:[s.jsx("button",{onClick:()=>{H(Ce),p(10)},disabled:L==="PLAYING",className:"w-12 h-12 bg-[#1e2329] rounded-xl flex items-center justify-center text-zinc-400 font-black text-[10px] uppercase border border-white/5 active:scale-95 transition-all",children:"MIN"}),s.jsx("div",{className:"flex-1 bg-[#121417] h-full rounded-xl flex flex-col items-center justify-center border border-white/5 shadow-inner px-2",children:s.jsx("input",{type:"text",inputMode:"decimal",value:m,onChange:ee=>p(ee.target.value),onBlur:()=>{const ee=parseFloat(m.toString())||10;p(Math.max(10,Math.min(2e3,ee)))},className:"bg-transparent outline-none w-full text-center text-white font-black text-lg placeholder:text-zinc-700",disabled:L==="PLAYING"})}),s.jsx("button",{onClick:()=>{H(Ce),p(Math.min(2e3,Math.floor(u))||2e3)},disabled:L==="PLAYING",className:"w-12 h-12 bg-[#1e2329] rounded-xl flex items-center justify-center text-zinc-400 font-black text-[10px] uppercase border border-white/5 active:scale-95 transition-all",children:"MAX"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between px-1",children:[s.jsx("span",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:_e.mines}),s.jsx("span",{className:"text-zinc-600 text-[8px] font-black uppercase tracking-widest",children:"MAX: 24"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 bg-[#121417] rounded-xl border border-white/5 flex items-center px-4 h-14 shadow-inner",children:s.jsx("input",{type:"text",inputMode:"numeric",value:x,onChange:ee=>{const B=ee.target.value;if(B===""){v("");return}const C=parseInt(B);isNaN(C)||v(C>24?24:C)},onBlur:()=>{(typeof x=="string"||x<1)&&v(3)},className:"bg-transparent w-full text-white font-black text-lg outline-none text-center",disabled:L==="PLAYING"})}),s.jsx("div",{className:"flex gap-1.5",children:[3,10,24].map(ee=>s.jsx("button",{onClick:()=>{H(Ce),v(ee)},disabled:L==="PLAYING",className:`w-11 h-14 rounded-xl text-xs font-black transition-all border ${q===ee?"bg-blue-600 border-blue-400 text-white shadow-lg":"bg-[#121417] text-zinc-500 border border-white/5"}`,children:ee},ee))})]})]}),L==="PLAYING"?D>0?s.jsxs("button",{onClick:()=>A(),className:"w-full h-18 bg-gradient-to-b from-[#82b441] to-[#6a9535] rounded-[20px] text-white font-black text-xl transition-all active:translate-y-1 shadow-[0_6px_0_#4c6d26] shadow-xl flex flex-col items-center justify-center gap-1",children:[s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:_e.collect}),s.jsxs("span",{children:["EGP ",(_*T).toFixed(2)]})]}):s.jsx("button",{onClick:ne,className:"w-full h-18 bg-gradient-to-b from-zinc-700 to-zinc-800 rounded-[20px] text-white/50 font-black text-xl transition-all active:translate-y-1 shadow-[0_6px_0_#4a4a4a] shadow-xl",children:_e.abort}):s.jsx("button",{onClick:G,disabled:L==="GAMEOVER"||L==="CASHED_OUT",className:"w-full h-20 bg-gradient-to-b from-blue-600 to-blue-800 rounded-[20px] text-white font-black text-3xl transition-all active:translate-y-1 shadow-[0_8px_0_#1d4ed8] shadow-xl disabled:opacity-50 uppercase tracking-widest italic",children:_e.deploy})]})]}),s.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        @keyframes revealStatic { from { opacity: 0; transform: scale(0.8) rotate(-5deg); } to { opacity: 1; transform: scale(1) rotate(0); } }
        .animate-reveal-static { animation: revealStatic 0.25s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
      `})]})},fb=[1.03,1.18,1.35,1.56,1.82,2.15,2.54,3.05,3.71,4.57,5.71,7.27,9.45,12.61,17.34,24.77,37.16,59.45,104.05,208.1,520.25,2081],hb=["Ahmed_Cairo","Ziad_77","Mido_Vip","Youssef_X","Mostafa_Bet","Kimo_99","Hassan_Gamer","Omar_Elite","Tarek_Win","Samy_Pro","Mahmoud_VIP","Amr_Alex","Sherif_Gold","Hany_Strike","Karim_X"],DE=({onClose:i,lang:t})=>{const[a,l]=b.useState("main"),c={ar:{limits:"",how:" ",min:"",max:"",step1:"    .",step2:"     .",step3:"     .",step4:"      ."},en:{limits:"Limits",how:"How to play",min:"Min",max:"Max",step1:"Set your bet amount and number of mines.",step2:"Click tiles to reveal hidden gems.",step3:"Each gem increases your potential payout.",step4:"Avoid hitting mines and cash out anytime."}}[t];return s.jsx("div",{className:"absolute right-0 top-full mt-2 z-[200] w-[220px] animate-in fade-in slide-in-from-top-2 duration-300 origin-top-right",children:s.jsx("div",{className:"bg-[#1a1c1e] rounded-[1.5rem] border border-white/10 p-4 shadow-[0_20px_50px_rgba(0,0,0,0.8)] backdrop-blur-2xl overflow-hidden",children:a==="main"?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>l("limits"),className:"w-full flex items-center justify-between p-3 rounded-xl bg-white/5 hover:bg-white/10 transition-all group",children:[s.jsx("span",{className:"text-white font-black uppercase text-[10px] tracking-widest",children:c.limits}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600 group-hover:text-white"})]}),s.jsxs("button",{onClick:()=>l("how-to"),className:"w-full flex items-center justify-between p-3 rounded-xl bg-white/5 hover:bg-white/10 transition-all group",children:[s.jsx("span",{className:"text-white font-black uppercase text-[10px] tracking-widest",children:c.how}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600 group-hover:text-white"})]}),s.jsx("button",{onClick:i,className:"w-full mt-2 text-zinc-600 font-black uppercase text-[8px] hover:text-white transition-colors",children:t==="ar"?"":"Close"})]}):a==="limits"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>l("main"),className:"text-zinc-500 hover:text-white transition-colors text-[9px] font-black uppercase flex items-center gap-1",children:[s.jsx("i",{className:"fas fa-chevron-left"})," Back"]}),s.jsxs("div",{className:"bg-black/40 p-3 rounded-xl border border-white/5 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-zinc-500 font-black text-[8px] uppercase tracking-wider",children:c.min}),s.jsx("span",{className:"text-white font-black text-[10px]",children:"10.00 EGP"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-zinc-500 font-black text-[8px] uppercase tracking-wider",children:c.max}),s.jsx("span",{className:"text-white font-black text-[10px]",children:"2,000.00 EGP"})]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>l("main"),className:"text-zinc-500 hover:text-white transition-colors text-[9px] font-black uppercase flex items-center gap-1",children:[s.jsx("i",{className:"fas fa-chevron-left"})," Back"]}),s.jsx("div",{className:"bg-black/40 p-3 rounded-xl border border-white/5 space-y-3 max-h-[180px] overflow-y-auto no-scrollbar",children:[c.step1,c.step2,c.step3,c.step4].map((u,f)=>s.jsxs("p",{className:"text-zinc-400 text-[9px] font-bold leading-relaxed",children:[" ",u]},f))})]})})})},LE=({user:i,onBack:t,lang:a,onAuthRequired:l})=>{const[c,u]=b.useState(0),[f,m]=b.useState("0.0"),[p,x]=b.useState("10.0"),[v,w]=b.useState(3),[N,k]=b.useState(Array(25).fill("hidden")),[M,L]=b.useState([]),[O,D]=b.useState("IDLE"),[W,te]=b.useState(0),[he,pe]=b.useState({show:!1,message:"",type:"info"}),[Ne,ie]=b.useState("live"),[P,ue]=b.useState(!1),[xe,se]=b.useState(!1),[je,we]=b.useState(!1),[Ce,X]=b.useState(!1),[S,$]=b.useState(!0),H=b.useRef(null),V=b.useRef(null),q=b.useRef(null),[_,T]=b.useState([]),[z,G]=b.useState([]),[ne,A]=b.useState([]),Q=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3")),_e=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3")),ee=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/212/212-preview.mp3")),B=b.useCallback(()=>{!P&&Q.current&&(Q.current.currentTime=0,Q.current.play().catch(()=>{}))},[P]),C=b.useCallback((I=!1)=>{const ce=hb[Math.floor(Math.random()*hb.length)],ke=Math.floor(5+Math.random()*500),Ae=Math.random()>.4?I?5+Math.random()*20:1.1+Math.random()*3:null;return{id:Math.random().toString(36).substr(2,9),username:ce,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${ce}`,bet:ke,multiplier:Ae,win:Ae?ke*Ae:null,timestamp:Date.now()}},[]);b.useEffect(()=>{i&&lt(ve(ye,`User/${i.uid}/balance`),I=>{const ce=I.val(),ke=ce!==null?ce:0;u(ke),m(ke.toFixed(1))})},[i]),b.useEffect(()=>{T(Array.from({length:8},()=>C(!1))),G(Array.from({length:5},()=>C(!0)));const I=setInterval(()=>{T(ce=>[C(!1),...ce.slice(0,14)]),Math.random()>.8&&G(ce=>[C(!0),...ce.sort((ke,Re)=>(Re.win||0)-(ke.win||0)).slice(0,14)])},4e3);return()=>clearInterval(I)},[C]),b.useEffect(()=>{const I=ce=>{q.current&&!q.current.contains(ce.target)&&we(!1)};return je&&document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[je]);const K=b.useCallback((I,ce)=>{if(I===0)return 1;if(ce===3&&I<=fb.length)return fb[I-1];const ke=25,Re=ce,Ae=I,Oe=(it,He)=>{if(He<0||He>it)return 0;if(He===0||He===it)return 1;let Nt=1;for(let rt=1;rt<=He;rt++)Nt=Nt*(it-rt+1)/rt;return Nt},Ve=Oe(ke-Re,Ae)/Oe(ke,Ae);return parseFloat((.93/(Ve||1)).toFixed(2))},[]),Ee=b.useMemo(()=>K(W,v),[W,v,K]),ge=b.useMemo(()=>{const I=[],ce=25-v;for(let ke=1;ke<=ce;ke++)I.push({step:ke,val:K(ke,v)});return I},[v,K]);b.useEffect(()=>{if(V.current){const I=Math.max(0,W-1),ce=V.current,ke=ce.children;if(ke[I]){const Re=ke[I],Ae=Re.offsetLeft-ce.offsetWidth/2+Re.offsetWidth/2;ce.scrollTo({left:Ae,behavior:"smooth"})}}},[W,ge]);const Te=I=>{const{scrollLeft:ce,scrollWidth:ke,clientWidth:Re}=I.currentTarget;X(ce>5),$(ke-ce-Re>5)},Ge=I=>{se(I.currentTarget.scrollTop>300)},Ue=()=>{var I;B(),(I=H.current)==null||I.scrollTo({top:0,behavior:"smooth"})},fe=(I,ce)=>{if(!i)return;const ke=Number(p),Re={id:Date.now().toString(),username:"You",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${i.uid}`,bet:ke,multiplier:I?ce:null,win:I?ke*ce:null,timestamp:Date.now()};A(Ae=>[Re,...Ae.slice(0,19)])},Ie=async()=>{if(B(),!i){l==null||l();return}const I=Number(p);if(O==="PLAYING"){const ke=I*Ee;await Xe(ve(ye,`User/${i.uid}`),{balance:c+ke}),D("CASHED_OUT"),k(N.map((Re,Ae)=>M.includes(Ae)?"mine":Re==="hidden"?"gem":Re)),pe({show:!0,message:`Win +${ke.toFixed(2)} EGP`,type:"success"}),fe(!0,Ee),P||(_e.current.currentTime=0,_e.current.play().catch(()=>{})),setTimeout(()=>{D("IDLE"),k(Array(25).fill("hidden")),te(0)},2500);return}if(c<I){pe({show:!0,message:"Insufficient Balance",type:"error"});return}await Xe(ve(ye,`User/${i.uid}`),{balance:c-I});const ce=[];for(;ce.length<v;){const ke=Math.floor(Math.random()*25);ce.includes(ke)||ce.push(ke)}L(ce),k(Array(25).fill("hidden")),te(0),D("PLAYING")},me=I=>{if(!(O!=="PLAYING"||N[I]!=="hidden"))if(B(),M.includes(I))P||(ee.current.currentTime=0,ee.current.play().catch(()=>{})),k(N.map((ce,ke)=>ke===I?"mine-hit":M.includes(ke)?"mine":"gem")),D("GAMEOVER"),fe(!1,0),setTimeout(()=>{D("IDLE"),k(Array(25).fill("hidden")),te(0)},2500);else{const ce=[...N];ce[I]="gem",k(ce),te(ke=>ke+1)}},ae=I=>{const ce=I.toFixed(2).split(".");return s.jsxs("span",{className:"tabular-nums",children:[s.jsx("span",{className:"font-bold text-white",children:ce[0]}),s.jsxs("span",{className:"text-zinc-500",children:[".",ce[1]]})]})},Z=b.useMemo(()=>Ne==="live"?_:Ne==="top"?z:ne,[Ne,_,z,ne]);return s.jsxs("div",{ref:H,onScroll:Ge,className:"h-screen bg-[#0d0d0d] text-white flex flex-col font-['Cairo'] select-none overflow-y-auto no-scrollbar",dir:"ltr",children:[s.jsx(Yt,{isVisible:he.show,message:he.message,type:he.type,onClose:()=>pe({...he,show:!1})}),s.jsxs("header",{className:"px-4 py-4 bg-[#0d0d0d] flex items-center justify-center border-b border-white/5 sticky top-0 z-50 relative",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl font-normal text-red-600 font-['Trade_Winds'] tracking-tighter leading-none",children:"Rex"}),s.jsx("span",{className:"text-zinc-600 font-bold text-lg leading-none",children:""}),s.jsx("span",{className:"text-lg font-black uppercase tracking-tighter text-white leading-none",children:"Mines"})]}),s.jsx("button",{onClick:t,className:"absolute right-4 text-zinc-500 hover:text-white transition-colors",children:s.jsx("i",{className:"fas fa-times"})})]}),s.jsxs("main",{className:"flex-1 p-4 max-w-xl mx-auto w-full space-y-2 relative",children:[s.jsxs("div",{className:"flex items-center justify-between px-2 pb-1",children:[s.jsxs("div",{className:"flex items-center gap-3 bg-[#1e1e24] px-3 py-1.5 rounded-2xl border border-white/5 shadow-inner",children:[s.jsx("i",{className:"fas fa-wallet text-zinc-400 text-sm"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-white font-black text-lg tracking-tighter tabular-nums min-w-[60px]",children:f}),s.jsx("span",{className:"text-zinc-600 font-black text-[9px] uppercase ml-1",children:"EGP"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{onClick:()=>{B(),ue(!P)},className:"bg-[#1e1e24] p-1 rounded-full flex items-center gap-1 cursor-pointer border border-white/5 shadow-inner transition-all w-16 h-8 relative",children:s.jsx("div",{className:`absolute top-1 bottom-1 w-6 h-6 rounded-full flex items-center justify-center transition-all duration-300 ${P?"left-1 bg-zinc-700":"right-1 bg-zinc-600"}`,children:s.jsx("i",{className:`fas ${P?"fa-volume-mute":"fa-volume-up"} text-[10px] text-white`})})}),s.jsxs("div",{className:"relative",ref:q,children:[s.jsx("i",{onClick:()=>{B(),we(!je)},className:`fas fa-cog text-xl cursor-pointer hover:text-white transition-all ${je?"text-white rotate-90":"text-zinc-400"}`}),je&&s.jsx(DE,{lang:a,onClose:()=>we(!1)})]})]})]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs("div",{className:"flex justify-between items-center px-2 mb-1",children:[s.jsxs("div",{className:"bg-[#1e1e24] rounded-full py-1 px-3 flex items-center gap-1.5 border border-white/5 shadow-md",children:[s.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:s.jsx("img",{src:"https://i.ibb.co/XfqGxzJN/Picsart-26-02-01-17-43-00-859.png",className:"w-full h-full object-contain drop-shadow-[0_0_5px_rgba(34,211,238,0.5)]",alt:"star"})}),s.jsx("span",{className:"text-white font-black text-lg tabular-nums leading-none",children:25-v-W})]}),s.jsxs("div",{className:"bg-[#1e1e24] rounded-full py-1 px-3 flex items-center gap-1.5 border border-white/5 shadow-md",children:[s.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:s.jsx("img",{src:"https://i.ibb.co/chq5DM85/Picsart-26-02-01-17-09-28-821.png",className:"w-full h-full object-contain drop-shadow-[0_0_5px_rgba(239,68,68,0.5)]",alt:"bomb"})}),s.jsx("span",{className:"text-white font-black text-lg tabular-nums leading-none",children:v})]})]}),s.jsx("div",{id:"game-grid",className:"grid grid-cols-5 gap-[3.50px] px-1 py-1 perspective-[1000px]",children:N.map((I,ce)=>s.jsx("button",{onClick:()=>me(ce),disabled:O!=="PLAYING"&&O!=="IDLE"||O==="PLAYING"&&I!=="hidden",className:"aspect-[58/46] rounded-[5px] relative active:scale-95 transition-transform",children:s.jsxs("div",{className:`w-full h-full relative transition-transform duration-500 transform-style-3d ${I!=="hidden"?"rotate-y-180":""}`,children:[s.jsx("div",{className:"absolute inset-0 backface-hidden bg-[#2E3035] border border-white/[0.03] rounded-[5px] flex items-center justify-center",children:s.jsx("img",{src:"https://i.ibb.co/Gvv0XFHV/Picsart-26-02-01-16-31-20-123.png",className:"w-[85%] h-[85%] object-contain opacity-20",alt:"RX"})}),s.jsxs("div",{className:"absolute inset-0 backface-hidden rotate-y-180 bg-[#0a0a0c] shadow-inner rounded-[5px] flex items-center justify-center overflow-hidden",children:[I==="gem"&&s.jsx("div",{className:"w-full h-full p-2 flex items-center justify-center animate-reveal-item",children:s.jsx("img",{src:"https://i.ibb.co/XfqGxzJN/Picsart-26-02-01-17-43-00-859.png",className:"w-full h-full object-contain drop-shadow-[0_0_15px_#3b82f6]",alt:"gem"})}),I==="mine"&&s.jsx("div",{className:"w-full h-full p-2 opacity-60 flex items-center justify-center animate-reveal-item",children:s.jsx("img",{src:"https://i.ibb.co/chq5DM85/Picsart-26-02-01-17-09-28-821.png",className:"w-full h-full object-contain",alt:"mine"})}),I==="mine-hit"&&s.jsx("div",{className:"w-full h-full p-1.5 animate-pulse-bomb flex items-center justify-center",children:s.jsx("img",{src:"https://i.ibb.co/chq5DM85/Picsart-26-02-01-17-09-28-821.png",className:"w-full h-full object-contain drop-shadow-[0_0_20px_#ef4444]",alt:"mine hit"})})]})]})},ce))}),s.jsxs("div",{className:"relative overflow-hidden pt-0.5",children:[s.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-12 bg-gradient-to-r from-[#0d0d0d] to-transparent z-20 pointer-events-none transition-opacity duration-300 ${Ce?"opacity-100":"opacity-0"}`}),s.jsx("div",{className:`absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-[#0d0d0d] to-transparent z-20 pointer-events-none transition-opacity duration-300 ${S?"opacity-100":"opacity-0"}`}),s.jsx("div",{ref:V,onScroll:Te,className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar py-2 relative px-1",children:ge.map((I,ce)=>{const ke=W===I.step;return s.jsxs("div",{className:`shrink-0 w-[60px] h-[45px] rounded-xl flex flex-col items-center justify-center border transition-all duration-300
                      ${ke?"bg-[#0d0d0d] border-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.5)] scale-110 z-10 animate-active-odd opacity-100":"bg-[#2A2C2F] border-white/5 opacity-50"}
                    `,children:[s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("span",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-tighter leading-none",children:I.step}),s.jsx("span",{className:"text-zinc-500 text-[7px] font-black",children:""})]}),s.jsxs("span",{className:`font-black text-[10px] leading-tight mt-0.5 ${ke?"text-blue-400":"text-zinc-400"}`,children:["x",I.val.toFixed(2)]})]},ce)})})]})]}),s.jsx("div",{className:"bg-transparent rounded-[10px] p-1 mt-0.5 shadow-2xl border border-[#242528] mx-[-6px]",children:s.jsxs("div",{className:"flex gap-[9px] h-[84px]",children:[s.jsxs("div",{className:"flex-[1.4] flex flex-col gap-1",children:[s.jsxs("div",{className:"flex-[1.3] bg-[#242528] rounded-tl-[10px] rounded-tr-[10px] rounded-bl-[5px] rounded-br-[5px] flex items-center justify-between px-4 shadow-sm border border-white/[0.03]",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("input",{type:"text",inputMode:"decimal",value:p,onChange:I=>x(I.target.value),onBlur:I=>{const ce=parseFloat(I.target.value)||10;x(Math.max(10,Math.min(2e3,ce)).toFixed(1))},className:"bg-transparent text-white font-black text-lg tracking-tight outline-none w-20"}),s.jsx("span",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-wider",children:"EGP"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>{B(),x(I=>Math.max(10,Number(I)-10).toFixed(1))},className:"text-zinc-400 hover:text-white transition-colors active:scale-90",children:s.jsx("i",{className:"fas fa-minus text-xs"})}),s.jsx("button",{onClick:()=>{B(),x(I=>Math.min(2e3,Number(I)+10).toFixed(1))},className:"text-zinc-400 hover:text-white transition-colors active:scale-90",children:s.jsx("i",{className:"fas fa-plus text-xs"})})]})]}),s.jsxs("div",{className:"flex-[0.7] flex gap-1",children:[s.jsx("button",{onClick:()=>{B(),x(I=>Math.max(10,Math.floor(Number(I)/2)).toFixed(1))},className:"flex-1 bg-[#242528] rounded-tl-[5px] rounded-tr-[5px] rounded-bl-[10px] rounded-br-[10px] text-zinc-400 font-black text-xs uppercase active:scale-95 transition-all shadow-sm border border-white/[0.03]",children:"/2"}),s.jsx("button",{onClick:()=>{B(),x(I=>Math.min(2e3,Number(I)*2).toFixed(1))},className:"flex-1 bg-[#242528] rounded-tl-[5px] rounded-tr-[5px] rounded-bl-[10px] rounded-br-[10px] text-zinc-400 font-black text-xs uppercase active:scale-95 transition-all shadow-sm border border-white/[0.03]",children:"x2"})]})]}),s.jsxs("button",{onClick:Ie,disabled:O==="GAMEOVER"||O==="CASHED_OUT",className:`flex-1 h-full rounded-xl flex flex-col items-center justify-center gap-0.5 transition-all active:scale-[0.97] disabled:opacity-50 shadow-lg ${O==="PLAYING"?"bg-red-600 animate-pulse-btn":"bg-[#007aff]"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white font-black text-xl tracking-tighter uppercase",children:O==="PLAYING"?"Take":"Bet"}),s.jsx("i",{className:"fas fa-star text-white text-lg"})]}),O==="PLAYING"&&s.jsx("span",{className:"text-white/80 text-[10px] font-black tabular-nums",children:(Number(p)*Ee).toFixed(2)})]})]})}),s.jsxs("div",{className:"bg-transparent border border-[#242528] rounded-[10px] p-3 space-y-2 mt-0.5 mx-[-6px]",children:[s.jsx("span",{className:"text-[#9ea0a3] text-[12px] font-medium block",children:"Number of bombs"}),s.jsx("div",{className:"bg-[#1a1b1e] rounded-xl p-1 flex items-center",children:[2,3,5,7].map(I=>s.jsx("button",{onClick:()=>{B(),w(I)},disabled:O==="PLAYING",className:`flex-1 h-9 rounded-lg text-sm font-bold transition-all ${v===I?"bg-[#2e2e32] text-white shadow-md":"text-zinc-500"}`,children:I},I))})]}),s.jsxs("div",{className:"pt-6 pb-24 space-y-4",children:[s.jsx("h3",{className:"text-white font-bold text-lg px-1",children:"Live Bets"}),s.jsxs("div",{className:"bg-[#1a1c1e] rounded-xl border border-white/5 overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"grid grid-cols-3 p-1.5 gap-2 bg-[#0d0f0f]/50",children:["live","my","top"].map(I=>s.jsx("button",{onClick:()=>{B(),ie(I)},className:`py-2 text-[12px] font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${Ne===I?"bg-[#007aff] text-white shadow-lg":"bg-[#1a1c1e]/40 text-zinc-500 hover:text-white"}`,children:I==="live"?` Live | ${150+_.length}`:I.toUpperCase()},I))}),s.jsxs("div",{className:"px-5 py-4 border-b border-white/5 grid grid-cols-3",children:[s.jsx("span",{className:"text-zinc-600 text-[10px] font-medium uppercase tracking-tight",children:"Name / Bet EGP"}),s.jsx("span",{className:"text-zinc-600 text-[10px] font-medium uppercase tracking-tight text-center",children:"Multiplier"}),s.jsx("span",{className:"text-zinc-600 text-[10px] font-medium uppercase tracking-tight text-right",children:"Win EGP"})]}),s.jsx("div",{className:"min-h-[200px]",children:Z.length>0?s.jsx("div",{className:"divide-y divide-white/5",children:Z.map(I=>s.jsxs("div",{className:"grid grid-cols-3 px-5 py-4 items-center animate-in slide-in-from-bottom-2 duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-inner ${I.username==="You"?"bg-[#007aff]/20 border border-[#007aff]/30":"bg-zinc-800"}`,children:I.username.charAt(0)}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("span",{className:`font-bold text-xs truncate ${I.username==="You"?"text-[#007aff]":"text-white"}`,children:I.username}),s.jsx("span",{className:"text-sm font-bold",children:ae(I.bet)})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("span",{className:`text-xs font-bold ${I.multiplier?"text-[#007aff]":"text-zinc-500"}`,children:I.multiplier?`${I.multiplier.toFixed(2)}`:"--"})}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-xs font-bold ${I.win?"text-emerald-400":"text-zinc-500"}`,children:I.win?I.win.toFixed(2):"--"})})]},I.id))}):s.jsxs("div",{className:"min-h-[200px] flex flex-col items-center justify-center p-8 opacity-20",children:[s.jsx("i",{className:"fas fa-ghost text-4xl mb-2"}),s.jsx("div",{className:"text-center tracking-[0.5em] text-[10px] font-black text-zinc-600 uppercase",children:"No data found"})]})})]})]}),xe&&s.jsx("div",{className:"fixed bottom-6 right-6 z-[100] animate-in fade-in slide-in-from-bottom-4 duration-300",children:s.jsxs("button",{onClick:Ue,className:"h-9 px-4 bg-[#007aff] rounded-lg flex items-center justify-center gap-2 shadow-[0_8px_30px_rgba(0,122,255,0.4)] active:scale-95 transition-all text-white font-bold text-[10px] tracking-tight",children:["To the game ",s.jsx("i",{className:"fas fa-chevron-up text-[8px]"})]})})]}),s.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; -webkit-backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        @keyframes active-odd { 
          0%, 100% { border-color: rgba(59,130,246,0.8); box-shadow: 0 0 15px rgba(59,130,246,0.5); }
          50% { border-color: rgba(59,130,246,1); box-shadow: 0 0 25px rgba(59,130,246,0.8); }
        }
        .animate-active-odd { animation: active-odd 1.5s ease-in-out infinite; }
        @keyframes pulse-btn { 0%, 100% { opacity: 1; } 50% { opacity: 0.9; transform: scale(0.98); } }
        .animate-pulse-btn { animation: pulse-btn 1s infinite ease-in-out; }
        @keyframes reveal-item { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .animate-reveal-item { animation: reveal-item 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        @keyframes pulse-bomb { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.8; filter: brightness(1.3); } }
        .animate-pulse-bomb { animation: pulse-bomb 0.8s infinite ease-in-out; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
      `})]})},UE=({username:i,onClose:t,volume:a,onVolumeChange:l})=>{const[c,u]=b.useState("main");return s.jsx("div",{className:"absolute right-0 top-full mt-2 z-[200] w-[280px] animate-in fade-in slide-in-from-top-2 duration-300 origin-top-right",children:s.jsxs("div",{className:"bg-[#1a1c1e] rounded-[2rem] border border-white/10 p-6 shadow-[0_20px_60px_rgba(0,0,0,0.8)] backdrop-blur-2xl overflow-hidden",children:[c==="main"&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-white font-black uppercase text-sm italic tracking-tighter",children:"Settings"}),s.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full animate-pulse shadow-[0_0_8px_#ef4444]"})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"bg-[#121417] rounded-xl p-3 border border-white/5 shadow-inner",children:[s.jsx("label",{className:"text-[7px] font-black text-zinc-600 uppercase tracking-[0.2em] block mb-0.5",children:"Active Nickname"}),s.jsx("div",{className:"text-white font-black text-xs tracking-tight truncate",children:i||"User"})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("button",{onClick:()=>u("limits"),className:"w-full bg-[#2a2f35] rounded-xl py-3 px-4 flex items-center justify-between text-white font-black text-[10px] border border-white/5 active:scale-95 transition-all shadow-lg group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("i",{className:"fas fa-bullseye text-[10px] text-zinc-400 group-hover:text-emerald-400 transition-colors"}),s.jsx("span",{className:"tracking-tighter uppercase",children:"Limits"})]}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]})}),s.jsxs("div",{className:"flex items-center gap-3 px-1 pt-1",children:[s.jsx("i",{className:`fas ${a===0?"fa-volume-mute":"fa-volume-up"} text-zinc-600 text-xs w-4`}),s.jsx("div",{className:"flex-1 relative flex items-center group/slider",children:s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:a,onChange:f=>l(parseFloat(f.target.value)),className:"w-full h-1.5 bg-zinc-900 rounded-full appearance-none cursor-pointer accent-red-600"})}),s.jsxs("span",{className:"text-[8px] font-black text-zinc-500 tracking-tighter w-6 text-right",children:[Math.round(a*100),"%"]})]})]})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-white/5 text-center",children:s.jsx("p",{className:"text-[6px] font-black text-zinc-800 uppercase tracking-[0.4em]",children:"BETREX CORE SECURE UI"})})]})})},FE=({user:i,onBack:t,lang:a,onDepositClick:l,onAuthRequired:c})=>{const[u,f]=b.useState(20),[m,p]=b.useState(0),[x,v]=b.useState(25),[w,N]=b.useState(14),[k,M]=b.useState({show:!1,message:"",type:"info"}),[L,O]=b.useState(null),[D,W]=b.useState(0),[te,he]=b.useState(!1),[pe,Ne]=b.useState(.85),[ie,P]=b.useState(null),ue=b.useRef(null),xe=b.useRef([]),se=b.useRef([]),je=b.useRef(null),we=b.useRef(null),Ce=b.useRef([]),X=b.useRef(new Audio("https://cdn.pixabay.com/audio/2022/03/15/audio_73024c0840.mp3")),S=b.useRef(new Audio("https://cdn.pixabay.com/audio/2022/03/10/audio_c330c6a86e.mp3")),$=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3")),H=7.5,V=3.2,q=400,_=500,T=15,z=q/T,G={green:[18,3.2,1.6,1.3,1.2,1.1,1,.5,1,1.1,1.2,1.3,1.6,3.2,18],yellow:[18,3.2,1.6,1.3,1.2,1.1,1,.5,1,1.1,1.2,1.3,1.6,3.2,18],red:[18,3.2,1.6,1.3,1.2,1.1,1,.5,1,1.1,1.2,1.3,1.6,3.2,18]},ne=C=>{C.current&&(C.current.currentTime=0,C.current.volume=pe,C.current.play().catch(()=>{}))};b.useEffect(()=>{const C=K=>{we.current&&!we.current.contains(K.target)&&he(!1)};return te&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[te]),b.useEffect(()=>{const C=["#00FF88","#FFCC00","#FF3366"],K=[];for(let fe=0;fe<12;fe++)K.push({x:(Math.random()-.5)*60,y:Math.random()*30+5,color:C[Math.floor(Math.random()*C.length)]});Ce.current=K;const Ee=[],ge=w,Te=(q-20)/(ge+1),Ue=(_-220)/ge;for(let fe=0;fe<ge;fe++){const Ie=fe+3,me=(q-(Ie-1)*Te)/2;for(let ae=0;ae<Ie;ae++)Ee.push({x:me+ae*Te,y:100+fe*Ue,vibrateX:0,vibrateY:0,hitTime:0,phase:Math.random()*Math.PI*2})}se.current=Ee},[w]),b.useEffect(()=>{i&&(lt(ve(ye,`User/${i.uid}`),K=>{const Ee=K.val();p((Ee==null?void 0:Ee.balance)||0),P(Ee)}),lt(ve(ye,"Luck/plinko"),K=>{K.exists()&&v(Number(K.val()))}));const C=()=>{const Ee=.001388888888888889;for(let ge=0;ge<12;ge++)A(Ee);ee(),je.current=requestAnimationFrame(C)};return je.current=requestAnimationFrame(C),()=>{je.current&&cancelAnimationFrame(je.current)}},[i,w,m,D]);const A=C=>{const Te=H,Ge=V,Ue=100,fe=se.current.length>0?se.current[se.current.length-1].y:_-180,Ie=_-100;xe.current.forEach((me,ae)=>{if(Math.random()>.6&&(me.history.push({x:me.x,y:me.y}),me.history.length>10&&me.history.shift()),me.vy+=.8*C,me.vx*=.999,me.vy*=.999,me.x+=me.vx,me.y+=me.vy,me.y>=Ue-10&&me.y<=fe+20){const Z=(me.y-Ue)/(fe-Ue),I=3,ce=w+3,ke=I+(ce-I)*Z,Re=(q-20)/(w+1),Ae=(ke-1)*Re,Oe=(q-Ae)/2,Ve=Oe+Ae;me.x<Oe+Te?(me.x=Oe+Te,me.vx=Math.abs(me.vx)*.2+.1):me.x>Ve-Te&&(me.x=Ve-Te,me.vx=-Math.abs(me.vx)*.2-.1)}if(se.current.forEach(Z=>{const I=me.x-Z.x,ce=me.y-Z.y,ke=I*I+ce*ce,Re=Te+Ge;if(ke<Re*Re){const Ae=Math.sqrt(ke),Oe=I/Ae,Ve=ce/Ae,it=me.vx*Oe+me.vy*Ve;if(it<0){const Nt=-1.08*it;me.vx+=Nt*Oe,me.vy+=Nt*Ve;const rt=-Ve,Ye=Oe,kt=me.vx*rt+me.vy*Ye;me.vx-=kt*.3*rt,me.vy-=kt*.3*Ye;const mt=(Math.random()-.5)*(1.1-x/100)*.25;me.vx+=mt,Z.hitTime=Date.now(),Z.vibrateX=-Oe*6,Z.vibrateY=-Ve*6,ne(S)}const He=Re-Ae;me.x+=Oe*(He+.05),me.y+=Ve*(He+.05)}}),me.y>fe+10){const I=(Math.floor(me.x/z)+.5)*z;me.vx+=(I-me.x)*.06,me.vx*=.94}if(me.y>Ie){const Z=Math.max(0,Math.min(T-1,Math.floor(me.x/z)));O({idx:Z,color:me.color}),setTimeout(()=>O(null),300),Q(me,Z),xe.current.splice(ae,1),ne($)}}),se.current.forEach(me=>{me.vibrateX*=.82,me.vibrateY*=.82})},Q=async(C,K)=>{const ge={"#00FF88":"green","#FFCC00":"yellow","#FF3366":"red"}[C.color]||"green",Te=G[ge][K],Ge=u*Te,Ue=(m||0)+Ge;await Xe(ve(ye,`User/${i==null?void 0:i.uid}`),{balance:Ue})},_e=C=>{const K=q/2,Ee=90,ge=35,Te=55,Ge=Date.now(),Ue=Ge-D,fe=Ue<400;if(C.save(),Ce.current.forEach((me,ae)=>{const Z=fe?Math.sin(Ge/50+ae)*2:0,I=K+me.x+(fe?(Math.random()-.5)*2:0),ce=me.y+Z;C.beginPath();const ke=C.createRadialGradient(I-2,ce-2,1,I,ce,6);ke.addColorStop(0,"#fff"),ke.addColorStop(.3,me.color),ke.addColorStop(1,"#000"),C.fillStyle=ke,C.arc(I,ce,6,0,Math.PI*2),C.fill()}),fe){const me=Math.sin(Ue/400*Math.PI);C.shadowBlur=20*me,C.shadowColor="rgba(239, 68, 68, 0.4)"}C.beginPath(),C.moveTo(K-Ee/2,0),C.lineTo(K+Ee/2,0),C.lineTo(K+ge/2,Te),C.lineTo(K-ge/2,Te),C.closePath();const Ie=C.createLinearGradient(K,0,K,Te);Ie.addColorStop(0,"rgba(30, 41, 59, 0.7)"),Ie.addColorStop(1,"rgba(15, 23, 42, 0.9)"),C.fillStyle=Ie,C.fill(),C.strokeStyle="rgba(255, 255, 255, 0.1)",C.lineWidth=2,C.stroke(),C.beginPath(),C.moveTo(K-ge/2-3,Te-5),C.lineTo(K+ge/2+3,Te-5),C.strokeStyle=fe?"#ef4444":"#334155",C.lineWidth=3,C.stroke(),C.fillStyle="rgba(255, 255, 255, 0.2)",C.font="bold 8px Cairo",C.textAlign="center",C.fillText("BETREX SYSTEM",K,Te/2+10),C.restore()},ee=()=>{const C=ue.current;if(!C)return;const K=C.getContext("2d");if(!K)return;K.clearRect(0,0,C.width,C.height);const Ee=Date.now();se.current.forEach(ge=>{const Te=ge.x+ge.vibrateX,Ge=ge.y+ge.vibrateY,Ue=Ee-ge.hitTime,fe=1+Math.sin(Ee/800+ge.phase)*.1;let Ie=fe,me=.15,ae="#1e293b";if(Ue<400){const I=Ue/400;Ie=fe+Math.sin(I*Math.PI)*.9,me=.9*(1-I),K.save(),K.beginPath();const ce=V*(1+I*8);K.arc(Te,Ge,ce,0,Math.PI*2),K.strokeStyle=`rgba(255, 255, 255, ${.4*(1-I)})`,K.lineWidth=2*(1-I),K.stroke(),K.restore(),I<.2&&(ae="#FFFFEE")}K.save(),K.shadowBlur=Ie*15,K.shadowColor=`rgba(255, 255, 255, ${me})`;const Z=K.createRadialGradient(Te-V*.2,Ge-V*.2,1,Te,Ge,V);Z.addColorStop(0,Ue<80?"#FFFFFF":"#ffffff"),Z.addColorStop(1,ae),K.fillStyle=Z,K.beginPath(),K.arc(Te,Ge,V*Ie,0,Math.PI*2),K.fill(),K.restore()}),xe.current.forEach(ge=>{ge.history.forEach((Ge,Ue)=>{const fe=Ue/ge.history.length,Ie=fe*.5;K.beginPath(),K.fillStyle=ge.glowColor.replace("0.6",Ie.toString()),K.arc(Ge.x,Ge.y,ge.radius*(.4+fe*.6),0,Math.PI*2),K.fill()}),K.save(),K.shadowBlur=35,K.shadowColor=ge.glowColor;const Te=K.createRadialGradient(ge.x-ge.radius*.3,ge.y-ge.radius*.3,ge.radius*.1,ge.x,ge.y,ge.radius);Te.addColorStop(0,"white"),Te.addColorStop(.3,ge.color),Te.addColorStop(1,ge.glowColor.replace("0.6","1")),K.fillStyle=Te,K.beginPath(),K.arc(ge.x,ge.y,ge.radius,0,Math.PI*2),K.fill(),K.beginPath(),K.fillStyle="rgba(255, 255, 255, 0.4)",K.arc(ge.x-ge.radius*.25,ge.y-ge.radius*.25,ge.radius*.3,0,Math.PI*2),K.fill(),K.restore()}),_e(K)},B=async C=>{if(!i){c==null||c();return}if(m<u){M({show:!0,message:a==="ar"?"  ":"Insufficient Balance",type:"error"});return}await Xe(ve(ye,`User/${i==null?void 0:i.uid}`),{balance:(m||0)-u}),W(Date.now()),ne(X);const K={green:{color:"#00FF88",glow:"rgba(0, 255, 136, 0.8)"},yellow:{color:"#FFCC00",glow:"rgba(255, 204, 0, 0.8)"},red:{color:"#FF3366",glow:"rgba(255, 51, 102, 0.8)"}};xe.current.push({x:q/2+(Math.random()*4-2),y:35,vx:(Math.random()-.5)*.2,vy:.3,radius:H,color:K[C].color,glowColor:K[C].glow,history:[]})};return s.jsxs("div",{className:"min-h-screen bg-[#0d0f11] text-white flex flex-col font-['Cairo'] select-none overflow-y-auto pb-20",children:[s.jsx(Yt,{isVisible:k.show,message:k.message,type:k.type,onClose:()=>M({...k,show:!1})}),s.jsxs("header",{className:"sticky top-0 z-50 px-4 py-3 bg-[#0d0f11]/80 backdrop-blur-2xl border-b border-white/5 flex items-center justify-between shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:t,className:"w-10 h-10 bg-zinc-900/80 rounded-2xl flex items-center justify-center border border-white/10 active:scale-90 transition-all hover:bg-zinc-800 shadow-lg",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400 text-xs"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_#10b981]"}),s.jsx("span",{className:"text-[8px] font-black text-zinc-600 uppercase tracking-widest leading-none",children:"Secure Node"})]}),s.jsx("h1",{className:"text-lg font-black tracking-tight text-white uppercase leading-none mt-0.5",children:"Plinko AI"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"bg-zinc-900/60 pl-4 pr-1 py-1 rounded-2xl border border-white/10 shadow-inner flex items-center group cursor-default",children:[s.jsxs("div",{className:"flex flex-col items-start mr-3",children:[s.jsx("span",{className:"text-[6px] font-black text-zinc-600 uppercase tracking-[0.2em] leading-none mb-0.5",children:"Encrypted Bal"}),s.jsxs("span",{className:"text-white font-black text-[13px] leading-none tracking-tight",children:["$",m.toFixed(2)]})]}),s.jsx("button",{onClick:l,className:"w-8 h-8 bg-red-600 rounded-xl flex items-center justify-center text-white shadow-lg active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-plus text-[10px]"})})]}),s.jsxs("div",{className:"relative",ref:we,children:[s.jsx("button",{onClick:()=>he(!te),className:`w-10 h-10 bg-zinc-900/40 rounded-xl flex items-center justify-center text-zinc-500 hover:text-white transition-all border border-white/5 active:scale-90 ${te?"bg-zinc-800 text-white border-red-500/30":""}`,children:s.jsx("i",{className:`fas fa-cog text-xs transition-transform duration-500 ${te?"rotate-90 text-red-500":""}`})}),te&&s.jsx(UE,{username:ie==null?void 0:ie.username,volume:pe,onVolumeChange:Ne,onClose:()=>he(!1)})]})]})]}),s.jsx("div",{className:"flex-1 relative flex flex-col items-center justify-center px-4 mt-4",children:s.jsxs("div",{className:"relative w-full max-w-[420px] aspect-[4/5] flex flex-col items-center",children:[s.jsx("canvas",{ref:ue,width:q,height:_,className:"w-full h-full"}),s.jsx("div",{className:"absolute bottom-[20px] left-0 right-0 space-y-1",children:["green","yellow","red"].map(C=>s.jsx("div",{className:"flex w-full h-[24px] gap-[2px] px-1",children:G[C].map((K,Ee)=>{const ge=(L==null?void 0:L.idx)===Ee&&(L==null?void 0:L.color)===(C==="green"?"#00FF88":C==="yellow"?"#FFCC00":"#FF3366"),Te=C==="green"?"#00FF88":C==="yellow"?"#FFCC00":"#FF3366";return s.jsx("div",{className:`flex-1 rounded-sm flex items-center justify-center transition-all duration-300 ${ge?"scale-125 brightness-150 z-10":"scale-100"}`,style:{backgroundColor:Te,boxShadow:ge?`0 0 15px ${Te}`:"none"},children:s.jsx("span",{className:`text-[7px] font-black ${C==="red"?"text-white":"text-black"}`,children:K})},Ee)})},C))})]})}),s.jsxs("div",{className:"bg-[#0b1016] rounded-t-[3.5rem] p-8 pb-10 border-t border-white/5 space-y-8 z-20 shadow-[0_-20px_60px_rgba(0,0,0,0.5)] max-w-[480px] mx-auto w-full",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsx("span",{className:"text-[10px] font-black text-zinc-600 uppercase tracking-[0.3em]",children:"BET AMOUNT"}),s.jsx("span",{className:"text-red-500 text-[10px] font-black uppercase tracking-widest",children:"MIN: 20 EGP"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center bg-[#05070a] rounded-2xl p-1 border border-white/5 flex-1 shadow-inner",children:[s.jsx("button",{onClick:()=>f(Math.max(20,u-10)),className:"w-12 h-12 flex items-center justify-center text-zinc-500 active:scale-90 transition-all",children:s.jsx("i",{className:"fas fa-minus text-sm"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("span",{className:"text-white font-black text-xl",children:u})}),s.jsx("button",{onClick:()=>f(u+10),className:"w-12 h-12 flex items-center justify-center text-zinc-500 active:scale-90 transition-all",children:s.jsx("i",{className:"fas fa-plus text-sm"})})]})})]}),s.jsx("div",{className:"flex gap-3",children:["green","yellow","red"].map(C=>s.jsx("button",{onClick:()=>B(C),className:`flex-1 font-black py-5 rounded-2xl text-xs uppercase tracking-[0.2em] shadow-lg active:translate-y-1 transition-all ${C==="green"?"bg-[#00FF88] text-black shadow-[#00a85a]/40":C==="yellow"?"bg-[#FFCC00] text-black shadow-[#b38f00]/40":"bg-red-600 text-white shadow-red-900/40"}`,children:C.toUpperCase()},C))})]}),s.jsx("div",{className:"mt-8 text-center pb-12 opacity-10",children:s.jsx("p",{className:"text-[10px] font-black tracking-[0.8em] text-zinc-500 uppercase",children:"BETREX AI SECURE GAMING"})})]})},mb={14:[5,3,2.5,2,1.8,1.5,1,.5,0,.5,1,1.5,1.8,2,2.5,3,5]},PE=({user:i,onBack:t,lang:a,onAuthRequired:l})=>{const[c,u]=b.useState(0),[f,m]=b.useState(20),p=14,[x,v]=b.useState({show:!1,message:"",type:"info"}),w=b.useRef(null),N=b.useRef([]),k=b.useRef([]),M=b.useRef(null),L=3.5,O=11,D=600,W=700,te=80,he=35,pe=36,Ne=te+p*pe,ie=Ne+55;b.useEffect(()=>{if(i){const Ce=ve(ye,`User/${i.uid}/balance`);return lt(Ce,X=>u(X.val()||0))}},[i]),b.useEffect(()=>{const Ce=[];for(let X=0;X<=p;X++){const S=X+3,$=(D-(S-1)*he)/2;for(let H=0;H<S;H++)Ce.push({x:$+H*he,y:te+X*pe,lastHit:0,lastHitColor:"#ffffff"})}k.current=Ce,N.current=[]},[p]);const P=()=>{const X=Date.now();N.current.forEach((S,$)=>{S.history.push({x:S.x,y:S.y}),S.history.length>12&&S.history.shift(),S.vy+=.16,S.x+=S.vx,S.y+=S.vy;const H=(S.y-te)/pe;if(H>=0&&H<=p+.5){const q=(Math.floor(H)+3-1)*he,_=(D-q)/2-O,T=(D+q)/2+O;S.x<_?(S.x=_,S.vx=Math.abs(S.vx)*.5+.3):S.x>T&&(S.x=T,S.vx=-Math.abs(S.vx)*.5-.3)}if(S.y<=Ne+O&&k.current.forEach(V=>{const q=S.x-V.x,_=S.y-V.y,T=Math.sqrt(q*q+_*_),z=O+L;if(T<z){const G=Math.atan2(_,q);S.x=V.x+Math.cos(G)*z,S.y=V.y+Math.sin(G)*z;const ne=Math.sqrt(S.vx*S.vx+S.vy*S.vy);S.vx=Math.cos(G)*ne*.6+(Math.random()-.5)*1.2,S.vy=Math.abs(Math.sin(G)*ne*.4)+.5,S.vy<.8&&(S.vy=.8),V.lastHit=X,V.lastHitColor=S.color}}),S.y>Ne){const V=p+3,q=(D-(V-1)*he)/2;let _=Math.floor((S.x-q+he/2)/he);_=Math.max(0,Math.min(V-2,_));const T=q+_*he,z=.25;S.x+=(T-S.x)*z,S.vx*=.85}S.y>=ie&&(ue(S),N.current.splice($,1))})},ue=async Ce=>{const X=p+3,S=(D-(X-1)*he)/2;let $=Math.floor((Ce.x-S+he/2)/he);const H=mb[14];$=Math.max(0,Math.min(H.length-1,$));const V=H[$],q=f*V;if(i){const _=await zt(ve(ye,`User/${i.uid}/balance`));await Xe(ve(ye,`User/${i.uid}`),{balance:(_.val()||0)+q})}},xe=()=>{const Ce=w.current;if(!Ce)return;const X=Ce.getContext("2d");if(!X)return;X.clearRect(0,0,D,W);const S=Date.now();X.save(),X.beginPath(),X.fillStyle="rgba(0, 0, 0, 0.9)",X.shadowBlur=15,X.shadowColor="rgba(0,0,0,0.8)",X.arc(D/2,40,24,0,Math.PI*2),X.fill(),X.strokeStyle="rgba(255, 255, 255, 0.2)",X.lineWidth=3,X.stroke(),X.beginPath(),X.arc(D/2,40,20,0,Math.PI*2),X.strokeStyle="rgba(0, 0, 0, 0.5)",X.stroke(),X.restore(),k.current.forEach(q=>{const _=S-q.lastHit;let T=L;if(X.save(),_<400){const z=_/400;T=L+Math.sin(z*Math.PI)*6,X.shadowBlur=30*(1-z),X.shadowColor=q.lastHitColor,X.fillStyle=q.lastHitColor}else X.fillStyle="#ffffff",X.shadowBlur=10,X.shadowColor="rgba(255, 255, 255, 0.3)";X.beginPath(),X.arc(q.x,q.y,T,0,Math.PI*2),X.fill(),_>=400&&(X.beginPath(),X.fillStyle="rgba(0, 0, 0, 0.1)",X.arc(q.x+1,q.y+1,T*.8,0,Math.PI*2),X.fill(),X.beginPath(),X.fillStyle="#ffffff",X.arc(q.x-1,q.y-1,T*.4,0,Math.PI*2),X.fill()),X.restore()}),N.current.forEach(q=>{X.save(),q.history.forEach((_,T)=>{const z=T/q.history.length*.4,G=T/q.history.length*q.radius;X.beginPath(),X.fillStyle=q.color,X.globalAlpha=z,X.arc(_.x,_.y,G,0,Math.PI*2),X.fill()}),X.restore(),X.save(),X.shadowBlur=15,X.shadowColor=q.color,X.fillStyle=q.color,X.beginPath(),X.arc(q.x,q.y,q.radius,0,Math.PI*2),X.fill(),X.fillStyle="rgba(255,255,255,0.4)",X.beginPath(),X.arc(q.x-4,q.y-4,4,0,Math.PI*2),X.fill(),X.restore()});const $=p+3,H=(D-($-1)*he)/2;mb[14].forEach((q,_)=>{const T=H+_*he,z=he*.9,G=34;let ne="#ffcc00";q>=1&&(ne="#a3e635"),q>2&&(ne="#ef4444"),q<1&&(ne="#fbbf24"),X.fillStyle=ne,X.beginPath();const A=T-z/2,Q=ie,_e=z,ee=G,B=6;X.moveTo(A+B,Q),X.lineTo(A+_e-B,Q),X.quadraticCurveTo(A+_e,Q,A+_e,Q+B),X.lineTo(A+_e,Q+ee-B),X.quadraticCurveTo(A+_e,Q+ee,A+_e-B,Q+ee),X.lineTo(A+B,Q+ee),X.quadraticCurveTo(A,Q+ee,A,Q+ee-B),X.lineTo(A,Q+B),X.quadraticCurveTo(A,Q,A+B,Q),X.closePath(),X.fill(),X.fillStyle="rgba(255,255,255,0.2)",X.fillRect(T-z/2,ie,z,4),X.strokeStyle="rgba(0,0,0,0.2)",X.lineWidth=1,X.stroke(),X.fillStyle=q>2?"white":"black",X.font=`bold ${Math.max(10,Math.floor(he*.45))}px Orbitron`,X.textAlign="center",X.fillText(`${q}`,T,ie+22)})},se=()=>{P(),xe(),M.current=requestAnimationFrame(se)};b.useEffect(()=>(M.current=requestAnimationFrame(se),()=>{M.current&&cancelAnimationFrame(M.current)}),[p,f,c]);const je=async()=>{if(!i){l==null||l();return}if(c<f){v({show:!0,message:a==="ar"?"  ":"Insufficient Balance",type:"error"});return}await Xe(ve(ye,`User/${i.uid}`),{balance:c-f});const Ce=["#ff0080","#00d4ff","#ffcc00"],X=Ce[Math.floor(Math.random()*Ce.length)];N.current.push({x:D/2+(Math.random()-.5)*10,y:40,vx:(Math.random()-.5)*1.5,vy:.8,radius:O,color:X,history:[]})},we={ar:{play:"",bet:"",min:"",max:""},en:{play:"DROP",bet:"BET",min:"MIN",max:"MAX"}}[a];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#112e4f] via-[#163b5e] to-[#1a4a6d] flex flex-col font-['Cairo'] relative overflow-hidden",dir:"ltr",children:[s.jsx("div",{className:"absolute inset-0 opacity-[0.1] pointer-events-none",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/pinstriped-suit.png")'}}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_40%,rgba(0,150,255,0.05),transparent_70%)] pointer-events-none"}),s.jsx(Yt,{isVisible:x.show,message:x.message,type:x.type,onClose:()=>v({...x,show:!1})}),s.jsxs("header",{className:"px-5 py-4 flex items-center justify-between z-50 shrink-0 bg-black/20 backdrop-blur-md",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:t,className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center text-white active:scale-90 transition-all border border-white/5",children:s.jsx("i",{className:"fas fa-chevron-left"})}),s.jsx("span",{className:"text-white font-black uppercase italic tracking-tighter text-xl",children:"PLINKO G"})]}),s.jsx("div",{className:"bg-black/40 px-4 py-2 rounded-xl flex items-center gap-3 border border-white/10",children:s.jsxs("span",{className:"text-emerald-400 font-black tabular-nums",children:["EGP ",c.toFixed(2)]})})]}),s.jsx("div",{className:"flex-1 relative flex flex-col items-center justify-center py-4",children:s.jsx("div",{className:"relative w-full max-w-[600px] aspect-[6/7]",children:s.jsx("canvas",{ref:w,width:D,height:W,className:"w-full h-full"})})}),s.jsx("div",{className:"bg-black/80 backdrop-blur-2xl p-6 pb-12 border-t border-white/10 z-[100] flex flex-col items-center shrink-0",children:s.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 flex items-center justify-between border border-white/5",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-zinc-500 text-[8px] font-black uppercase tracking-widest mb-1",children:we.bet}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white font-black text-xl",children:f}),s.jsx("span",{className:"text-zinc-700 text-[10px] font-black uppercase",children:"EGP"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>m(Math.max(20,f-10)),className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center active:scale-90 transition-all",children:s.jsx("i",{className:"fas fa-minus text-zinc-400"})}),s.jsx("button",{onClick:()=>m(f+10),className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center active:scale-90 transition-all",children:s.jsx("i",{className:"fas fa-plus text-zinc-400"})})]})]}),s.jsx("button",{onClick:je,className:"w-full h-16 bg-gradient-to-b from-[#1da1f2] to-[#0d8cd9] rounded-2xl text-white font-black text-2xl uppercase tracking-widest shadow-[0_8px_0_#065b8c] active:translate-y-1 active:shadow-[0_4px_0_#065b8c] transition-all",children:we.play})]})})]})},BE=({user:i,onBack:t,lang:a,onAuthRequired:l})=>{const[c,u]=b.useState(0),[f,m]=b.useState(40),[p,x]=b.useState(8),[v,w]=b.useState("WAITING"),[N,k]=b.useState([]),[M,L]=b.useState({show:!1,message:"",type:"info"}),[O,D]=b.useState(1),[W,te]=b.useState(1),[he,pe]=b.useState(20),[Ne,ie]=b.useState(20),[P,ue]=b.useState(!1),[xe,se]=b.useState(!1),[je,we]=b.useState(!1),[Ce,X]=b.useState(!1),[S,$]=b.useState(!1),[H,V]=b.useState(!1),[q,_]=b.useState(!1),[T,z]=b.useState(!1),[G,ne]=b.useState("2.00"),[A,Q]=b.useState("2.00"),_e=b.useRef(v),ee=b.useRef(!1),B=b.useRef(!1),C=b.useRef(!1),K=b.useRef(!1),Ee=b.useRef(!1),ge=b.useRef(!1),Te=b.useRef("racing"),Ge=b.useRef("racing"),Ue=b.useRef(1),fe=b.useRef(1),Ie=b.useRef(null),[me,ae]=b.useState("racing"),[Z,I]=b.useState("racing"),ce="https://i.ibb.co/v61fJ1x8/487b8936ea8ec6610184410d7ec30402-1.jpg",ke="https://i.ibb.co/ZqRDczP/a188b65b5302adf3b24bb086acc7e899-1.webp",Re="https://i.ibb.co/DDyxPKGN/e3266c56fd680c23368f6cef2521b519-1.webp",Ae="https://i.ibb.co/zWNWW5hr/3ea2c160f1cf3454730186448cea8701-1.webp";b.useEffect(()=>{_e.current=v},[v]),b.useEffect(()=>{Ee.current=S,ge.current=H},[S,H]),b.useEffect(()=>{i&&(lt(ve(ye,`User/${i.uid}/balance`),He=>u(He.val()||0)),lt(ve(ye,"Luck/carx"),He=>{He.exists()&&m(Number(He.val()))}))},[i]);const Oe=b.useCallback(async(He,Nt)=>{if(!(_e.current!=="RACING"||!i))if(He===1){if(C.current||!ee.current||Te.current!=="racing")return;const rt=he*Nt;C.current=!0,ee.current=!1,_(!0),ue(!1);const Ye=await zt(ve(ye,`User/${i.uid}/balance`));await Xe(ve(ye,`User/${i.uid}`),{balance:(Ye.val()||0)+rt}),L({show:!0,message:`Blue Win +${rt.toFixed(1)}`,type:"success"})}else{if(K.current||!B.current||Ge.current!=="racing")return;const rt=Ne*Nt;K.current=!0,B.current=!1,z(!0),se(!1);const Ye=await zt(ve(ye,`User/${i.uid}/balance`));await Xe(ve(ye,`User/${i.uid}`),{balance:(Ye.val()||0)+rt}),L({show:!0,message:`Orange Win +${rt.toFixed(1)}`,type:"success"})}},[i,he,Ne]),Ve=b.useCallback(async He=>{if(!i){l==null||l();return}if(He===1&&ee.current||He===2&&B.current)return;if(_e.current!=="WAITING"){He===1?we(!0):X(!0);return}const Nt=He===1?he:Ne,Ye=(await zt(ve(ye,`User/${i.uid}/balance`))).val()||0;if(Ye<Nt){L({show:!0,message:a==="ar"?"  ":"Low Balance",type:"error"}),He===1?$(!1):V(!1);return}await Xe(ve(ye,`User/${i.uid}`),{balance:Ye-Nt}),He===1?(ue(!0),ee.current=!0):(se(!0),B.current=!0)},[i,he,Ne,a,l]),it=b.useCallback(()=>{w("RACING"),Te.current="racing",Ge.current="racing",ae("racing"),I("racing"),D(1),te(1),Ue.current=1,fe.current=1,_(!1),z(!1),C.current=!1,K.current=!1;const He=()=>Math.random()*100<f?2.5+Math.random()*15:1.01+Math.random()*1.8,Nt=He(),rt=He(),Ye=Date.now();Ie.current=setInterval(()=>{const kt=(Date.now()-Ye)/1e3,mt=1*Math.pow(Math.E,.065*kt);if(Te.current==="racing"){if(mt>=Nt)Te.current="busted",ae("busted"),D(Nt),k(Nn=>[{id:Date.now().toString()+"-blue",type:"blue",value:Nt},...Nn].slice(0,30));else if(Ue.current=mt,D(mt),Ee.current&&ee.current&&!C.current){const Nn=parseFloat(G);!isNaN(Nn)&&mt>=Nn&&Oe(1,mt)}}if(Ge.current==="racing"){if(mt>=rt)Ge.current="busted",I("busted"),te(rt),k(Nn=>[{id:Date.now().toString()+"-orange",type:"orange",value:rt},...Nn].slice(0,30));else if(fe.current=mt,te(mt),ge.current&&B.current&&!K.current){const Nn=parseFloat(A);!isNaN(Nn)&&mt>=Nn&&Oe(2,mt)}}Te.current==="busted"&&Ge.current==="busted"&&(clearInterval(Ie.current),w("ENDED"),ee.current=!1,B.current=!1,ue(!1),se(!1),setTimeout(()=>{w("WAITING"),x(8)},3e3))},50)},[f,G,A,Oe]);return b.useEffect(()=>{if(v==="WAITING"){(je||S)&&(we(!1),setTimeout(()=>Ve(1),500)),(Ce||H)&&(X(!1),setTimeout(()=>Ve(2),1e3));const He=setInterval(()=>{x(Nt=>Nt<=1?(clearInterval(He),it(),0):Nt-1)},1e3);return()=>clearInterval(He)}},[v,je,Ce,S,H,Ve,it]),s.jsxs("div",{className:"min-h-screen bg-[#07080a] text-white flex flex-col font-['Cairo'] select-none overflow-y-auto pb-32",dir:"ltr",children:[s.jsx(Yt,{isVisible:M.show,message:M.message,type:M.type,onClose:()=>L({...M,show:!1})}),s.jsxs("header",{className:"px-4 py-4 flex items-center justify-between bg-black/40 backdrop-blur-xl border-b border-white/5 sticky top-0 z-[120]",children:[s.jsx("button",{onClick:t,className:"w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center border border-white/10 active:scale-90 transition-all shadow-lg",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400 text-xs"})}),s.jsx("img",{src:Ae,alt:"CarX",className:"h-10 w-auto object-contain drop-shadow-lg"}),s.jsxs("div",{className:"bg-zinc-900/60 px-3 py-1.5 rounded-xl border border-white/10 flex flex-col items-end",children:[s.jsx("span",{className:"text-[7px] text-zinc-500 font-black uppercase tracking-widest leading-none mb-0.5",children:"Secure Bal"}),s.jsxs("span",{className:"text-white font-black text-xs",children:["$",c.toFixed(1)]})]})]}),s.jsxs("main",{className:"flex-1 max-w-md mx-auto w-full px-4 pt-4 space-y-4 flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar py-2 bg-black px-3 rounded-[10px] border border-white/5 shadow-inner",children:[s.jsx("i",{className:"fas fa-history text-zinc-700 text-[10px] shrink-0"}),N.length>0?N.map(He=>s.jsxs("span",{className:`shrink-0 text-[9px] font-black font-['Cairo'] tabular-nums tracking-tighter px-2 py-0.5 text-white border rounded-[5px] bg-black animate-in fade-in zoom-in duration-300 ${He.type==="blue"?"border-blue-600/50":"border-orange-600/50"}`,children:["x",He.value.toFixed(2)]},He.id)):s.jsx("span",{className:"text-[9px] text-zinc-800 uppercase font-black tracking-widest",children:"No history yet"})]}),s.jsxs("div",{className:"relative aspect-[4/5] bg-[#050505] rounded-[3rem] border border-white/10 overflow-hidden shadow-[0_0_80px_rgba(0,0,0,0.5)] flex perspective-[1500px]",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 w-56 bg-gradient-to-r from-blue-600/70 via-blue-500/10 to-transparent blur-[65px] z-10 animate-pulse-slow"}),s.jsx("div",{className:"absolute inset-y-0 right-0 w-56 bg-gradient-to-l from-orange-600/70 via-orange-500/10 to-transparent blur-[65px] z-10 animate-pulse-slow"}),s.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden",children:s.jsxs("div",{className:`absolute inset-0 bg-repeat-y bg-center ${v==="RACING"?"animate-road-move":""}`,style:{backgroundImage:`
                   repeating-linear-gradient(to bottom, transparent, transparent 100px, rgba(255,255,255,0.9) 100px, rgba(255,255,255,0.9) 160px, transparent 160px),
                   url(${ce})
                 `,backgroundSize:"4px 300px, 100% 40%",backgroundPosition:"center 0, center 0",transform:"rotateX(48deg) scale(1.9) translateY(-10%)",transformOrigin:"bottom center"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black opacity-80"}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.95)_100%)]"})]})}),v==="WAITING"&&s.jsxs("div",{className:"absolute inset-0 z-[60] flex flex-col items-center justify-center bg-black/90 backdrop-blur-md animate-in fade-in",children:[s.jsxs("div",{className:"relative w-24 h-24 flex items-center justify-center mb-6",children:[s.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",viewBox:"0 0 100 100",children:[s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-white/5"}),s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"url(#blueOrangeGrad)",strokeWidth:"6",strokeDasharray:"283",style:{strokeDashoffset:283-p/8*283,transition:"stroke-dashoffset 1s linear"},className:"drop-shadow-[0_0_20px_rgba(59,130,246,0.7)]",strokeLinecap:"round"}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"blueOrangeGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),s.jsx("stop",{offset:"100%",stopColor:"#f97316"})]})})]}),s.jsx("span",{className:"text-4xl font-black text-white drop-shadow-[0_0_20px_rgba(255,255,255,0.4)]",children:p})]}),s.jsx("h3",{className:"text-white font-black text-center uppercase tracking-[0.4em] text-[10px] opacity-70",children:"PREPARING ENGINES"})]}),s.jsxs("div",{className:"flex-1 relative flex flex-col items-center justify-center p-4 z-20 overflow-hidden",children:[s.jsx("div",{className:"absolute top-14 text-center",children:s.jsxs("span",{className:`text-4xl font-black font-['Cairo'] tabular-nums transition-all duration-300 ${me==="racing"?"text-blue-400 drop-shadow-[0_0_40px_rgba(59,130,246,1)]":"text-zinc-800"}`,children:["x",O.toFixed(2)]})}),s.jsx("div",{className:"relative mt-28 h-56 flex items-center justify-center w-full",children:me==="racing"?s.jsx("div",{className:`relative ${v==="RACING"?"animate-car-entrance":""}`,children:s.jsxs("div",{className:"animate-car-sway-smooth",children:[s.jsx("div",{className:"absolute -bottom-2 inset-x-[-25px] h-16 bg-blue-600/90 blur-3xl rounded-[50%] z-0 animate-underglow-pulse"}),s.jsxs("div",{className:"relative z-10",children:[v==="RACING"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-6 h-10 bg-gradient-to-t from-orange-600 via-orange-400 to-transparent blur-[2px] rounded-full animate-backfire-pop z-[-1] origin-top"}),s.jsx("img",{src:ke,className:"w-24 h-auto drop-shadow-[0_30px_50px_rgba(0,0,0,0.95)] relative z-10",alt:""})]})]})}):s.jsxs("div",{className:"flex flex-col items-center animate-in zoom-in duration-400",children:[s.jsx("i",{className:"fas fa-handcuffs text-blue-500 text-3xl mb-3"}),s.jsx("span",{className:"text-blue-500 font-black uppercase text-xl tracking-tighter",children:"BUSTED"})]})})]}),s.jsxs("div",{className:"flex-1 relative flex flex-col items-center justify-center p-4 z-20 overflow-hidden",children:[s.jsx("div",{className:"absolute top-14 text-center",children:s.jsxs("span",{className:`text-4xl font-black font-['Cairo'] tabular-nums transition-all duration-300 ${Z==="racing"?"text-orange-400 drop-shadow-[0_0_40px_rgba(249,115,22,1)]":"text-zinc-800"}`,children:["x",W.toFixed(2)]})}),s.jsx("div",{className:"relative mt-28 h-56 flex items-center justify-center w-full",children:Z==="racing"?s.jsx("div",{className:`relative ${v==="RACING"?"animate-car-entrance":""}`,children:s.jsxs("div",{className:"animate-car-sway-smooth-alt",children:[s.jsx("div",{className:"absolute -bottom-2 inset-x-[-25px] h-16 bg-orange-600/90 blur-3xl rounded-[50%] z-0 animate-underglow-pulse"}),s.jsxs("div",{className:"relative z-10",children:[v==="RACING"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-6 h-10 bg-gradient-to-t from-orange-600 via-yellow-400 to-transparent blur-[2px] rounded-full animate-backfire-pop z-[-1] origin-top"}),s.jsx("img",{src:Re,className:"w-24 h-auto drop-shadow-[0_30px_50px_rgba(0,0,0,0.95)] relative z-10",alt:""})]})]})}):s.jsxs("div",{className:"flex flex-col items-center animate-in zoom-in duration-400",children:[s.jsx("i",{className:"fas fa-handcuffs text-orange-500 text-3xl mb-3"}),s.jsx("span",{className:"text-orange-500 font-black uppercase text-xl tracking-tighter",children:"BUSTED"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[s.jsxs("div",{className:`relative rounded-[2.5rem] p-4 border transition-all duration-300 bg-gradient-to-br from-[#0d121a] to-[#07080a] ${P||je?"border-blue-500 shadow-[0_0_30px_rgba(59,130,246,0.3)]":"border-white/5"}`,children:[s.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between bg-black/40 px-2.5 py-1.5 rounded-xl border border-white/5",children:[s.jsx("span",{className:"text-[8px] font-black text-zinc-500 uppercase",children:"Auto Bet"}),s.jsx("button",{onClick:()=>$(!S),className:`w-8 h-4 rounded-full relative transition-all ${S?"bg-blue-600":"bg-zinc-800"}`,children:s.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${S?"right-0.5":"left-0.5"}`})})]}),S&&s.jsxs("div",{className:"bg-black/40 px-2.5 py-1.5 rounded-xl border border-white/5 flex flex-col gap-1 animate-in slide-in-from-top-1",children:[s.jsx("span",{className:"text-[7px] font-black text-zinc-600 uppercase tracking-widest",children:"Auto Cashout"}),s.jsx("input",{type:"text",value:G,onChange:He=>ne(He.target.value),className:"bg-transparent text-white font-black text-[11px] outline-none border-b border-white/10 w-full text-center",placeholder:"1.10"})]})]}),s.jsxs("div",{className:"bg-zinc-950/80 rounded-2xl p-1 border border-white/10 mb-4 shadow-inner flex items-center overflow-hidden min-h-[52px]",children:[s.jsx("button",{onClick:()=>pe(Math.max(20,he-10)),className:"w-11 h-11 flex items-center justify-center text-zinc-600 active:scale-90 transition-all hover:text-white shrink-0",children:s.jsx("i",{className:"fas fa-minus text-xs"})}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center overflow-hidden px-1",children:[s.jsx("span",{className:"text-[6px] text-zinc-700 font-black uppercase tracking-widest leading-none mb-1",children:"STAKE"}),s.jsxs("span",{className:"text-white font-black text-xs truncate",children:[he.toFixed(1)," $"]})]}),s.jsx("button",{onClick:()=>pe(he+10),className:"w-11 h-11 flex items-center justify-center text-zinc-600 active:scale-90 transition-all hover:text-white shrink-0",children:s.jsx("i",{className:"fas fa-plus text-xs"})})]}),v==="RACING"&&P&&!q&&me==="racing"?s.jsxs("button",{onClick:()=>Oe(1,O),className:"w-full bg-blue-600 h-14 rounded-[1.2rem] font-black flex flex-col items-center justify-center shadow-lg active:scale-95 transition-all",children:[s.jsx("span",{className:"text-[9px] opacity-80 leading-none",children:"CASH OUT"}),s.jsxs("span",{className:"text-xs font-black font-['Cairo'] tabular-nums mt-1",children:[(he*O).toFixed(1)," EGP"]})]}):s.jsx("button",{onClick:()=>Ve(1),className:`w-full h-14 rounded-[1.2rem] font-black uppercase text-xs transition-all ${P||je?"bg-zinc-800 text-zinc-500 shadow-none":"bg-blue-600 text-white shadow-lg"}`,children:P?"PLACED":je?"CANCEL":v==="WAITING"?"BET":"NEXT ROUND"})]}),s.jsxs("div",{className:`relative rounded-[2.5rem] p-4 border transition-all duration-300 bg-gradient-to-br from-[#1a120d] to-[#07080a] ${xe||Ce?"border-orange-500 shadow-[0_0_30px_rgba(249,115,22,0.3)]":"border-white/5"}`,children:[s.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between bg-black/40 px-2.5 py-1.5 rounded-xl border border-white/5",children:[s.jsx("span",{className:"text-[8px] font-black text-zinc-500 uppercase",children:"Auto Bet"}),s.jsx("button",{onClick:()=>V(!H),className:`w-8 h-4 rounded-full relative transition-all ${H?"bg-orange-600":"bg-zinc-800"}`,children:s.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${H?"right-0.5":"left-0.5"}`})})]}),H&&s.jsxs("div",{className:"bg-black/40 px-2.5 py-1.5 rounded-xl border border-white/5 flex flex-col gap-1 animate-in slide-in-from-top-1",children:[s.jsx("span",{className:"text-[7px] font-black text-zinc-600 uppercase tracking-widest",children:"Auto Cashout"}),s.jsx("input",{type:"text",value:A,onChange:He=>Q(He.target.value),className:"bg-transparent text-white font-black text-[11px] outline-none border-b border-white/10 w-full text-center",placeholder:"1.10"})]})]}),s.jsxs("div",{className:"bg-zinc-950/80 rounded-2xl p-1 border border-white/10 mb-4 shadow-inner flex items-center overflow-hidden min-h-[52px]",children:[s.jsx("button",{onClick:()=>ie(Math.max(20,Ne-10)),className:"w-11 h-11 flex items-center justify-center text-zinc-600 active:scale-90 transition-all hover:text-white shrink-0",children:s.jsx("i",{className:"fas fa-minus text-xs"})}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center overflow-hidden px-1",children:[s.jsx("span",{className:"text-[6px] text-zinc-700 font-black uppercase tracking-widest leading-none mb-1",children:"STAKE"}),s.jsxs("span",{className:"text-white font-black text-xs truncate",children:[Ne.toFixed(1)," $"]})]}),s.jsx("button",{onClick:()=>ie(Ne+10),className:"w-11 h-11 flex items-center justify-center text-zinc-600 active:scale-90 transition-all hover:text-white shrink-0",children:s.jsx("i",{className:"fas fa-plus text-xs"})})]}),v==="RACING"&&xe&&!T&&Z==="racing"?s.jsxs("button",{onClick:()=>Oe(2,W),className:"w-full bg-orange-600 h-14 rounded-[1.2rem] font-black flex flex-col items-center justify-center shadow-lg active:scale-95 transition-all",children:[s.jsx("span",{className:"text-[9px] opacity-80 leading-none",children:"CASH OUT"}),s.jsxs("span",{className:"text-xs font-black font-['Cairo'] tabular-nums mt-1",children:[(Ne*W).toFixed(1)," EGP"]})]}):s.jsx("button",{onClick:()=>Ve(2),className:`w-full h-14 rounded-[1.2rem] font-black uppercase text-xs transition-all ${xe||Ce?"bg-zinc-800 text-zinc-500 shadow-none":"bg-orange-600 text-white shadow-lg"}`,children:xe?"PLACED":Ce?"CANCEL":v==="WAITING"?"BET":"NEXT ROUND"})]})]})]}),s.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        @keyframes road-move { from { background-position-y: 0, 0; } to { background-position-y: 600px, 600px; } }
        .animate-road-move { animation: road-move 0.5s linear infinite; }
        @keyframes car-entrance { 0% { transform: translateY(400px) scale(0.6); opacity: 0; filter: blur(8px); } 100% { transform: translateY(0) scale(1); opacity: 1; filter: blur(0px); } }
        .animate-car-entrance { animation: car-entrance 3.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes car-sway-smooth { 0%, 100% { transform: translateX(0) rotate(0.1deg); } 50% { transform: translateX(-18px) rotate(-0.6deg); } }
        @keyframes car-sway-smooth-alt { 0%, 100% { transform: translateX(0) rotate(0.1deg); } 50% { transform: translateX(18px) rotate(0.6deg); } }
        .animate-car-sway-smooth { animation: car-sway-smooth 2.8s ease-in-out infinite; }
        .animate-car-sway-smooth-alt { animation: car-sway-smooth-alt 2.5s ease-in-out infinite; }
        @keyframes pulse-slow { 0%, 100% { opacity: 0.95; transform: scaleX(1); } 50% { opacity: 0.6; transform: scaleX(1.08); } }
        .animate-pulse-slow { animation: pulse-slow 2s ease-in-out infinite; }
        @keyframes underglow-pulse { 0%, 100% { opacity: 0.7; transform: scale(1); } 50% { opacity: 1; transform: scale(1.2); } }
        .animate-underglow-pulse { animation: underglow-pulse 1.2s ease-in-out infinite; }
        @keyframes backfire-pop { 
           0%, 100% { transform: translate(-50%, 0) scale(0.8); opacity: 0; }
           15% { transform: translate(-50%, 2px) scale(1.4); opacity: 1; }
           30% { transform: translate(-50%, 4px) scale(0.9); opacity: 0.4; }
           45% { transform: translate(-50%, 0) scale(1.2); opacity: 1; }
           60% { transform: translate(-50%, 3px) scale(0.8); opacity: 0; }
        }
        .animate-backfire-pop { animation: backfire-pop 0.15s ease-out infinite; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
      `})]})},GE=({amount:i,multiplier:t,onClose:a})=>s.jsxs("div",{className:"absolute inset-0 z-[110] flex items-center justify-center p-6 bg-black/40 backdrop-blur-sm animate-in fade-in duration-300 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0",onClick:a}),s.jsxs("div",{className:"relative w-52 h-52 bg-[#0a0a0c] border-2 border-[#FFFF00] rounded-[2.5rem] shadow-[0_0_60px_rgba(255,255,0,0.3)] flex flex-col items-center justify-center animate-in zoom-in-bounce duration-500 overflow-hidden group cursor-pointer",onClick:a,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/[0.03] to-white/0 pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 border-[4px] border-[#FFFF00]/10 rounded-[2.5rem] animate-pulse"}),s.jsxs("div",{className:"flex flex-col items-center text-center z-10",children:[s.jsx("div",{className:"mb-1",children:s.jsx("i",{className:"fas fa-crown text-[#FFFF00] text-xl drop-shadow-[0_0_10px_#FFFF00] animate-bounce"})}),s.jsx("span",{className:"text-zinc-500 text-[8px] font-black uppercase tracking-[0.4em] mb-1",children:"PROFIT"}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-[#FFFF00] text-5xl font-black tracking-tighter drop-shadow-[0_0_20px_rgba(255,255,0,0.4)] leading-none",children:i.toFixed(1)}),s.jsx("span",{className:"text-white text-[10px] font-black tracking-widest mt-1 opacity-60 uppercase",children:"EGP"})]}),s.jsx("div",{className:"mt-4 bg-white/10 backdrop-blur-md px-4 py-1.5 rounded-2xl border border-white/10 shadow-lg",children:s.jsxs("span",{className:"text-white font-black text-sm tracking-tighter italic",children:["x",t.toFixed(2)]})})]}),s.jsx("div",{className:"absolute top-3 left-3 w-1.5 h-1.5 bg-[#FFFF00] rounded-full opacity-20"}),s.jsx("div",{className:"absolute bottom-3 right-3 w-1.5 h-1.5 bg-[#FFFF00] rounded-full opacity-20"})]})]}),HE=({user:i,onBack:t,lang:a,onAuthRequired:l})=>{const[c,u]=b.useState(0),[f,m]=b.useState("IDLE"),[p,x]=b.useState(0),[v,w]=b.useState(20),[N,k]=b.useState(35),[M,L]=b.useState({show:!1,message:"",type:"info"}),[O,D]=b.useState(!1),[W,te]=b.useState(null),he=b.useRef(!1),pe=b.useRef("IDLE"),Ne=b.useRef(1),ie=b.useRef(null),P=b.useRef(0),ue=b.useRef(null),xe=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3")),se=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/212/212-preview.mp3")),je=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"));b.useEffect(()=>(i&&(lt(ve(ye,`User/${i.uid}/balance`),_=>x(_.val()||0)),lt(ve(ye,"Luck/balloon"),_=>{_.exists()&&k(Number(_.val()))})),xe.current&&(xe.current.loop=!0,xe.current.volume=.4),se.current&&(se.current.volume=.7),je.current&&(je.current.volume=.8),()=>{ie.current&&cancelAnimationFrame(ie.current),xe.current&&xe.current.pause()}),[i]),b.useEffect(()=>{var _,T;O&&f==="INFLATING"?(_=xe.current)==null||_.play().catch(()=>{}):((T=xe.current)==null||T.pause(),xe.current&&(xe.current.currentTime=0))},[O,f]),b.useEffect(()=>{he.current=O},[O]),b.useEffect(()=>{pe.current=f},[f]);const we=()=>{if(pe.current==="BURST"||pe.current==="CASHED_OUT"||pe.current==="IDLE"){ie.current=null;return}const _=Date.now(),T=ue.current?(_-ue.current)/1e3:0;if(ue.current=_,he.current){P.current+=T;const z=1+Math.pow(P.current*.068,1.1);if(z>=Ne.current){u(Ne.current),X();return}u(z)}ie.current=requestAnimationFrame(we)},Ce=_=>{_.current&&(_.current.currentTime=0,_.current.play().catch(()=>{}))},X=()=>{m("BURST"),D(!1),he.current=!1,Ce(se),ie.current&&cancelAnimationFrame(ie.current),ie.current=null,setTimeout(()=>{m("IDLE"),u(0),P.current=0,ue.current=null},3e3)},S=async()=>{if(!i){l==null||l();return}if(!(f==="BURST"||f==="CASHED_OUT")){if(f==="IDLE"){if(v<20){L({show:!0,message:a==="ar"?"   20 .":"Minimum bet is 20 EGP",type:"error"});return}if(p<v){L({show:!0,message:a==="ar"?"  ":"Insufficient Balance",type:"error"});return}if(i){const z=(await zt(ve(ye,`User/${i.uid}/balance`))).val()||0;await Xe(ve(ye,`User/${i.uid}`),{balance:z-v})}const _=Math.random()*100<N;Ne.current=_?2.5+Math.random()*25:1.02+Math.random()*1.7,u(1),m("INFLATING"),P.current=0}D(!0),he.current=!0,ue.current=Date.now(),ie.current||(ie.current=requestAnimationFrame(we))}},$=()=>{D(!1),he.current=!1,ue.current=null},H=async()=>{if(pe.current!=="INFLATING"||c<=1)return;const _=c;D(!1),he.current=!1,m("CASHED_OUT"),Ce(je),ie.current&&cancelAnimationFrame(ie.current),ie.current=null;const T=v*_;if(i){const G=(await zt(ve(ye,`User/${i.uid}/balance`))).val()||0;await Xe(ve(ye,`User/${i.uid}`),{balance:G+T})}te({show:!0,amount:T,mult:_}),L({show:!0,message:a==="ar"?`  ${T.toFixed(1)} E`:`Cashed out ${T.toFixed(1)} E`,type:"success"}),setTimeout(()=>{te(null),m("IDLE"),u(0),P.current=0},4e3)},V={ar:{heat:" ",take:"",press:" ",stake:" ",balance:" "},en:{heat:"IGNITE",take:"CASH OUT",press:"Press to fly",stake:"STAKE AMOUNT",balance:"SECURE BALANCE"}}[a],q=(_,T)=>c<_?0:c>T?1:(c-_)/(T-_);return s.jsxs("div",{className:"min-h-screen bg-[#0b1626] flex flex-col font-['Cairo'] select-none overflow-y-auto overflow-x-hidden relative",dir:"ltr",children:[s.jsx(Yt,{isVisible:M.show,message:M.message,type:M.type,onClose:()=>L({...M,show:!1})}),(W==null?void 0:W.show)&&s.jsx(GE,{amount:W.amount,multiplier:W.mult,onClose:()=>te(null)}),s.jsxs("div",{className:"absolute inset-0 z-0 bg-[#7dd3fc]",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#f97316] via-[#ea580c] to-[#9a3412] transition-opacity duration-1000",style:{opacity:q(1.2,2.2)}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1e1b4b] via-[#312e81] to-[#1e1b4b] transition-opacity duration-1000",style:{opacity:q(2,3.5)}}),s.jsx("div",{className:"absolute inset-0 bg-black transition-opacity duration-1000",style:{opacity:q(3,5)}}),s.jsxs("div",{className:"absolute inset-0 transition-opacity duration-1000 pointer-events-none",style:{opacity:q(2.5,4)},children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_20%_30%,rgba(99,102,241,0.15),transparent_50%)] animate-pulse-slow"}),s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-40 animate-stars-scroll"}),s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/starry-night.png')] opacity-20"})]}),s.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[60%] aspect-square bg-[#fff]/30 blur-[120px] rounded-full transition-opacity duration-1000",style:{opacity:Math.max(0,1-q(1,2.5))}}),s.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",style:{opacity:Math.max(.1,1-q(3.5,6))},children:[s.jsxs("div",{className:`absolute inset-x-0 h-[400%] flex flex-col animate-sky-scroll-vfast opacity-40 ${f==="IDLE"&&!O?"pause-animation":""} ${!O&&f!=="IDLE"?"pause-animation":""}`,children:[s.jsx("img",{src:"https://i.ibb.co/prfBNKgv/clouds-3x.png",className:"w-full scale-150 brightness-110",alt:""}),s.jsx("img",{src:"https://i.ibb.co/prfBNKgv/clouds-3x.png",className:"w-full scale-150 brightness-110",alt:""}),s.jsx("img",{src:"https://i.ibb.co/prfBNKgv/clouds-3x.png",className:"w-full scale-150 brightness-110",alt:""}),s.jsx("img",{src:"https://i.ibb.co/prfBNKgv/clouds-3x.png",className:"w-full scale-150 brightness-110",alt:""})]}),s.jsxs("div",{className:`absolute inset-x-0 h-[300%] flex flex-col animate-sky-scroll-fast opacity-80 ${f==="IDLE"&&!O?"opacity-30 pause-animation":""} ${!O&&f!=="IDLE"?"pause-animation":""}`,children:[s.jsx("img",{src:"https://i.ibb.co/prfBNKgv/clouds-3x.png",className:"w-full rotate-180 brightness-105",alt:""}),s.jsx("img",{src:"https://i.ibb.co/prfBNKgv/clouds-3x.png",className:"w-full rotate-180 brightness-105",alt:""}),s.jsx("img",{src:"https://i.ibb.co/prfBNKgv/clouds-3x.png",className:"w-full rotate-180 brightness-105",alt:""})]}),s.jsxs("div",{className:`absolute inset-x-0 h-[300%] flex flex-col animate-sky-scroll-slow opacity-50 ${!O&&f!=="IDLE"?"pause-animation":""}`,children:[s.jsx("img",{src:"https://i.ibb.co/prfBNKgv/clouds-3x.png",className:"w-full brightness-90 scale-125",alt:""}),s.jsx("img",{src:"https://i.ibb.co/prfBNKgv/clouds-3x.png",className:"w-full brightness-90 scale-125",alt:""}),s.jsx("img",{src:"https://i.ibb.co/prfBNKgv/clouds-3x.png",className:"w-full brightness-90 scale-125",alt:""})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-40 bg-gradient-to-t from-white/20 to-transparent blur-xl"})]})]}),s.jsxs("header",{className:"px-5 py-3 flex items-center justify-between z-[60] relative shrink-0",children:[s.jsx("button",{onClick:t,className:"w-9 h-9 bg-black/40 backdrop-blur-xl border border-white/20 rounded-full flex items-center justify-center text-white active:scale-90 transition-all shadow-xl",children:s.jsx("i",{className:"fas fa-chevron-left text-sm"})}),s.jsx("div",{className:"bg-[#ff9800]/90 backdrop-blur-md text-white px-4 py-1 rounded-full text-[8px] font-black uppercase tracking-widest shadow-2xl border border-white/20",children:"BalloonX"}),s.jsx("div",{className:"w-9 h-9 bg-black/40 backdrop-blur-xl border border-white/20 rounded-full flex items-center justify-center text-[#FFFF00] active:scale-90 transition-all",children:s.jsx("i",{className:"fas fa-wallet text-xs"})})]}),s.jsxs("div",{className:"min-h-[400px] relative flex flex-col items-center justify-center z-30 overflow-hidden shrink-0",children:[s.jsxs("div",{className:`relative transition-transform duration-500 ease-out flex flex-col items-center z-[35] ${f==="BURST"?"scale-0 opacity-0":"scale-100 opacity-100"}`,style:{transform:`scale(${.75+(c>0?(c-1)*.015:0)}) ${O?"":"translateY(5px)"}`},children:[c>0&&s.jsx("div",{className:"absolute top-[38%] left-1/2 -translate-x-1/2 -translate-y-1/2 z-40 pointer-events-none text-center",children:s.jsx("div",{className:"bg-transparent px-4 py-1.5 transition-all",children:s.jsxs("span",{className:"text-4xl font-black text-white drop-shadow-[0_4px_15px_rgba(0,0,0,1)] tracking-tighter",children:[c.toFixed(2),s.jsx("span",{className:"text-xl ml-1 font-bold text-[#FFFF00]",children:"x"})]})})}),s.jsx("img",{src:"https://i.ibb.co/9HQ7wZyd/airballoon-red-3x.png",className:`w-44 h-auto drop-shadow-[0_15px_30px_rgba(0,0,0,0.4)] ${O?"":"animate-float-slow"} ${O?"animate-vibrate-subtle":""}`,alt:"Balloon"}),O&&s.jsx("div",{className:"absolute bottom-[2%] w-12 h-32 flex flex-col items-center pointer-events-none",children:s.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-end",children:[s.jsx("div",{className:"absolute bottom-0 w-5 h-12 bg-cyan-200 rounded-full blur-[4px] opacity-90 z-20 shadow-[0_0_15px_rgba(165,243,252,0.8)]"}),s.jsx("div",{className:"w-10 h-28 bg-gradient-to-t from-rose-600 via-orange-400 to-transparent rounded-full blur-[4px] animate-flame-flicker z-10 origin-bottom scale-y-125"})]})})]}),f==="BURST"&&s.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center pointer-events-none overflow-visible",children:s.jsx("div",{className:"animate-ping-softer text-rose-500/90 text-[100px] drop-shadow-[0_0_40px_rgba(244,63,94,0.6)]",children:s.jsx("i",{className:"fas fa-burst"})})})]}),s.jsxs("div",{className:"bg-black/95 backdrop-blur-3xl rounded-t-[3rem] p-5 pb-12 border-t border-white/10 z-[100] shadow-[0_-25px_80px_rgba(0,0,0,1)] max-w-[500px] mx-auto w-full space-y-4 shrink-0",children:[s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900/80 px-4 py-1.5 rounded-full border border-white/5",children:[s.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${f==="INFLATING"?"bg-emerald-500 shadow-[0_0_8px_#10b981]":"bg-zinc-600"}`}),s.jsx("span",{className:"text-white font-black text-[9px] uppercase tracking-widest",children:"LIVE GALAXY"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-zinc-600 text-[8px] font-black uppercase tracking-widest mb-0.5",children:V.balance}),s.jsxs("span",{className:"text-[#FFFF00] font-black text-sm tracking-tight",children:["$",p.toFixed(1)]})]})]}),s.jsxs("div",{className:"bg-[#121417] rounded-3xl p-4 border border-white/5 flex items-center justify-between shadow-inner",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-zinc-500 text-[8px] font-black uppercase tracking-[0.3em] mb-1",children:V.stake}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[#FFFF00] font-black text-[11px] opacity-60 uppercase tracking-tighter tracking-widest",children:"EGP"}),s.jsx("input",{type:"number",value:v,onChange:_=>w(Math.max(0,parseFloat(_.target.value)||0)),disabled:f!=="IDLE",className:"bg-transparent text-white font-black text-2xl outline-none w-28 tracking-tighter"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>w(Math.max(20,v-10)),disabled:f!=="IDLE",className:"w-10 h-10 bg-zinc-800 rounded-xl flex items-center justify-center text-zinc-400 border border-white/10 active:scale-90 transition-all disabled:opacity-30",children:s.jsx("i",{className:"fas fa-minus text-xs"})}),s.jsx("button",{onClick:()=>w(v+10),disabled:f!=="IDLE",className:"w-10 h-10 bg-zinc-800 rounded-xl flex items-center justify-center text-zinc-400 border border-white/10 active:scale-90 transition-all disabled:opacity-30",children:s.jsx("i",{className:"fas fa-plus text-xs"})})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-1 h-16",children:f==="INFLATING"?s.jsxs("button",{onClick:H,className:"w-full h-full bg-gradient-to-b from-[#ff9d23] to-[#e67e22] rounded-[1.5rem] flex flex-col items-center justify-center border-b-[5px] border-[#b35900] active:border-b-0 active:translate-y-1 transition-all shadow-2xl",children:[s.jsx("span",{className:"text-white font-black text-[10px] uppercase tracking-widest drop-shadow-md",children:V.take}),s.jsx("span",{className:"text-white font-black text-xl tracking-tighter leading-none",children:(v*c).toFixed(1)})]}):s.jsx("div",{className:"w-full h-full bg-[#1a1e23] rounded-[1.5rem] border border-white/5 flex items-center justify-center opacity-30",children:s.jsx("span",{className:"text-zinc-600 font-black text-[10px] uppercase tracking-[0.3em]",children:V.press})})}),s.jsx("div",{className:"relative w-32 h-16",children:s.jsxs("button",{onMouseDown:S,onMouseUp:$,onMouseLeave:$,onTouchStart:_=>{_.preventDefault(),S()},onTouchEnd:_=>{_.preventDefault(),$()},className:`w-full h-full rounded-[1.5rem] border-b-[5px] transition-all active:translate-y-1 active:border-b-0 shadow-2xl flex flex-col items-center justify-center gap-1.5 ${O?"bg-emerald-600 border-emerald-800":f==="IDLE"?"bg-[#0070f3] border-[#0051b3]":"bg-orange-600 border-orange-800"} text-white`,children:[s.jsx("i",{className:`fas fa-fire-flame-curved text-xl ${O?"animate-pulse":""}`}),s.jsx("span",{className:"text-[11px] font-black tracking-widest uppercase",children:V.heat})]})})]})]}),s.jsx("style",{children:`
        .pause-animation { animation-play-state: paused !important; }
        
        @keyframes sky-scroll-vfast { 
          0% { transform: translateY(-50%); } 100% { transform: translateY(0); } 
        }
        @keyframes sky-scroll-fast { 
          0% { transform: translateY(-33.33%); } 100% { transform: translateY(0); } 
        }
        @keyframes sky-scroll-slow { 
          0% { transform: translateY(-33.33%); } 100% { transform: translateY(0); } 
        }
        @keyframes stars-scroll {
          0% { background-position: 0 0; } 100% { background-position: 0 1500px; }
        }
        
        .animate-sky-scroll-vfast { animation: sky-scroll-vfast 5s linear infinite; }
        .animate-sky-scroll-fast { animation: sky-scroll-fast 9s linear infinite; }
        .animate-sky-scroll-slow { animation: sky-scroll-slow 18s linear infinite; }
        .animate-stars-scroll { animation: stars-scroll 100s linear infinite; }
        
        @keyframes float-slow {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-12px); }
        }
        .animate-float-slow { animation: float-slow 3.5s ease-in-out infinite; }

        @keyframes flame-flicker {
          0%, 100% { transform: scaleY(1.2) rotate(-1deg); filter: blur(4px); }
          50% { transform: scaleY(1.6) rotate(1deg); filter: blur(7px); opacity: 0.8; }
        }
        .animate-flame-flicker { animation: flame-flicker 0.07s ease-in-out infinite; }
        
        @keyframes ping-softer {
          0% { transform: scale(0.6); opacity: 1; }
          100% { transform: scale(1.4); opacity: 0; }
        }
        .animate-ping-softer { animation: ping-softer 0.5s cubic-bezier(0, 0, 0.2, 1) infinite; }

        @keyframes pulse-slow {
          0%, 100% { opacity: 0.2; transform: scale(1); }
          50% { opacity: 0.4; transform: scale(1.1); }
        }
        .animate-pulse-slow { animation: pulse-slow 8s ease-in-out infinite; }

        @keyframes vibrate-subtle {
          0%, 100% { transform: translate(0, 0); }
          25% { transform: translate(1px, -1px, 0); }
          75% { transform: translate(-1px, 1px, 0); }
        }
        .animate-vibrate-subtle { animation: vibrate-subtle 0.1s linear infinite; }

        @keyframes sparkle {
          0%, 100% { opacity: 0; transform: scale(0); }
          50% { opacity: 1; transform: scale(1); }
        }
        .animate-sparkle { animation: sparkle 2s linear infinite; }

        @keyframes float {
          0%, 100% { transform: translateY(0) rotate(0deg); }
          50% { transform: translateY(-10px) rotate(5deg); }
        }
        .animate-float { animation: float 3s ease-in-out infinite; }

        @keyframes zoom-in-bounce {
          0% { transform: scale(0.9); opacity: 0; }
          70% { transform: scale(1.05); opacity: 1; }
          100% { transform: scale(1); opacity: 1; }
        }

        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
      `})]})},VE=({onClose:i,isSound:t,toggleSound:a,lang:l})=>{const[c,u]=b.useState("main"),f={ar:{limits:"",how:" ",sound:"",min:"",max:"",step1:"       (IGNITE).",step2:"     .",step3:"      (CASH OUT)  .",step4:"        ."},en:{limits:"Limits",how:"How to play",sound:"Sound",min:"Min",max:"Max",step1:"Press and hold the IGNITE button to launch.",step2:"The multiplier increases as the rocket flies higher.",step3:"Release the button anytime to CASH OUT before explosion.",step4:"If the rocket explodes while you are holding, you lose your bet."}}[l];return s.jsx("div",{className:"absolute right-0 top-full mt-2 z-[200] w-[200px] animate-in fade-in slide-in-from-top-2 duration-300 origin-top-right",children:s.jsx("div",{className:"bg-[#1a1c1e] rounded-[1rem] border border-red-500/20 p-4 shadow-[0_30px_90px_rgba(0,0,0,1)] backdrop-blur-3xl overflow-hidden",children:c==="main"?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>u("limits"),className:"w-full flex items-center justify-between p-2 rounded-lg bg-black/40 border border-white/5 hover:border-white/20 transition-all group",children:[s.jsx("span",{className:"text-white font-black uppercase text-[8px] tracking-widest",children:f.limits}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]}),s.jsxs("button",{onClick:()=>u("how-to"),className:"w-full flex items-center justify-between p-2 rounded-lg bg-black/40 border border-white/5 hover:border-white/20 transition-all group",children:[s.jsx("span",{className:"text-white font-black uppercase text-[8px] tracking-widest",children:f.how}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-black/40 border border-white/5",children:[s.jsx("span",{className:"text-white font-black uppercase text-[8px] tracking-widest",children:f.sound}),s.jsx("button",{onClick:a,className:`w-8 h-4 rounded-full relative transition-all ${t?"bg-red-600 shadow-[0_0_10px_#ef4444]":"bg-zinc-800"}`,children:s.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all duration-300 ${t?"translate-x-4.5":"translate-x-0.5"}`})})]}),s.jsx("button",{onClick:i,className:"w-full mt-2 text-zinc-600 font-black uppercase text-[7px] hover:text-white transition-colors",children:l==="ar"?"":"Close"})]}):c==="limits"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>u("main"),className:"text-zinc-600 hover:text-white transition-colors text-[8px]",children:[s.jsx("i",{className:"fas fa-chevron-left mr-1"})," Back"]}),s.jsxs("div",{className:"bg-black/60 p-2 rounded-lg border border-white/5 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500 font-black text-[7px] uppercase",children:f.min}),s.jsx("span",{className:"text-white font-black text-[8px]",children:"10 EGP"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500 font-black text-[7px] uppercase",children:f.max}),s.jsx("span",{className:"text-white font-black text-[8px]",children:"2000 EGP"})]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>u("main"),className:"text-zinc-600 hover:text-white transition-colors text-[8px]",children:[s.jsx("i",{className:"fas fa-chevron-left mr-1"})," Back"]}),s.jsx("div",{className:"bg-black/60 p-2 rounded-lg border border-white/5 space-y-2 max-h-[150px] overflow-y-auto no-scrollbar",children:[f.step1,f.step2,f.step3,f.step4].map((m,p)=>s.jsxs("p",{className:"text-zinc-400 text-[7px] font-bold leading-relaxed",children:[" ",m]},p))})]})})})},YE=({amount:i,multiplier:t,onClose:a})=>s.jsxs("div",{className:"absolute inset-0 z-[110] flex items-center justify-center p-6 bg-black/40 backdrop-blur-sm animate-in fade-in duration-300 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0",onClick:a}),s.jsxs("div",{className:"relative w-52 h-52 bg-[#0a0a0c] border-2 border-[#FFFF00] rounded-[10px] shadow-[0_0_60px_rgba(255,255,0,0.3)] flex flex-col items-center justify-center animate-in zoom-in-bounce duration-500 overflow-hidden group cursor-pointer",onClick:a,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/[0.03] to-white/0 pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 border-[2px] border-[#FFFF00]/10 rounded-[10px] animate-pulse"}),s.jsxs("div",{className:"flex flex-col items-center text-center z-10",children:[s.jsx("div",{className:"mb-1",children:s.jsx("i",{className:"fas fa-crown text-[#FFFF00] text-xl drop-shadow-[0_0_10px_#FFFF00] animate-bounce"})}),s.jsx("span",{className:"text-zinc-500 text-[8px] font-black uppercase tracking-[0.4em] mb-1",children:"PROFIT"}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-[#FFFF00] text-5xl font-black tracking-tighter drop-shadow-[0_0_20px_rgba(255,255,0,0.4)] leading-none",children:i.toFixed(1)}),s.jsx("span",{className:"text-white text-[10px] font-black tracking-widest mt-1 opacity-60 uppercase",children:"EGP"})]}),s.jsx("div",{className:"mt-4 bg-white/10 backdrop-blur-md px-4 py-1.5 rounded-lg border border-white/10 shadow-lg",children:s.jsxs("span",{className:"text-white font-black text-sm tracking-tighter",children:["x",t.toFixed(2)]})})]})]})]}),$E=({user:i,onBack:t,lang:a})=>{const[l,c]=b.useState(0),[u,f]=b.useState("IDLE"),[m,p]=b.useState(0),[x,v]=b.useState(10),[w,N]=b.useState(35),[k,M]=b.useState({show:!1,message:"",type:"info"}),[L,O]=b.useState(null),[D,W]=b.useState([]),[te,he]=b.useState(!1),[pe,Ne]=b.useState(!0),[ie,P]=b.useState(0),ue=b.useRef("IDLE"),xe=b.useRef(1),se=b.useRef(1),je=b.useRef(null),we=b.useRef(0),Ce=b.useRef(null),X=b.useRef(!1),S=b.useRef(null),$=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3")),H=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/212/212-preview.mp3")),V=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"));b.useEffect(()=>{i&&(lt(ve(ye,`User/${i.uid}/balance`),Q=>p(Q.val()||0)),lt(ve(ye,"Luck/spacex"),Q=>{Q.exists()&&N(Number(Q.val()))}));const A=localStorage.getItem("spacex_history");if(A)try{W(JSON.parse(A))}catch{W([])}return $.current&&($.current.loop=!0,$.current.volume=.4),()=>{var Q;je.current&&cancelAnimationFrame(je.current),(Q=$.current)==null||Q.pause()}},[i]),b.useEffect(()=>{let A;const Q=()=>{const _e=Date.now()/1e3,ee=ue.current==="INFLATING"?15:6,B=ue.current==="INFLATING"?4:1.5;P(Math.sin(_e*B)*ee),A=requestAnimationFrame(Q)};return A=requestAnimationFrame(Q),()=>cancelAnimationFrame(A)},[]),b.useEffect(()=>{var A,Q;u==="INFLATING"&&pe?(A=$.current)==null||A.play().catch(()=>{}):((Q=$.current)==null||Q.pause(),$.current&&($.current.currentTime=0)),ue.current=u},[u,pe]);const q=A=>{if(ue.current!=="INFLATING"){je.current=null;return}Ce.current||(Ce.current=A);const Q=(A-Ce.current)/1e3;Ce.current=A,we.current+=Q;const _e=1+Math.pow(we.current*.045,1.1);if(_e>=se.current){xe.current=se.current,c(se.current),T();return}xe.current=_e,c(_e),je.current=requestAnimationFrame(q)},_=A=>{A.current&&pe&&(A.current.currentTime=0,A.current.play().catch(()=>{}))},T=()=>{const A=xe.current;f("BURST"),_(H);const Q={id:Date.now().toString(),multiplier:A};W(_e=>{const ee=[Q,..._e].slice(0,15);return localStorage.setItem("spacex_history",JSON.stringify(ee)),ee}),je.current&&cancelAnimationFrame(je.current),je.current=null,X.current=!0,setTimeout(()=>{f("IDLE"),c(0),xe.current=1,we.current=0,Ce.current=null,X.current=!1},2500)},z=async()=>{if(ue.current!=="IDLE"||X.current)return;if(x<10){M({show:!0,message:a==="ar"?"   10 .":"Min bet is 10 EGP",type:"error"});return}if(m<x){M({show:!0,message:a==="ar"?"  ":"Low Balance",type:"error"});return}const A=Math.random()*100<w;se.current=A?2.5+Math.random()*25:1.01+Math.random()*1.5,xe.current=1,ue.current="INFLATING",we.current=0,Ce.current=performance.now(),c(1),f("INFLATING"),i&&Xe(ve(ye,`User/${i.uid}`),{balance:m-x}),je.current=requestAnimationFrame(q)},G=async()=>{if(ue.current!=="INFLATING"||xe.current<=1)return;const A=xe.current;f("CASHED_OUT"),_(V),je.current&&cancelAnimationFrame(je.current),je.current=null,X.current=!0;const Q=x*A;if(i){const _e=await zt(ve(ye,`User/${i.uid}/balance`));await Xe(ve(ye,`User/${i.uid}`),{balance:(_e.val()||0)+Q})}O({show:!0,amount:Q,mult:A}),setTimeout(()=>{O(null),f("IDLE"),c(0),xe.current=1,we.current=0,X.current=!1},3500)},ne={ar:{ignite:" ",cashout:" ",stake:" ",balance:" ",history:"",wait:"..."},en:{ignite:"HOLD TO IGNITE",cashout:"RELEASE TO CASH OUT",stake:"STAKE",balance:"SECURE BALANCE",history:"Live History",wait:"WAITING..."}}[a];return b.useEffect(()=>{const A=Q=>{S.current&&!S.current.contains(Q.target)&&he(!1)};return te&&document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[te]),s.jsxs("div",{className:"h-screen bg-black flex flex-col font-['Cairo'] select-none overflow-hidden relative",dir:"ltr",children:[s.jsx(Yt,{isVisible:k.show,message:k.message,type:k.type,onClose:()=>M({...k,show:!1})}),(L==null?void 0:L.show)&&s.jsx(YE,{amount:L.amount,multiplier:L.mult,onClose:()=>O(null)}),s.jsxs("div",{className:"absolute inset-0 z-0 bg-[#010206] pointer-events-none overflow-hidden",children:[s.jsxs("div",{className:`stars-container ${u==="INFLATING"?"speed-up":""}`,children:[s.jsx("div",{className:"star-layer layer-1"}),s.jsx("div",{className:"star-layer layer-2"}),s.jsx("div",{className:"star-layer layer-3"})]}),s.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-[3000ms] opacity-40",style:{backgroundImage:"url('https://i.ibb.co/cSs3JJ3k/images.webp')",transform:u==="INFLATING"?"scale(1.2) translateY(20px)":"scale(1)"}}),s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px]"})]}),s.jsxs("header",{className:"px-5 py-4 flex items-center justify-between z-[60] bg-black/40 backdrop-blur-md border-b border-white/5 shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:t,className:"w-10 h-10 bg-zinc-900/60 rounded-lg flex items-center justify-center border border-white/10 text-white active:scale-90 transition-all",children:s.jsx("i",{className:"fas fa-chevron-left text-sm"})}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-white font-black text-[10px] uppercase tracking-[0.2em] italic font-['Orbitron'] leading-none",children:"SPACEX"}),s.jsx("div",{className:"bg-zinc-900/40 px-2 py-0.5 rounded border border-white/5 mt-1",children:s.jsxs("span",{className:"text-red-500 font-black text-[8px] tracking-tighter uppercase tabular-nums",children:[m.toFixed(2)," EGP"]})})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"relative",ref:S,children:[s.jsx("button",{onClick:()=>he(!te),className:"w-10 h-10 bg-zinc-900/60 rounded-lg flex items-center justify-center border border-white/10 text-zinc-500 hover:text-white transition-all active:scale-90",children:s.jsx("i",{className:`fas fa-cog transition-transform duration-500 ${te?"rotate-90 text-red-500":""}`})}),te&&s.jsx(VE,{lang:a,isSound:pe,toggleSound:()=>Ne(!pe),onClose:()=>he(!1)})]})})]}),s.jsxs("div",{className:"flex-1 relative flex flex-col items-center justify-center z-30 overflow-hidden shrink-0",children:[s.jsxs("div",{className:`relative transition-all duration-100 flex flex-col items-center z-[35] will-change-transform ${u==="BURST"?"scale-0 opacity-0":"scale-100 opacity-100"}`,style:{transform:`scale(${.8+(l>0?(l-1)*.012:0)}) translateX(${ie}px)`},children:[l>0&&s.jsx("div",{className:"absolute top-[-30%] left-1/2 -translate-x-1/2 z-40 pointer-events-none text-center",children:s.jsxs("span",{className:"text-6xl font-black text-white drop-shadow-[0_0_20px_rgba(255,255,255,0.4)] tracking-tighter font-['Orbitron']",children:[l.toFixed(2),s.jsx("span",{className:"text-xl ml-1 font-bold text-[#FFFF00]",children:"x"})]})}),(u==="INFLATING"||u==="IDLE")&&s.jsxs("div",{className:"absolute bottom-[-140px] left-1/2 -translate-x-1/2 w-40 h-80 flex flex-col items-center pointer-events-none z-[-1]",children:[s.jsx("div",{className:`w-16 h-48 bg-gradient-to-t from-transparent via-[#ffea00] to-white rounded-full blur-[8px] origin-top shadow-[0_0_40px_#ffea00] ${u==="INFLATING"?"animate-flame-flicker-intense scale-y-125":"animate-flame-idle scale-y-50 opacity-40"}`}),s.jsx("div",{className:`absolute top-0 w-24 h-64 bg-orange-600/30 blur-[25px] rounded-full ${u==="INFLATING"?"animate-plasma-vibrate":"hidden"}`})]}),s.jsx("img",{src:"https://i.ibb.co/20xKGmpw/Picsart-26-01-31-14-37-04-864.png",className:"w-56 h-auto drop-shadow-[0_20px_60px_rgba(0,0,0,0.9)] relative z-10",alt:"SpaceX Rocket"})]}),u==="BURST"&&s.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center pointer-events-none",children:s.jsx("div",{className:"animate-burst-expansion text-red-500 text-[120px] drop-shadow-[0_0_50px_rgba(255,0,0,0.6)]",children:s.jsx("i",{className:"fas fa-burst"})})})]}),s.jsxs("div",{className:"bg-[#0a0c12]/98 backdrop-blur-3xl rounded-t-[2.5rem] p-6 pb-10 border-t border-white/10 z-[100] shadow-[0_-20px_60px_rgba(0,0,0,1)] max-w-[500px] mx-auto w-full space-y-5 shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar py-1 bg-black px-3 rounded-xl border border-white/5 shadow-inner",children:[s.jsx("i",{className:"fas fa-history text-zinc-700 text-[8px] shrink-0 mr-1"}),D.length>0?D.map(A=>s.jsxs("span",{className:`shrink-0 text-[8px] font-black px-3 py-1 text-white border rounded-lg bg-black ${A.multiplier>=2?"border-emerald-500/40 text-emerald-400":"border-rose-500/40 text-rose-400"}`,children:["x",A.multiplier.toFixed(2)]},A.id)):s.jsx("span",{className:"text-[8px] text-zinc-800 uppercase font-black tracking-widest",children:ne.history})]}),s.jsxs("div",{className:"bg-[#121417] rounded-[10px] border border-white/5 flex items-center h-14 overflow-hidden shadow-inner",children:[s.jsx("button",{onClick:()=>v(Math.max(10,x-10)),disabled:u!=="IDLE",className:"w-14 h-full flex items-center justify-center text-zinc-500 active:bg-white/5 transition-all",children:s.jsx("i",{className:"fas fa-minus text-sm"})}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center border-x border-white/5",children:[s.jsx("span",{className:"text-zinc-600 text-[7px] font-black uppercase tracking-widest leading-none mb-1",children:ne.stake}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-zinc-800 font-black text-[10px] uppercase",children:"EGP"}),s.jsx("input",{type:"number",value:x,onChange:A=>v(Math.max(0,parseFloat(A.target.value)||0)),disabled:u!=="IDLE",className:"bg-transparent text-white font-black text-xl outline-none w-24 text-center tracking-tighter"})]})]}),s.jsx("button",{onClick:()=>v(Math.min(2e3,x+10)),disabled:u!=="IDLE",className:"w-14 h-full flex items-center justify-center text-zinc-500 active:bg-white/5 transition-all",children:s.jsx("i",{className:"fas fa-plus text-sm"})})]}),s.jsx("div",{className:"w-full h-20",children:s.jsx("button",{onPointerDown:A=>{A.preventDefault(),z()},onPointerUp:A=>{A.preventDefault(),G()},onPointerLeave:A=>{A.preventDefault(),G()},className:`w-full h-full rounded-[10px] flex flex-col items-center justify-center transition-all shadow-xl active:scale-[0.98] ${u==="IDLE"?"bg-red-600 text-white":u==="INFLATING"?"bg-[#FFFF00] text-black shadow-[0_0_20px_rgba(255,255,0,0.4)]":"bg-zinc-800 opacity-50 cursor-not-allowed"}`,children:u==="IDLE"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-[9px] font-black tracking-widest uppercase leading-none mb-1 opacity-70",children:"Ready to Launch"}),s.jsx("span",{className:"text-xl font-black uppercase tracking-tighter italic",children:ne.ignite})]}):u==="INFLATING"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest leading-none mb-1 opacity-60 animate-pulse",children:ne.cashout}),s.jsxs("div",{className:"flex items-baseline gap-1.5",children:[s.jsx("span",{className:"text-3xl font-black tracking-tighter",children:(x*l).toFixed(1)}),s.jsx("span",{className:"text-[10px] font-black uppercase opacity-40",children:"EGP"})]})]}):s.jsx("span",{className:"text-sm font-black uppercase tracking-widest animate-pulse",children:ne.wait})})}),s.jsx("div",{className:"text-center pt-1 opacity-20",children:s.jsx("p",{className:"text-zinc-500 text-[7px] font-black uppercase tracking-[0.4em]",children:"ZEE CORE SECURE UI v5.0"})})]}),s.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        /* Star Field Engine */
        .stars-container {
          position: absolute;
          inset: 0;
          z-index: -1;
          overflow: hidden;
        }
        
        .star-layer {
          position: absolute;
          width: 200%;
          height: 200%;
          top: -50%;
          left: -50%;
          background-image: 
            radial-gradient(2px 2px at 20px 30px, #eee, rgba(0,0,0,0)),
            radial-gradient(2px 2px at 40px 70px, #fff, rgba(0,0,0,0)),
            radial-gradient(2px 2px at 50px 160px, #ddd, rgba(0,0,0,0)),
            radial-gradient(2px 2px at 90px 40px, #fff, rgba(0,0,0,0)),
            radial-gradient(2px 2px at 130px 80px, #fff, rgba(0,0,0,0));
          background-repeat: repeat;
          background-size: 200px 200px;
          animation: stars-move 15s linear infinite;
        }
        
        .layer-2 { background-size: 300px 300px; animation-duration: 25s; opacity: 0.5; }
        .layer-3 { background-size: 150px 150px; animation-duration: 10s; opacity: 0.3; }
        
        @keyframes stars-move {
          from { transform: translateY(0); }
          to { transform: translateY(200px); }
        }
        
        .speed-up .star-layer { animation-duration: 0.5s !important; }

        /* Flame & Plasma Effects */
        @keyframes flame-flicker-intense {
          0%, 100% { transform: scaleY(1.3) rotate(-0.5deg); filter: blur(8px); }
          50% { transform: scaleY(2.2) rotate(0.5deg); filter: blur(12px); opacity: 1; }
        }
        .animate-flame-flicker-intense { animation: flame-flicker-intense 0.05s ease-in-out infinite; }
        
        @keyframes flame-idle {
          0%, 100% { transform: scaleY(0.8); opacity: 0.3; }
          50% { transform: scaleY(1); opacity: 0.5; }
        }
        .animate-flame-idle { animation: flame-idle 0.3s ease-in-out infinite; }

        @keyframes plasma-vibrate {
          0%, 100% { transform: scale(1); opacity: 0.3; }
          50% { transform: scale(1.1); opacity: 0.5; }
        }
        .animate-plasma-vibrate { animation: plasma-vibrate 0.1s linear infinite; }

        @keyframes burst-expansion {
           0% { transform: scale(0.5); opacity: 0; }
           20% { transform: scale(1.1); opacity: 1; }
           100% { transform: scale(1.5); opacity: 0; }
        }
        .animate-burst-expansion { animation: burst-expansion 0.6s ease-out forwards; }
        
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
      `})]})},qE=({user:i,onBack:t,lang:a,onAuthRequired:l})=>{const[c,u]=b.useState(0),[f,m]=b.useState(20),[p,x]=b.useState("BETTING"),[v,w]=b.useState(10),[N,k]=b.useState([]),[M,L]=b.useState(100),[O,D]=b.useState(null),[W,te]=b.useState(null),[he,pe]=b.useState(0),[Ne,ie]=b.useState(50),[P,ue]=b.useState({show:!1,message:"",type:"info"}),[xe,se]=b.useState(null),je=b.useRef(null),we=b.useRef(100),Ce=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3")),X=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3")),S=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/212/212-preview.mp3"));b.useEffect(()=>{i&&(lt(ve(ye,`User/${i.uid}/balance`),A=>u(A.val()||0)),lt(ve(ye,"Luck/highlow"),A=>{A.exists()&&ie(Number(A.val()))}))},[i]),b.useEffect(()=>{let A=100;const Q=Array.from({length:40},(_e,ee)=>(A+=(Math.random()-.5)*2,{x:ee*10,y:A}));return k(Q),L(A),we.current=A,je.current=setInterval(()=>{k(_e=>{const ee=_e[_e.length-1];let B=(Math.random()-.5)*1.5;if(p==="TRADING"&&W&&O!==null){const Ee=Math.random()*100<Ne?W.type==="high"?.8:-.8:W.type==="high"?-.8:.8;B=(Math.random()*1.5+.2)*(Ee>0?1:-1)}else p==="TRADING"&&(B=(Math.random()-.5)*3);const C=ee.y+B;return L(C),we.current=C,se(K=>K!==null&&K>0?K-1:null),[..._e.slice(1),{x:ee.x+10,y:C}]})},120),()=>{je.current&&clearInterval(je.current)}},[p,W,O,Ne]);const $=b.useCallback(async(A,Q,_e)=>{if(_e.type==="high"?A>Q:A<Q){const B=_e.amount*1.95;if(pe(B),X.current.play().catch(()=>{}),i){const C=await zt(ve(ye,`User/${i.uid}/balance`));await Xe(ve(ye,`User/${i.uid}`),{balance:(C.val()||0)+B})}}else S.current.play().catch(()=>{})},[i]),H=b.useCallback(()=>{x(A=>A==="BETTING"?(D(we.current),se(39),w(7),"TRADING"):A==="TRADING"?(W&&O!==null&&$(we.current,O,W),w(4),"RESULT"):(te(null),D(null),se(null),pe(0),w(10),"BETTING"))},[W,O,$]);b.useEffect(()=>{const A=setInterval(()=>{w(Q=>Q<=1?0:Q-1)},1e3);return()=>clearInterval(A)},[]),b.useEffect(()=>{v===0&&H()},[v,H]);const V=async A=>{if(!i){l==null||l();return}if(!(p!=="BETTING"||W)){if(c<f){ue({show:!0,message:a==="ar"?"  ":"Insufficient Balance",type:"error"});return}te({type:A,amount:f}),Ce.current.play().catch(()=>{}),i&&Xe(ve(ye,`User/${i.uid}`),{balance:c-f})}},q=b.useMemo(()=>{const A=N.map(ee=>ee.y);O!==null&&A.push(O);const Q=Math.min(...A)-4,_e=Math.max(...A)+4;return{minP:Q,maxP:_e,range:_e-Q}},[N,O]),_=A=>{const{minP:Q,range:_e}=q;return 100-(A-Q)/(_e||1)*100},T=b.useMemo(()=>{if(N.length<2)return"";let A=`M 0 ${_(N[0].y)}`;for(let Q=0;Q<N.length-1;Q++){const _e=Q/(N.length-1)*100,ee=(Q+1)/(N.length-1)*100,B=_(N[Q].y),C=_(N[Q+1].y),K=(_e+ee)/2;A+=` C ${K} ${B}, ${K} ${C}, ${ee} ${C}`}return A},[N,q]),z={ar:{high:"",low:"",stake:"",start:" ",win:" !",entry:" ",waiting:" ",resolving:" "},en:{high:"CALL",low:"PUT",stake:"STAKE",start:"LIVE PRICE",win:"SECURE PROFIT!",entry:"ENTRY PRICE",waiting:"BETTING WINDOW",resolving:"RESOLVING"}}[a],G=W&&O!==null&&(W.type==="high"?M>O:M<O),ne=O===null?"rgba(255,255,255,0.4)":M>=O?"#10b981":"#f43f5e";return s.jsxs("div",{className:"min-h-screen bg-[#07080a] text-white flex flex-col font-['Cairo'] select-none overflow-hidden",dir:"ltr",children:[s.jsxs("header",{className:"p-4 flex items-center justify-between border-b border-white/5 bg-black/20 backdrop-blur-md z-[110]",children:[s.jsx("button",{onClick:t,className:"w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center border border-white/10 active:scale-90 transition-transform shadow-lg",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400"})}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("h1",{className:"text-white font-black tracking-tighter text-xl uppercase italic leading-none drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:"High Low AI"}),s.jsx("span",{className:"text-[7px] text-[#facc15] font-black uppercase tracking-[0.4em] mt-1 opacity-70",children:"Secured Live Node"})]}),s.jsxs("div",{className:"bg-zinc-900/60 px-3 py-1.5 rounded-xl border border-white/10 flex flex-col items-end",children:[s.jsx("span",{className:"text-[7px] text-zinc-500 font-black uppercase tracking-widest leading-none mb-0.5",children:"Secure Bal"}),s.jsxs("span",{className:"text-emerald-400 font-black text-xs",children:["$",c.toFixed(2)]})]})]}),s.jsxs("main",{className:"flex-1 flex flex-col p-4 space-y-4",children:[s.jsxs("div",{className:"flex-1 bg-[#0a0c0f] rounded-[2.5rem] border border-white/10 relative overflow-hidden shadow-[inset_0_0_50px_rgba(0,0,0,0.5)] flex flex-col group",children:[s.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/carbon-fibre.png")'}}),s.jsxs("div",{className:"relative w-full overflow-hidden border-b border-white/5 bg-black/40",children:[s.jsx("div",{className:`absolute inset-y-0 left-0 transition-all duration-1000 ease-linear opacity-20 ${p==="BETTING"?"bg-[#facc15]":"bg-rose-600"}`,style:{width:`${v/(p==="BETTING"?10:p==="TRADING"?7:4)*100}%`}}),s.jsxs("div",{className:"relative z-10 p-6 flex items-center justify-between backdrop-blur-2xl",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-widest mb-1",children:z.start}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:`text-3xl font-black tabular-nums tracking-tighter transition-colors duration-300 ${O!==null&&M>=O?"text-emerald-500":O!==null?"text-rose-500":"text-white"}`,children:M.toFixed(4)}),s.jsx("i",{className:`fas ${O!==null?M>=O?"fa-caret-up text-emerald-500":"fa-caret-down text-rose-500":"fa-wave-square text-zinc-700"} text-sm animate-bounce`})]})]}),s.jsx("div",{className:"flex flex-col items-center",children:s.jsxs("div",{className:"flex items-center gap-3 bg-black/40 border border-white/10 px-6 py-2 rounded-2xl shadow-xl",children:[s.jsx("i",{className:`fas fa-clock text-lg ${p==="BETTING"?"text-[#facc15]":"text-rose-600"} animate-pulse`}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("span",{className:"text-white font-black text-2xl tabular-nums tracking-tighter leading-none",children:[v,s.jsx("span",{className:"text-[10px] ml-0.5 text-zinc-500 uppercase",children:"s"})]}),s.jsx("span",{className:"text-[6px] text-zinc-600 font-black uppercase tracking-[0.2em] mt-1",children:p==="BETTING"?"BETTING":p==="TRADING"?"LOCK":"RESULT"})]})]})}),W?s.jsxs("div",{className:`backdrop-blur-md border px-4 py-2 rounded-2xl flex flex-col items-center animate-in zoom-in ${W.type==="high"?"bg-emerald-500/10 border-emerald-500/30":"bg-rose-500/10 border-rose-500/30"}`,children:[s.jsx("span",{className:"text-zinc-500 text-[8px] font-black uppercase tracking-widest leading-none mb-1",children:"Your Bet"}),s.jsxs("span",{className:`font-black text-sm uppercase tracking-tighter ${W.type==="high"?"text-emerald-400":"text-rose-400"}`,children:[W.type.toUpperCase(),"  ",W.amount]})]}):s.jsxs("div",{className:"bg-white/5 border border-white/10 px-4 py-2 rounded-2xl flex flex-col items-center",children:[s.jsx("span",{className:"text-zinc-500 text-[8px] font-black uppercase tracking-widest mb-1",children:"Payout"}),s.jsx("span",{className:"text-[#facc15] font-black text-sm italic",children:"x1.95"})]})]})]}),s.jsxs("div",{className:"flex-1 relative mx-4 mb-4 mt-4 rounded-3xl overflow-hidden bg-black/20 border border-white/5",children:[s.jsx("div",{className:"absolute inset-0 flex justify-around pointer-events-none opacity-10",children:[...Array(8)].map((A,Q)=>s.jsx("div",{className:"border-l border-white/10 h-full"},Q))}),s.jsx("div",{className:"absolute inset-0 flex flex-col justify-around pointer-events-none opacity-10",children:[...Array(6)].map((A,Q)=>s.jsx("div",{className:"border-b border-white/10 w-full"},Q))}),O!==null&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute left-0 right-0 z-10 border-t border-white/40 border-dashed transition-all duration-300 pointer-events-none",style:{top:`${_(O)}%`},children:s.jsx("div",{className:"absolute left-2 -top-2 bg-zinc-900/80 px-2 py-0.5 rounded text-[7px] font-black text-white/50 uppercase tracking-widest",children:z.entry})}),xe!==null&&s.jsxs("div",{className:"absolute z-30 transition-all duration-[120ms] chart-easing pointer-events-none flex flex-col items-center justify-center",style:{left:`${xe/39*100}%`,top:`${_(O)}%`,transform:"translate(-50%, -50%)"},children:[s.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full shadow-[0_0_10px_#fff] relative",children:s.jsx("div",{className:"absolute inset-[-4px] border border-white/30 rounded-full animate-ping"})}),s.jsx("span",{className:"text-[6px] font-black text-white/40 uppercase mt-4 tracking-widest whitespace-nowrap",children:"ENTRY"})]})]}),s.jsxs("div",{className:"absolute left-0 right-0 z-20 flex items-center transition-all duration-[120ms] chart-easing pointer-events-none",style:{top:`${_(M)}%`},children:[s.jsx("div",{className:`h-[1.5px] flex-1 ${O!==null?M>=O?"bg-emerald-500 shadow-[0_0_10px_#10b981]":"bg-rose-500 shadow-[0_0_10px_#f43f5e]":"bg-white/40"}`}),s.jsxs("div",{className:"relative w-0 h-0 flex items-center justify-center",children:[s.jsxs("div",{className:"absolute w-3 h-3 rounded-full shadow-2xl transition-colors duration-300",style:{backgroundColor:ne},children:[s.jsx("div",{className:"absolute inset-[-6px] rounded-full animate-ping opacity-30",style:{backgroundColor:ne}}),s.jsx("div",{className:"absolute inset-0 rounded-full animate-pulse",style:{backgroundColor:ne}})]}),W&&p==="TRADING"&&s.jsxs("div",{className:`absolute bottom-6 px-3 py-1 rounded-full backdrop-blur-md border animate-in fade-in zoom-in duration-300 flex items-center gap-1.5 whitespace-nowrap ${G?"bg-emerald-500/20 border-emerald-500/50 text-emerald-400":"bg-rose-500/20 border-rose-500/50 text-rose-400"}`,children:[s.jsx("span",{className:"text-[7px] font-black uppercase tracking-tighter",children:G?"PROFIT":"LOSS"}),s.jsx("div",{className:"w-1 h-1 rounded-full bg-current animate-pulse"})]})]}),s.jsxs("div",{className:`px-2 py-0.5 rounded-l-md font-black text-[10px] tabular-nums shadow-2xl flex items-center gap-1.5 transition-colors duration-300 ${O!==null?M>=O?"bg-emerald-500 text-black":"bg-rose-500 text-white":"bg-zinc-800 text-zinc-400"}`,children:[W&&s.jsx("i",{className:`fas ${M>=O?"fa-arrow-up":"fa-arrow-down"} text-[8px]`}),M.toFixed(4)]})]}),s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"mainAreaGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:ne,stopOpacity:"0.3"}),s.jsx("stop",{offset:"100%",stopColor:"transparent",stopOpacity:"0"})]})}),s.jsx("path",{d:`${T} L 100 100 L 0 100 Z`,fill:"url(#mainAreaGrad)",className:"transition-all duration-[120ms] chart-easing"}),s.jsx("path",{d:T,fill:"none",stroke:ne,strokeWidth:"2.5",strokeLinecap:"round",vectorEffect:"non-scaling-stroke",className:"transition-all duration-[120ms] chart-easing"})]}),p==="RESULT"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70 backdrop-blur-sm animate-in fade-in z-[120]",children:s.jsx("div",{className:"bg-[#121417]/95 border-2 border-white/10 rounded-[3rem] p-10 flex flex-col items-center shadow-2xl animate-in zoom-in-bounce duration-500",children:he>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-24 h-24 bg-emerald-500 rounded-full flex items-center justify-center mb-5 shadow-[0_0_50px_rgba(16,185,129,0.6)] animate-bounce",children:s.jsx("i",{className:"fas fa-chart-line text-white text-4xl"})}),s.jsx("h3",{className:"text-white font-black uppercase tracking-tighter text-3xl",children:z.win}),s.jsxs("div",{className:"flex items-baseline gap-2 mt-3",children:[s.jsxs("span",{className:"text-emerald-400 font-black text-5xl tracking-tighter",children:["+$",he.toFixed(1)]}),s.jsx("span",{className:"text-emerald-900 font-black text-sm uppercase",children:"E"})]})]}):W?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-24 h-24 bg-rose-500 rounded-full flex items-center justify-center mb-5 shadow-[0_0_50px_rgba(244,63,94,0.4)] opacity-60",children:s.jsx("i",{className:"fas fa-arrow-trend-down text-white text-4xl"})}),s.jsx("h3",{className:"text-zinc-500 font-black uppercase tracking-widest text-xl",children:"Trade Failure"}),s.jsx("p",{className:"text-zinc-700 text-[11px] font-bold uppercase mt-3 tracking-widest",children:"VOLATILITY LOSS"})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("i",{className:"fas fa-spinner fa-spin text-[#facc15] text-5xl mb-6"}),s.jsx("h3",{className:"text-white font-black uppercase tracking-widest text-2xl",children:"Re-calibrating"}),s.jsx("p",{className:"text-zinc-600 text-[10px] font-bold uppercase mt-2",children:"Connecting to Secure Market"})]})})})]})]}),s.jsxs("div",{className:"bg-[#0b0c0e]/98 backdrop-blur-3xl rounded-t-[3.5rem] -mx-4 p-6 pb-12 border-t border-white/10 flex flex-col space-y-6 shadow-[0_-30px_100px_rgba(0,0,0,1)] z-20",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1 bg-zinc-950/60 h-16 rounded-[2rem] border border-white/5 flex items-center justify-between px-6 shadow-inner",children:[s.jsx("button",{onClick:()=>m(Math.max(20,f-10)),disabled:p!=="BETTING"||!!W,className:"w-10 h-10 text-zinc-700 text-xl font-black hover:text-white transition-colors",children:s.jsx("i",{className:"fas fa-minus"})}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-[7px] text-zinc-600 font-black uppercase tracking-[0.3em] mb-0.5 leading-none",children:z.stake}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-white font-black text-2xl tracking-tighter",children:f}),s.jsx("span",{className:"text-zinc-700 font-black text-[9px]",children:"E"})]})]}),s.jsx("button",{onClick:()=>m(f+10),disabled:p!=="BETTING"||!!W,className:"w-10 h-10 text-zinc-700 text-xl font-black hover:text-white transition-colors",children:s.jsx("i",{className:"fas fa-plus"})})]}),s.jsx("button",{onClick:()=>m(Math.floor(c)),disabled:p!=="BETTING"||!!W,className:"w-16 h-16 bg-zinc-900 border border-white/10 rounded-[1.8rem] text-[9px] font-black text-zinc-500 uppercase active:scale-95 disabled:opacity-20 hover:text-white transition-colors",children:"MAX"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[s.jsxs("button",{onClick:()=>V("high"),disabled:p!=="BETTING"||!!W,className:"group relative h-24 bg-gradient-to-b from-emerald-500 to-emerald-700 rounded-[2.5rem] border-b-[8px] border-emerald-950 shadow-[0_15px_35px_rgba(16,185,129,0.25)] flex flex-col items-center justify-center space-y-1 active:translate-y-2 active:border-b-0 transition-all disabled:opacity-30 disabled:grayscale overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center mb-1 group-active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-arrow-up text-white text-xl"})}),s.jsx("span",{className:"text-white font-black text-xs uppercase tracking-[0.2em] italic drop-shadow-md",children:z.high})]}),s.jsxs("button",{onClick:()=>V("low"),disabled:p!=="BETTING"||!!W,className:"group relative h-24 bg-gradient-to-b from-rose-500 to-rose-700 rounded-[2.5rem] border-b-[8px] border-rose-950 shadow-[0_15px_35px_rgba(244,63,94,0.25)] flex flex-col items-center justify-center space-y-1 active:translate-y-2 active:border-b-0 transition-all disabled:opacity-30 disabled:grayscale overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center mb-1 group-active:scale-90 transition-transform",children:s.jsx("i",{className:"fas fa-arrow-down text-white text-xl"})}),s.jsx("span",{className:"text-white font-black text-xs uppercase tracking-[0.2em] italic drop-shadow-md",children:z.low})]})]}),s.jsx("div",{className:"text-center py-2",children:s.jsx("span",{className:"text-zinc-800 text-[6px] font-black uppercase tracking-[1em]",children:"BETREX CORE v4.5 TRADING SYSTEM"})})]})]}),s.jsx("style",{children:`
        @keyframes zoom-in-bounce {
          0% { transform: scale(0.8); opacity: 0; }
          70% { transform: scale(1.05); opacity: 1; }
          100% { transform: scale(1); opacity: 1; }
        }
        .animate-zoom-in-bounce { animation: zoom-in-bounce 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        
        /* Custom spring-like easing for chart movement */
        .chart-easing {
          transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
      `})]})},cc=["1.03","1.07","1.12","1.17","1.23","1.29","1.36","1.44","1.53","1.63","1.75","1.88","2.04","2.22","2.45","2.72","3.06","3.50","4.08","4.90","6.13","6.61","9.81","19.44"],wn={HOME:"https://i.ibb.co/GQVbbqpF/HOME.jpg",LANE1:"https://i.ibb.co/FqYpNk2Y/LANE1.jpg",LANE2:"https://i.ibb.co/wHgh2Rp/LANE2.jpg",FINAL:"https://i.ibb.co/Mky6p9Kf/FINAL.jpg",FINAL2:"https://i.ibb.co/4QtGw1x/FINAL2.jpg",CENTER:"https://i.ibb.co/SDwbtH0g/CENTER.png",GREEN:"https://i.ibb.co/8VQnjvR/GREEN.png",CROSS:"https://i.ibb.co/1JQrsLLz/CROSS.png",CRASH:"https://i.ibb.co/9m3fmdNc/CRASH.png",FIRE:"https://i.ibb.co/fG1XZxv4/fire.gif",ROAST:"https://i.ibb.co/VWNjqFcj/ROAST.png",CHICKEN:"https://i.ibb.co/bj3P52ZV/chicken.png"},WE=({onClose:i,isSound:t,toggleSound:a,lang:l})=>{const[c,u]=b.useState("main"),f={ar:{limits:"",how:" ",sound:"",min:"",max:"",step1:"      PLAY.",step2:"  GO     .",step3:"        .",step4:"  (CASH OUT)        !"},en:{limits:"Limits",how:"How to play",sound:"Sound",min:"Min",max:"Max",step1:"Set your bet and press PLAY.",step2:"Click GO to make the chicken run to the next lane.",step3:"Each successful lane increases your multiplier.",step4:"Cash out anytime, but if you get hit by a car, you lose your stake!"}}[l];return s.jsx("div",{className:"absolute right-0 top-full mt-2 z-[200] w-[200px] animate-in fade-in slide-in-from-top-2 duration-300 origin-top-right",children:s.jsx("div",{className:"bg-[#1a1c1e] rounded-[1rem] border border-blue-500/20 p-4 shadow-[0_30px_90px_rgba(0,0,0,1)] backdrop-blur-3xl overflow-hidden",children:c==="main"?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>u("limits"),className:"w-full flex items-center justify-between p-2 rounded-lg bg-black/40 border border-white/5 hover:border-white/20 transition-all group",children:[s.jsx("span",{className:"text-white font-black uppercase text-[8px] tracking-widest",children:f.limits}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]}),s.jsxs("button",{onClick:()=>u("how-to"),className:"w-full flex items-center justify-between p-2 rounded-lg bg-black/40 border border-white/5 hover:border-white/20 transition-all group",children:[s.jsx("span",{className:"text-white font-black uppercase text-[8px] tracking-widest",children:f.how}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-black/40 border border-white/5",children:[s.jsx("span",{className:"text-white font-black uppercase text-[8px] tracking-widest",children:f.sound}),s.jsx("button",{onClick:a,className:`w-8 h-4 rounded-full relative transition-all ${t?"bg-blue-600 shadow-[0_0_10px_#2563eb]":"bg-zinc-800"}`,children:s.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all duration-300 ${t?"translate-x-4.5":"translate-x-0.5"}`})})]}),s.jsx("button",{onClick:i,className:"w-full mt-2 text-zinc-600 font-black uppercase text-[7px] hover:text-white transition-colors",children:l==="ar"?"":"Close"})]}):c==="limits"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>u("main"),className:"text-zinc-600 hover:text-white transition-colors text-[8px]",children:[s.jsx("i",{className:"fas fa-chevron-left mr-1"})," Back"]}),s.jsxs("div",{className:"bg-black/60 p-2 rounded-lg border border-white/5 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500 font-black text-[7px] uppercase",children:f.min}),s.jsx("span",{className:"text-white font-black text-[8px]",children:"10 EGP"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500 font-black text-[7px] uppercase",children:f.max}),s.jsx("span",{className:"text-white font-black text-[8px]",children:"2000 EGP"})]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>u("main"),className:"text-zinc-600 hover:text-white transition-colors text-[8px]",children:[s.jsx("i",{className:"fas fa-chevron-left mr-1"})," Back"]}),s.jsx("div",{className:"bg-black/60 p-2 rounded-lg border border-white/5 space-y-2 max-h-[150px] overflow-y-auto no-scrollbar",children:[f.step1,f.step2,f.step3,f.step4].map((m,p)=>s.jsxs("p",{className:"text-zinc-400 text-[7px] font-bold leading-relaxed",children:[" ",m]},p))})]})})})},XE=({user:i,onBack:t,lang:a,onDepositClick:l,onAuthRequired:c})=>{const[u,f]=b.useState(0),[m,p]=b.useState(20),[x,v]=b.useState("IDLE"),[w,N]=b.useState(0),[k,M]=b.useState(65),[L,O]=b.useState(!1),[D,W]=b.useState(!1),[te,he]=b.useState(!1),[pe,Ne]=b.useState(!1),[ie,P]=b.useState({show:!1,message:"",type:"info"}),[ue,xe]=b.useState(()=>Math.floor(Math.random()*2951)+50),[se,je]=b.useState(!1),[we,Ce]=b.useState(!0),X=b.useRef(null),S=b.useRef(null),$=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3")),H=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/212/212-preview.mp3")),V=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"));b.useEffect(()=>{i&&(lt(ve(ye,`User/${i.uid}/balance`),A=>f(A.val()||0)),lt(ve(ye,"Luck/chicken"),A=>{A.exists()&&M(Number(A.val()))}))},[i]),b.useEffect(()=>{const A=Q=>{S.current&&!S.current.contains(Q.target)&&je(!1)};return se&&document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[se]),b.useEffect(()=>{const A=setInterval(()=>{xe(Math.floor(Math.random()*2951)+50)},1e3);return()=>clearInterval(A)},[]);const q=()=>window.innerWidth<480?160:180;b.useEffect(()=>{if(X.current){const A=q(),Q=w*A-window.innerWidth/2+A/2;X.current.scrollTo({left:Math.max(0,Q),behavior:"smooth"})}},[w]);const _=async()=>{if(!i){c==null||c();return}if(!(D||te||x!=="IDLE")){if(m<10){P({show:!0,message:a==="ar"?"   10 EGP":"Minimum bet is 10 EGP",type:"error"});return}if(u<m){P({show:!0,message:a==="ar"?"  ":"Insufficient Balance",type:"error"});return}O(!0),Ne(!1),we&&$.current.play().catch(()=>{}),await Xe(ve(ye,`User/${i.uid}`),{balance:u-m}),v("PLAYING"),N(1),setTimeout(()=>{O(!1),Ne(!0)},1e3)}},T=()=>{if(L||x!=="PLAYING")return;const A=w+1,Q=Math.random()*100>k;O(!0),Ne(!1),N(A),we&&$.current.play().catch(()=>{}),setTimeout(async()=>{Q?(v("GAMEOVER"),Ne(!1),we&&H.current.play().catch(()=>{}),setTimeout(()=>{W(!0),v("IDLE"),N(0),setTimeout(()=>{W(!1)},1e3)},2e3)):(Ne(!0),A>cc.length&&z()),O(!1)},1e3)},z=async()=>{if(x!=="PLAYING"||w<1)return;const A=parseFloat(cc[w-1]),Q=m*A;if(i){const _e=await zt(ve(ye,`User/${i.uid}/balance`));await Xe(ve(ye,`User/${i.uid}`),{balance:(_e.val()||0)+Q})}we&&V.current.play().catch(()=>{}),P({show:!0,message:`Win! +${Q.toFixed(2)} EGP`,type:"success"}),v("IDLE"),N(0),he(!0),setTimeout(()=>he(!1),1e3)},G={ar:{play:"",go:"",cashout:"",min:"",max:"",online:""},en:{play:"PLAY",go:"GO",cashout:"CASH OUT",min:"MIN",max:"MAX",online:"Online"}}[a],ne=w*q()+q()/2;return s.jsxs("div",{className:"h-[100dvh] bg-[#161824] flex flex-col font-['Cairo'] select-none overflow-hidden relative",dir:"ltr",children:[s.jsx(Yt,{isVisible:ie.show,message:ie.message,type:ie.type,onClose:()=>P({...ie,show:!1})}),s.jsxs("header",{className:"h-16 bg-[#3A3D51] px-4 flex items-center justify-between z-[60] relative shadow-md shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:t,className:"w-9 h-9 bg-zinc-800/40 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all border border-white/5",children:s.jsx("i",{className:"fas fa-chevron-left text-xs"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:wn.CHICKEN,alt:"Logo",className:"w-8 h-8 object-contain"}),s.jsx("span",{className:"text-white font-black tracking-tight text-sm uppercase",children:"CHICKEN ROAD"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"bg-[#4E5163] px-4 py-2 rounded-lg flex items-center gap-2 border border-white/5",children:[s.jsx("span",{className:"text-white/60 font-black text-[10px] leading-none uppercase tracking-tighter mt-0.5",children:"EGP"}),s.jsx("span",{className:"text-white font-black text-sm tabular-nums tracking-tighter leading-none",children:u.toFixed(2)})]}),s.jsxs("div",{className:"relative",ref:S,children:[s.jsx("button",{onClick:()=>je(!se),className:"w-9 h-9 bg-zinc-800/40 rounded-lg flex items-center justify-center text-zinc-400 active:scale-90 transition-all border border-white/5 hover:text-white",children:s.jsx("i",{className:`fas fa-cog transition-transform duration-500 ${se?"rotate-90 text-blue-400":""}`})}),se&&s.jsx(WE,{lang:a,isSound:we,toggleSound:()=>Ce(!we),onClose:()=>je(!1)})]})]})]}),s.jsxs("div",{className:"flex-1 relative flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-2 flex items-center gap-6 text-[9px] font-black text-[#A7B1E6] uppercase tracking-widest bg-black/10 z-20 shrink-0",children:[s.jsxs("span",{className:"flex items-center gap-2",children:["Live Wins ",s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_#10b981]"})]}),s.jsxs("span",{children:[G.online,": ",ue.toLocaleString()]})]}),s.jsx("div",{ref:X,className:"flex-1 overflow-x-auto no-scrollbar relative flex flex-col justify-end",children:s.jsxs("div",{className:"flex h-[320px] md:h-[420px] items-stretch relative shrink-0",children:[s.jsx("div",{className:`absolute bottom-0 z-40 w-24 h-24 transition-all duration-1000 ease-[cubic-bezier(0.4, 0, 0.2, 1)] pointer-events-none ${L?"animate-chicken-run":x==="GAMEOVER"?"":"animate-chicken-idle"}`,style:{left:`${ne}px`,transform:"translateX(-50%)",display:x==="GAMEOVER"?"none":"block",willChange:"left"},children:s.jsx("img",{src:wn.CHICKEN,className:"w-full h-auto drop-shadow-[0_10px_20px_rgba(0,0,0,0.5)]",alt:"Chicken"})}),x==="GAMEOVER"&&s.jsx("div",{className:"absolute bottom-0 z-50 w-24 h-24",style:{left:`${ne}px`,transform:"translateX(-50%)"},children:s.jsxs("div",{className:"relative w-full h-full flex justify-center items-center",children:[s.jsx("img",{src:wn.FIRE,className:"absolute -top-12 w-[120%] h-auto z-50 max-w-none",alt:"Fire"}),s.jsx("img",{src:wn.ROAST,className:"w-full h-auto relative z-40",alt:"Roast"})]})}),s.jsx("div",{className:"shrink-0 w-[160px] md:w-[180px] relative overflow-hidden",children:s.jsx("img",{src:wn.HOME,className:"w-full h-full object-cover",alt:"Home"})}),cc.map((A,Q)=>{const _e=Q+1,ee=Q%2===0,B=w>_e,C=w===_e,K=x==="GAMEOVER"&&C,Ee=C&&pe&&!K;return s.jsxs("div",{className:"shrink-0 w-[160px] md:w-[180px] relative overflow-hidden",children:[s.jsx("img",{src:ee?wn.LANE1:wn.LANE2,className:"w-full h-full object-cover",alt:"Lane"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"relative w-[80%] aspect-square flex items-center justify-center",children:[s.jsx("img",{src:B?wn.CROSS:Ee?wn.GREEN:K?wn.CRASH:wn.CENTER,className:`w-full h-auto transition-all duration-0 ${C?"scale-110":"scale-100 opacity-80"} ${Ee?"animate-turn-green":""}`,alt:"Center"}),!B&&!K&&s.jsxs("div",{className:`absolute font-black text-2xl text-white drop-shadow-lg transition-all duration-0 ${Ee?"text-[#fff] scale-125":"text-white"}`,style:{textShadow:Ee?"2px 2px 0 #60F363":"2px 2px 0 #707CBB"},children:[A,"x"]})]})})]},Q)}),s.jsx("div",{className:"shrink-0 w-[160px] md:w-[180px] relative overflow-hidden",children:s.jsx("img",{src:wn.HOME,className:"w-full h-full object-cover",alt:"Home"})}),s.jsx("div",{className:"shrink-0 w-[160px] md:w-[180px] relative overflow-hidden",children:s.jsx("img",{src:wn.FINAL,className:"w-full h-full object-cover",alt:"Final"})}),s.jsx("div",{className:"shrink-0 w-[160px] md:w-[180px] relative overflow-hidden",children:s.jsx("img",{src:wn.FINAL2,className:"w-full h-full object-cover",alt:"Final2"})})]})})]}),s.jsx("div",{className:"bg-[#3A3D51] p-4 pb-10 border-t-2 border-[#404B4F] z-[100] flex flex-col items-center shrink-0 min-h-[240px]",children:s.jsxs("div",{className:"w-full max-w-[360px] space-y-3",children:[s.jsxs("div",{className:"bg-[#4E5062] rounded-lg h-12 flex items-center justify-between px-2 w-full",children:[s.jsx("button",{onClick:()=>p(10),disabled:x!=="IDLE"||D||te,className:"px-3 h-8 bg-[#686A79] rounded text-white font-black text-xs uppercase",children:"MIN"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"number",value:m,onChange:A=>p(Math.max(0,Number(A.target.value))),disabled:x!=="IDLE"||D||te,className:"bg-transparent text-white font-black text-lg text-center outline-none w-24 leading-none"}),s.jsx("span",{className:"text-white/40 text-[10px] font-black leading-none mt-0.5",children:"EGP"})]}),s.jsx("button",{onClick:()=>p(2e3),disabled:x!=="IDLE"||D||te,className:"px-3 h-8 bg-[#686A79] rounded text-white font-black text-xs uppercase",children:"MAX"})]}),s.jsx("div",{className:"flex gap-3 w-full",children:[10,50,100,200].map(A=>s.jsxs("button",{onClick:()=>p(A),disabled:x!=="IDLE"||D||te,className:"flex-1 h-10 bg-[#4E5062] rounded-lg text-white font-black text-sm flex items-center justify-center gap-1 active:bg-[#23263a] transition-all",children:[A," ",s.jsx("span",{className:"text-[10px] opacity-40 mt-0.5",children:"EGP"})]},A))}),s.jsx("div",{className:"pt-2 w-full",children:x==="PLAYING"?s.jsxs("div",{className:"flex gap-4 w-full h-[90px]",children:[s.jsxs("button",{onClick:z,disabled:L,className:"flex-[1.2] bg-[#F7B731] rounded-xl flex flex-col items-center justify-center shadow-lg active:scale-95 transition-all text-[#23263a] overflow-hidden",children:[s.jsx("span",{className:"font-black uppercase text-[9px] tracking-tighter whitespace-nowrap px-1",children:"CASH OUT"}),s.jsx("span",{className:"font-black text-lg",children:(m*(w>0?parseFloat(cc[w-1]):0)).toFixed(1)})]}),s.jsx("button",{onClick:T,disabled:L,className:"flex-[2] bg-[#3DC55B] rounded-xl flex items-center justify-center shadow-lg active:scale-95 transition-all text-white font-black text-3xl",children:L?s.jsx("i",{className:"fas fa-circle-notch fa-spin text-2xl"}):"GO"})]}):s.jsx("div",{className:"w-full h-[90px] flex items-center",children:s.jsx("button",{onClick:_,disabled:x==="GAMEOVER"||D||te,className:"w-full h-16 bg-[#3DC55B] rounded-xl flex items-center justify-center shadow-xl active:scale-95 transition-all text-white font-black text-2xl tracking-widest uppercase disabled:opacity-50",children:D?s.jsx("i",{className:"fas fa-circle-notch fa-spin text-xl"}):G.play})})})]})}),s.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        @keyframes chicken-idle {
          0%, 100% { transform: translateX(-50%) translateY(0) scale(1); }
          50% { transform: translateX(-50%) translateY(-2px) scale(1.01); }
        }

        @keyframes chicken-run {
          0% { transform: translateX(-50%) translateY(0) rotate(0deg); }
          20% { transform: translateX(-50%) translateY(-10px) rotate(5deg); }
          40% { transform: translateX(-50%) translateY(0) rotate(-5deg); }
          60% { transform: translateX(-50%) translateY(-10px) rotate(5deg); }
          80% { transform: translateX(-50%) translateY(0) rotate(-5deg); }
          100% { transform: translateX(-50%) translateY(0) rotate(0deg); }
        }
        
        @keyframes turn-green {
          0% { transform: rotateY(0deg); }
          100% { transform: rotateY(-180deg); }
        }
        
        .animate-chicken-idle { animation: chicken-idle 2s ease-in-out infinite; }
        .animate-chicken-run { animation: chicken-run 1.1s linear infinite; }
        .animate-turn-green { animation: turn-green 0.1s linear forwards; }
        
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
      `})]})},$i={BACKGROUND:"https://i.ibb.co/HfN59sdt/background.png",COPY:"https://i.ibb.co/8n24dZ3Y/copy.png",SETTING:"https://i.ibb.co/WWMjb3md/setting.png",HEAD:"https://i.ibb.co/whTK20XM/head.png",TAIL:"https://i.ibb.co/B2PgbV5t/tail.png"},ua=[1.88,3.76,7.52,15.04,30.08,60.16,120.32],pb=["Ahmed_Cairo","Ziad_77","Mido_Vip","Youssef_X","Mostafa_Bet","Kimo_99","Hassan_Gamer","Omar_Elite","Tarek_Win","Samy_Pro","Mahmoud_VIP","Amr_Alex","Sherif_Gold","Hany_Strike","Karim_X"],KE=({roundId:i,hash:t,onClose:a,onCopy:l})=>s.jsx("div",{className:"absolute left-0 top-full mt-2 z-[10000] w-[180px] animate-in fade-in slide-in-from-top-2 duration-300 origin-top-left",children:s.jsxs("div",{className:"bg-[#1a1c1e] rounded-[1rem] border border-yellow-500/20 p-3 shadow-[0_30px_90px_rgba(0,0,0,1)] backdrop-blur-3xl overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 border-b border-white/5 pb-2",children:[s.jsx("h3",{className:"text-white font-black uppercase text-[7px] tracking-widest",children:"System Info"}),s.jsx("button",{onClick:c=>{c.stopPropagation(),a()},className:"text-zinc-500 hover:text-white transition-colors",children:s.jsx("i",{className:"fas fa-times text-[8px]"})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"bg-black/60 rounded-lg p-2 border border-white/5 flex items-center justify-between group hover:border-white/20 transition-all",children:[s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[s.jsx("span",{className:"text-zinc-600 text-[5px] font-black uppercase tracking-widest",children:"ID"}),s.jsxs("span",{className:"text-white font-bold text-[8px] tracking-tighter truncate w-[100px]",children:["#",i]})]}),s.jsx("button",{onClick:c=>{c.stopPropagation(),l(i)},className:"w-5 h-5 flex items-center justify-center bg-zinc-900 rounded-md border border-white/5 active:scale-90 transition-transform shrink-0",children:s.jsx("img",{src:$i.COPY,className:"w-2.5 h-2.5 opacity-40 group-hover:opacity-100 transition-opacity"})})]}),s.jsx("div",{className:"bg-black/60 rounded-lg p-2 border border-white/5 flex items-center justify-between group hover:border-white/20 transition-all",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-zinc-600 text-[5px] font-black uppercase tracking-widest",children:"Status"}),s.jsx("span",{className:"text-emerald-500 font-bold text-[8px] tracking-tighter uppercase",children:"Verified"})]})}),s.jsxs("div",{className:"bg-black/60 rounded-lg p-2 border border-white/5 flex items-center justify-between group hover:border-white/20 transition-all",children:[s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[s.jsx("span",{className:"text-zinc-600 text-[5px] font-black uppercase tracking-widest",children:"Hash"}),s.jsx("span",{className:"text-white font-bold text-[8px] tracking-tighter truncate w-[100px]",children:t})]}),s.jsx("button",{onClick:c=>{c.stopPropagation(),l(t)},className:"w-5 h-5 flex items-center justify-center bg-zinc-900 rounded-md border border-white/5 active:scale-90 transition-transform shrink-0",children:s.jsx("img",{src:$i.COPY,className:"w-2.5 h-2.5 opacity-40 group-hover:opacity-100 transition-opacity"})})]})]}),s.jsx("div",{className:"mt-2 pt-2 border-t border-white/5 text-center opacity-30",children:s.jsx("p",{className:"text-[4px] font-black text-zinc-500 uppercase tracking-[0.5em]",children:"SECURE FAIR PLAY"})})]})}),QE=({onClose:i,isSound:t,toggleSound:a,lang:l})=>{const[c,u]=b.useState("main"),f={ar:{limits:"",how:" ",sound:"",min:"",max:"",step1:"    (Heads or Tails).",step2:"    .",step3:"     .",step4:"   (Series)       ."},en:{limits:"Limits",how:"How to play",sound:"Sound",min:"Min",max:"Max",step1:"Choose Heads or Tails.",step2:"Set your bet amount.",step3:"Click the chosen side to flip the coin.",step4:"In Series mode, you can cash out early or continue for massive multipliers."}}[l];return s.jsx("div",{className:"absolute right-0 top-full mt-2 z-[10000] w-[200px] animate-in fade-in slide-in-from-top-2 duration-300 origin-top-right",children:s.jsx("div",{className:"bg-[#1a1c1e] rounded-[1rem] border border-yellow-500/20 p-4 shadow-[0_30px_90px_rgba(0,0,0,1)] backdrop-blur-3xl overflow-hidden",children:c==="main"?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>u("limits"),className:"w-full flex items-center justify-between p-2 rounded-lg bg-black/40 border border-white/5 hover:border-white/20 transition-all group",children:[s.jsx("span",{className:"text-white font-black uppercase text-[8px] tracking-widest",children:f.limits}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]}),s.jsxs("button",{onClick:()=>u("how-to"),className:"w-full flex items-center justify-between p-2 rounded-lg bg-black/40 border border-white/5 hover:border-white/20 transition-all group",children:[s.jsx("span",{className:"text-white font-black uppercase text-[8px] tracking-widest",children:f.how}),s.jsx("i",{className:"fas fa-chevron-right text-[8px] text-zinc-600"})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-black/40 border border-white/5",children:[s.jsx("span",{className:"text-white font-black uppercase text-[8px] tracking-widest",children:f.sound}),s.jsx("button",{onClick:a,className:`w-8 h-4 rounded-full relative transition-all ${t?"bg-blue-600":"bg-zinc-800"}`,children:s.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all duration-300 ${t?"translate-x-4.5":"translate-x-0.5"}`})})]}),s.jsx("button",{onClick:i,className:"w-full mt-2 text-zinc-600 font-black uppercase text-[7px] hover:text-white transition-colors",children:l==="ar"?"":"Close"})]}):c==="limits"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>u("main"),className:"text-zinc-600 hover:text-white transition-colors text-[8px]",children:[s.jsx("i",{className:"fas fa-chevron-left mr-1"})," Back"]}),s.jsxs("div",{className:"bg-black/60 p-2 rounded-lg border border-white/5 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500 font-black text-[7px] uppercase",children:f.min}),s.jsx("span",{className:"text-white font-black text-[8px]",children:"10 EGP"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500 font-black text-[7px] uppercase",children:f.max}),s.jsx("span",{className:"text-white font-black text-[8px]",children:"2000 EGP"})]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>u("main"),className:"text-zinc-600 hover:text-white transition-colors text-[8px]",children:[s.jsx("i",{className:"fas fa-chevron-left mr-1"})," Back"]}),s.jsx("div",{className:"bg-black/60 p-2 rounded-lg border border-white/5 space-y-2 max-h-[150px] overflow-y-auto no-scrollbar",children:[f.step1,f.step2,f.step3,f.step4].map((m,p)=>s.jsxs("p",{className:"text-zinc-400 text-[7px] font-bold leading-relaxed",children:[" ",m]},p))})]})})})},ZE=({user:i,onBack:t,lang:a,onDepositClick:l,onAuthRequired:c})=>{const[u,f]=b.useState(0),[m,p]=b.useState(10),[x,v]=b.useState(!1),[w,N]=b.useState(!1),[k,M]=b.useState(0),[L,O]=b.useState(0),[D,W]=b.useState("IDLE"),[te,he]=b.useState({show:!1,message:"",type:"info"}),[pe,Ne]=b.useState(50),[ie,P]=b.useState(!1),[ue,xe]=b.useState(!1),[se,je]=b.useState(!0),[we,Ce]=b.useState(()=>Math.random().toString(36).substr(2,12)),[X,S]=b.useState(()=>Array.from({length:32},()=>Math.floor(Math.random()*16).toString(16)).join("")),[$,H]=b.useState(null),[V,q]=b.useState("all"),[_,T]=b.useState([]),[z,G]=b.useState([]),ne=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3")),A=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3")),Q=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/212/212-preview.mp3")),_e=b.useRef(null),ee=b.useRef(null),B=b.useCallback((fe=!1)=>{const Ie=pb[Math.floor(Math.random()*pb.length)],me=Math.floor(20+Math.random()*1e3),ae=Math.random()>.4,Z=fe?Math.floor(Math.random()*4)+3:Math.floor(Math.random()*2),I=ae?ua[Z]:0;return{id:Math.random().toString(36).substr(2,9),username:Ie,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${Ie}`,betAmount:me,multiplier:ae?`x${I.toFixed(2)}`:"x0.00",payout:ae?(me*I).toFixed(1):"--",status:ae?"win":"lose",timestamp:Date.now(),type:fe?"top":"all"}},[]),C=()=>{Ce(Math.random().toString(36).substr(2,12)),S(Array.from({length:32},()=>Math.floor(Math.random()*16).toString(16)).join(""))},K=fe=>{navigator.clipboard.writeText(fe),he({show:!0,message:a==="ar"?" !":"Copied!",type:"success"})};b.useEffect(()=>{const fe=Ie=>{_e.current&&!_e.current.contains(Ie.target)&&P(!1),ee.current&&!ee.current.contains(Ie.target)&&xe(!1)};return(ie||ue)&&document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[ie,ue]),b.useEffect(()=>{if(i){lt(ve(ye,`User/${i.uid}/balance`),me=>f(me.val()||0)),lt(ve(ye,"Luck/coinflip"),me=>{me.exists()&&Ne(Number(me.val()))});const Ie=localStorage.getItem(`coinflip_history_${i.uid}`);if(Ie)try{G(JSON.parse(Ie))}catch{G([])}}T(Array.from({length:10},(Ie,me)=>B(me<3)));const fe=setInterval(()=>{const Ie=B(Math.random()>.9);T(me=>[Ie,...me.slice(0,14)])},4500);return()=>clearInterval(fe)},[i,B]),b.useEffect(()=>{if($!==null){const fe=setTimeout(()=>H(null),1e3);return()=>clearTimeout(fe)}},[$]);const Ee=(fe,Ie,me)=>{if(!i)return;const ae={id:Date.now().toString(),username:"You",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${i.uid}`,betAmount:fe,multiplier:me==="win"?`x${Ie.toFixed(2)}`:"x0.00",payout:me==="win"?(fe*Ie).toFixed(1):"--",status:me,timestamp:Date.now(),type:"my"};G(Z=>{const I=[ae,...Z].slice(0,50);return localStorage.setItem(`coinflip_history_${i.uid}`,JSON.stringify(I)),I})},ge=async fe=>{if(x)return;if(!i){c==null||c();return}if(k===0){if(u<m){he({show:!0,message:a==="ar"?"  ":"Insufficient Balance",type:"error"});return}await Xe(ve(ye,`User/${i.uid}`),{balance:u-m}),W("PLAYING"),H(null)}v(!0),se&&ne.current.play().catch(()=>{}),C();const me=Math.random()*100<pe?fe:fe==="heads"?"tails":"heads";let I=L+8*180;const ce=me==="heads",ke=I/180%2===0;ce!==ke&&(I+=180),O(I),setTimeout(async()=>{if(v(!1),me===fe){se&&A.current.play().catch(()=>{}),H("win");const Re=k+1;if(M(Re),w)Re===ua.length&&Te(Re);else{const Ae=ua[0],Oe=m*Ae,Ve=await zt(ve(ye,`User/${i.uid}/balance`));await Xe(ve(ye,`User/${i.uid}`),{balance:(Ve.val()||0)+Oe}),he({show:!0,message:`Win! +${Oe.toFixed(2)} EGP`,type:"success"}),Ee(m,Ae,"win"),M(0),W("IDLE")}}else se&&Q.current.play().catch(()=>{}),H("lose"),he({show:!0,message:a==="ar"?" !":"Better luck next time!",type:"error"}),Ee(m,0,"lose"),M(0),W("IDLE")},1500)},Te=async fe=>{const Ie=fe!==void 0?fe:k;if(Ie===0||x)return;const me=ua[Ie-1],ae=m*me;if(i){const Z=await zt(ve(ye,`User/${i.uid}/balance`));await Xe(ve(ye,`User/${i.uid}`),{balance:(Z.val()||0)+ae})}se&&A.current.play().catch(()=>{}),he({show:!0,message:`Collected +${ae.toFixed(2)} EGP`,type:"success"}),Ee(m,me,"win"),M(0),W("IDLE")},Ge=b.useMemo(()=>V==="my"?z:V==="top"?_.filter(fe=>fe.type==="top"):_,[V,_,z]),Ue={ar:{live:"",top:"",my:"",player:"",multiplier:"",win:"",possiblePayout:" ",series:"Series"},en:{live:"Live",top:"Top",my:"My Bets",player:"Player",multiplier:"Multiplier",win:"Payout",possiblePayout:"Possible payout",series:"Series"}}[a];return s.jsxs("div",{className:"min-h-screen bg-[#0d0f12] text-white flex flex-col font-['Cairo'] select-none overflow-y-auto pb-32",dir:"ltr",children:[s.jsx(Yt,{isVisible:te.show,message:te.message,type:te.type,onClose:()=>he({...te,show:!1})}),s.jsxs("header",{className:"px-4 py-4 flex items-center justify-between bg-black/60 backdrop-blur-xl border-b border-white/5 sticky top-0 z-[120]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:t,className:"w-9 h-9 bg-zinc-900 rounded-xl flex items-center justify-center border border-white/10 active:scale-90 transition-all",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400 text-xs"})}),s.jsxs("div",{className:"flex items-baseline gap-1.5",children:[s.jsx("span",{className:"text-xl font-normal text-red-600 font-['Trade_Winds'] tracking-tighter",children:"REX"}),s.jsx("span",{className:"text-white/40 text-xs font-bold uppercase",children:""}),s.jsx("span",{className:"text-lg font-black uppercase tracking-tighter",children:"COINFLIP"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900/40 px-3 py-1.5 rounded-xl border border-white/5",children:[s.jsx("div",{className:"w-4 h-4 bg-zinc-800 rounded flex items-center justify-center border border-white/10",children:s.jsx("i",{className:"fas fa-wallet text-[8px] text-zinc-500"})}),s.jsxs("span",{className:"text-white font-black text-xs tabular-nums",children:[u.toFixed(2),"EGP"]})]}),s.jsxs("div",{className:"relative",ref:ee,children:[s.jsx("button",{onClick:()=>xe(!ue),className:"w-9 h-9 bg-zinc-900 rounded-xl flex items-center justify-center border border-white/5 active:scale-90 transition-all hover:border-yellow-500/30",children:s.jsx("img",{src:$i.SETTING,className:`w-4 h-4 transition-transform duration-500 ${ue?"rotate-90":""}`})}),ue&&s.jsx(QE,{lang:a,isSound:se,toggleSound:()=>je(!se),onClose:()=>xe(!1)})]})]})]}),s.jsxs("main",{className:"flex-1 p-4 flex flex-col items-center relative min-h-[400px]",children:[s.jsxs("div",{className:"relative w-full aspect-square flex items-center justify-center mt-4 rounded-[2.5rem] overflow-hidden border border-white/10 bg-[#0a0c0f] shadow-inner",children:[s.jsx("div",{className:"absolute inset-0 z-0 opacity-80 pointer-events-none",style:{backgroundImage:`url(${$i.BACKGROUND})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",mixBlendMode:"luminosity"}}),s.jsxs("div",{className:"absolute top-6 left-6 z-[100]",ref:_e,children:[s.jsx("button",{onClick:()=>P(!ie),className:"text-zinc-500 hover:text-zinc-300 transition-colors active:scale-90",children:s.jsx("i",{className:"fas fa-question-circle text-lg"})}),ie&&s.jsx(KE,{roundId:we,hash:X,onClose:()=>P(!1),onCopy:K})]}),s.jsx("div",{className:`absolute w-[280px] h-[280px] blur-[100px] rounded-full animate-pulse z-0 transition-all duration-700 ${$==="win"?"bg-yellow-400/80 shadow-[0_0_120px_#fbbf24]":$==="lose"?"bg-red-500/80 shadow-[0_0_120px_#ef4444]":"bg-yellow-600/40 shadow-[0_0_90px_rgba(202,138,4,0.3)]"}`}),s.jsx("div",{className:`absolute w-[450px] h-[450px] blur-[150px] rounded-full z-0 transition-all duration-700 ${$==="win"?"bg-yellow-400/40":$==="lose"?"bg-red-600/40":"bg-yellow-600/10"}`}),s.jsx("div",{className:`transition-transform duration-[1500ms] ease-out-back ${x?"animate-coin-toss":""}`,children:s.jsxs("div",{className:"relative w-56 h-56 transition-transform duration-[1500ms] cubic-bezier(0.15, 0, 0.15, 1) z-10",style:{transform:`rotateY(${L}deg)`,transformStyle:"preserve-3d"},children:[s.jsx("div",{className:"absolute inset-0 backface-hidden",style:{transform:"translateZ(2px)"},children:s.jsx("img",{src:$i.HEAD,className:"w-full h-full object-contain drop-shadow-[0_25px_60px_rgba(0,0,0,0.6)]",alt:"Heads"})}),s.jsx("div",{className:"absolute inset-0 backface-hidden",style:{transform:"rotateY(180deg) translateZ(2px)"},children:s.jsx("img",{src:$i.TAIL,className:"w-full h-full object-contain drop-shadow-[0_25px_60px_rgba(0,0,0,0.6)]",alt:"Tails"})}),s.jsx("div",{className:"absolute inset-0 rounded-full border-[6px] border-yellow-800/20 translate-z-[-1px]"})]})})]}),s.jsxs("div",{className:"w-full mt-10",children:[s.jsxs("div",{className:"flex items-center gap-4 justify-between bg-black/40 p-4 rounded-3xl border border-white/5 h-[80px]",children:[w?s.jsx("div",{className:"flex-1 flex gap-2 overflow-x-auto no-scrollbar py-2 px-1 animate-in fade-in slide-in-from-left-2",children:ua.map((fe,Ie)=>{const me=k>Ie,ae=k===Ie;return s.jsxs("div",{className:`shrink-0 w-16 h-12 flex flex-col items-center justify-center rounded-xl border transition-all duration-300 ${me?"bg-emerald-500/20 border-emerald-500 text-emerald-400":ae?"bg-yellow-500/10 border-yellow-500 text-yellow-400 scale-110 shadow-lg":"bg-[#1a1c1e]/80 border-white/5 text-zinc-500"}`,children:[s.jsx("i",{className:"fas fa-question-circle text-[8px] mb-1 opacity-40"}),s.jsxs("span",{className:"text-[10px] font-black tracking-tighter",children:["x",fe]})]},Ie)})}):s.jsxs("div",{className:"flex-1 flex gap-8 animate-in fade-in slide-in-from-left-2 duration-300 items-center",children:[s.jsxs("div",{className:"flex flex-col text-left",children:[s.jsx("span",{className:"text-zinc-600 text-[9px] font-black uppercase tracking-widest mb-0.5 whitespace-nowrap",children:Ue.possiblePayout}),s.jsxs("span",{className:"text-white font-black text-xl tabular-nums tracking-tighter",children:[(m*ua[0]).toFixed(2)," EGP"]})]}),s.jsxs("div",{className:"flex flex-col text-left",children:[s.jsx("span",{className:"text-zinc-600 text-[9px] font-black uppercase tracking-widest mb-0.5 whitespace-nowrap",children:Ue.multiplier}),s.jsxs("span",{className:"text-white font-black text-xl tabular-nums tracking-tighter",children:["x",ua[0].toFixed(2)]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 border-l border-white/10 pl-4 shrink-0 h-full",children:[s.jsx("span",{className:"text-xs font-bold text-zinc-500 uppercase tracking-tighter",children:Ue.series}),s.jsx("button",{onClick:()=>{k===0&&N(!w)},className:`w-12 h-6 rounded-full relative transition-all ${w?"bg-blue-600 shadow-[0_0_15px_#2563eb]":"bg-zinc-800"} ${k>0?"opacity-50 grayscale cursor-not-allowed":""}`,children:s.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition-all duration-300 ${w?"translate-x-6":"translate-x-0"}`})})]})]}),s.jsxs("div",{className:"bg-[#1a1c1e] rounded-[2.5rem] p-5 space-y-4 border border-white/10 shadow-2xl mt-6",children:[s.jsxs("div",{className:"flex gap-3 h-32",children:[s.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex-1 bg-[#2a2d31] rounded-2xl p-4 border border-white/5 flex items-center justify-between shadow-inner group transition-all duration-300",children:[s.jsxs("div",{className:"flex items-baseline gap-1.5 overflow-hidden",children:[s.jsx("span",{className:"text-white font-black text-2xl tabular-nums leading-none truncate",children:m.toFixed(0)}),s.jsx("span",{className:"text-zinc-500 font-black text-[11px] uppercase tracking-tighter",children:".00 EGP"})]}),s.jsxs("div",{className:"flex flex-col items-center justify-between h-full gap-2",children:[s.jsx("button",{onClick:()=>p(fe=>Math.min(2e3,fe+1)),disabled:k>0,className:"text-zinc-500 hover:text-white transition-all text-sm active:scale-125 disabled:opacity-20",children:s.jsx("i",{className:"fas fa-plus"})}),s.jsx("button",{onClick:()=>p(fe=>Math.max(10,fe-1)),disabled:k>0,className:"text-zinc-500 hover:text-white transition-all text-sm active:scale-125 disabled:opacity-20",children:s.jsx("i",{className:"fas fa-minus"})})]})]}),s.jsxs("div",{className:"flex gap-2 shrink-0",children:[s.jsx("button",{onClick:()=>p(fe=>Math.max(10,Math.floor(fe/2))),disabled:k>0,className:"flex-1 bg-[#2a2d31] border border-white/5 py-2.5 rounded-xl text-zinc-500 font-black text-xs uppercase active:scale-95 disabled:opacity-20 transition-all tracking-widest",children:"/2"}),s.jsx("button",{onClick:()=>p(fe=>Math.min(2e3,fe*2)),disabled:k>0,className:"flex-1 bg-[#2a2d31] border border-white/5 py-2.5 rounded-xl text-zinc-500 font-black text-xs uppercase active:scale-95 disabled:opacity-20 transition-all tracking-widest",children:"x2"})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col gap-2 h-full",children:[s.jsx("button",{onClick:()=>ge("heads"),disabled:x,className:"flex-1 bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 rounded-2xl text-black font-black text-xs uppercase tracking-widest shadow-xl active:translate-y-1 transition-all disabled:opacity-50",children:"Heads"}),s.jsx("button",{onClick:()=>ge("tails"),disabled:x,className:"flex-1 bg-gradient-to-r from-zinc-100 via-zinc-300 to-zinc-400 rounded-2xl text-black font-black text-xs uppercase tracking-widest shadow-xl active:translate-y-1 transition-all disabled:opacity-50",children:"Tails"})]})]}),s.jsxs("button",{onClick:()=>Te(),disabled:k===0||x,className:`w-full h-16 rounded-[1.8rem] font-black text-sm uppercase tracking-[0.3em] transition-all flex items-center justify-center gap-3 ${k>0&&!x?"bg-gradient-to-r from-emerald-500 to-emerald-700 text-white shadow-[0_10px_30px_rgba(16,185,129,0.3)] active:scale-95":"bg-zinc-800 text-zinc-600 opacity-30 cursor-not-allowed"}`,children:[s.jsx("span",{children:"Withdraw"}),k>0&&s.jsxs("span",{className:"bg-black/20 px-4 py-1.5 rounded-full text-xs font-black",children:[(m*ua[k-1]).toFixed(2),"EGP"]})]})]})]})]}),s.jsxs("footer",{className:"mt-10 px-6 space-y-6 pb-24",children:[s.jsx("div",{className:"flex items-center justify-between bg-zinc-900/40 p-1 rounded-2xl border border-white/5",children:[{id:"all",label:Ue.live},{id:"top",label:Ue.top},{id:"my",label:Ue.my}].map(fe=>s.jsx("button",{onClick:()=>q(fe.id),className:`flex-1 py-2.5 text-[10px] font-black uppercase rounded-xl transition-all ${V===fe.id?"bg-zinc-800 text-white shadow-lg":"text-zinc-600"}`,children:fe.label},fe.id))}),s.jsx("div",{className:"bg-[#1a1c1e] rounded-[2rem] border border-white/5 overflow-hidden shadow-2xl",children:s.jsxs("table",{className:"w-full text-left text-[10px] font-bold",children:[s.jsx("thead",{className:"bg-black/40 text-zinc-600 uppercase tracking-widest border-b border-white/5",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-4",children:Ue.player}),s.jsx("th",{className:"px-5 py-4 text-center",children:Ue.multiplier}),s.jsx("th",{className:"px-5 py-4 text-right",children:Ue.win})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:Ge.length>0?Ge.map((fe,Ie)=>s.jsxs("tr",{className:"hover:bg-white/[0.01] animate-in slide-in-from-bottom-2 duration-300",children:[s.jsxs("td",{className:"px-5 py-4 flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full border border-white/10 p-0.5 overflow-hidden ${fe.username==="You"?"bg-emerald-500/10":"bg-zinc-800"}`,children:s.jsx("img",{src:fe.avatar,className:"w-full h-full object-cover rounded-full",alt:""})}),s.jsxs("div",{className:"flex flex-col text-left",children:[s.jsx("span",{className:fe.username==="You"?"text-emerald-400 font-black":"text-white",children:fe.username}),s.jsx("span",{className:"text-zinc-600 font-black tabular-nums",children:fe.betAmount.toFixed(2)})]})]}),s.jsx("td",{className:"px-5 py-4 text-center",children:s.jsx("span",{className:`px-2 py-0.5 rounded text-[9px] font-black tabular-nums ${fe.status==="win"?"bg-emerald-500/10 text-emerald-500":"bg-zinc-900 text-zinc-700"}`,children:fe.multiplier})}),s.jsx("td",{className:"px-5 py-4 text-right",children:s.jsx("span",{className:`${fe.status==="win"?"text-emerald-400 font-black":"text-zinc-800"} tabular-nums`,children:fe.status==="win"?`+${fe.payout}`:"--"})})]},fe.id+Ie)):s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-5 py-12 text-center text-zinc-700 uppercase font-black tracking-widest opacity-40",children:"No data recorded"})})})]})})]}),s.jsx("style",{children:`
        .backface-hidden {
          backface-visibility: hidden;
          -webkit-backface-visibility: hidden;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        @keyframes coin-toss {
          0% { transform: translateY(0) scale(1); }
          40% { transform: translateY(-120px) scale(1.15); }
          100% { transform: translateY(0) scale(1); }
        }
        .animate-coin-toss {
          animation: coin-toss 1.5s cubic-bezier(0.15, 0, 0.15, 1) forwards;
        }

        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
      `})]})},Rn=["7","cherry","lemon","watermelon","diamond","bell"],Mf={7:{icon:"7",color:"text-red-600",bg:"from-red-500/20 to-red-900/40"},cherry:{icon:"",color:"text-red-400",bg:"from-rose-500/20 to-rose-900/40"},lemon:{icon:"",color:"text-yellow-400",bg:"from-yellow-500/20 to-yellow-900/40"},watermelon:{icon:"",color:"text-green-500",bg:"from-green-500/20 to-green-900/40"},diamond:{icon:"",color:"text-cyan-400",bg:"from-cyan-500/20 to-cyan-900/40"},bell:{icon:"",color:"text-orange-400",bg:"from-amber-500/20 to-amber-900/40"}},Of=({symbol:i,isSpinning:t})=>s.jsxs("div",{className:`relative flex items-center justify-center w-full h-full transition-transform duration-500 ${t?"blur-[2px]":"scale-110"}`,children:[s.jsx("div",{className:`absolute inset-4 rounded-full blur-2xl opacity-30 bg-gradient-to-br ${Mf[i].bg}`}),s.jsx("span",{className:`text-6xl md:text-7xl font-black select-none ${Mf[i].color} ${i==="7"?"font-['Orbitron']":""}`,style:i==="7"?{textShadow:`
          0 1px 0 #991b1b,
          0 2px 0 #991b1b,
          0 3px 0 #991b1b,
          0 4px 0 #991b1b,
          0 5px 0 #7f1d1d,
          0 6px 1px rgba(0,0,0,.1),
          0 0 5px rgba(0,0,0,.1),
          0 1px 3px rgba(0,0,0,.3),
          0 3px 5px rgba(0,0,0,.2),
          0 5px 10px rgba(0,0,0,.25),
          0 10px 10px rgba(0,0,0,.2),
          0 20px 20px rgba(0,0,0,.15)
        `}:{filter:"drop-shadow(0 10px 10px rgba(0,0,0,0.5))"},children:Mf[i].icon}),!t&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-white/10 pointer-events-none rounded-2xl"})]}),JE=({user:i,onBack:t,lang:a,onAuthRequired:l})=>{const[c,u]=b.useState(0),[f,m]=b.useState(20),[p,x]=b.useState(["7","7","7"]),[v,w]=b.useState(!1),[N,k]=b.useState(null),[M,L]=b.useState(40),[O,D]=b.useState({show:!1,message:"",type:"info"}),W=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3")),te=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3")),he=b.useRef(new Audio("https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3"));b.useEffect(()=>{i&&(lt(ve(ye,`User/${i.uid}/balance`),ie=>u(ie.val()||0)),lt(ve(ye,"Luck/slot777"),ie=>{ie.exists()&&L(Number(ie.val()))}))},[i]);const pe=async()=>{if(v)return;if(!i){l==null||l();return}if(c<f){D({show:!0,message:a==="ar"?"  ":"Insufficient Balance",type:"error"});return}w(!0),k(null),W.current.play().catch(()=>{}),await Xe(ve(ye,`User/${i.uid}`),{balance:c-f});const ie=Math.random()*100<M;let P;if(ie){const xe=Math.random()>.8?"7":Rn[Math.floor(Math.random()*(Rn.length-1))+1];P=[xe,xe,xe]}else P=[Rn[Math.floor(Math.random()*Rn.length)],Rn[Math.floor(Math.random()*Rn.length)],Rn[Math.floor(Math.random()*Rn.length)]],P[0]===P[1]&&P[1]===P[2]&&(P[2]=Rn[(Rn.indexOf(P[2])+1)%Rn.length]);setTimeout(()=>{x(P),w(!1),he.current.play().catch(()=>{});const ue=P.every(se=>se==="7");if(P.every(se=>se===P[0])){te.current.play().catch(()=>{});const je=f*(ue?2:1.2);zt(ve(ye,`User/${i.uid}/balance`)).then(we=>{Xe(ve(ye,`User/${i.uid}`),{balance:(we.val()||0)+je}),k(je),D({show:!0,message:` WIN +${je.toFixed(1)} EGP!`,type:"success"})})}},2500)},Ne={ar:{title:"777 ",bet:"",spin:"",balance:""},en:{title:"777 SLOT",bet:"STAKE",spin:"SPIN",balance:"BALANCE"}}[a];return s.jsxs("div",{className:"min-h-screen bg-[#07080a] text-white flex flex-col font-['Cairo'] overflow-y-auto pb-32 no-scrollbar relative",dir:"ltr",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_-20%,#330000,transparent)] opacity-40 pointer-events-none"}),s.jsx(Yt,{isVisible:O.show,message:O.message,type:O.type,onClose:()=>D({...O,show:!1})}),s.jsxs("header",{className:"p-5 flex items-center justify-between bg-black/60 backdrop-blur-xl border-b border-white/5 sticky top-0 z-[110] shadow-2xl",children:[s.jsx("button",{onClick:t,className:"w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center border border-white/10 active:scale-90 transition-all shadow-lg",children:s.jsx("i",{className:"fas fa-chevron-left text-zinc-400"})}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("h1",{className:"text-2xl font-black tracking-tighter text-red-600 font-['Orbitron'] drop-shadow-[0_0_15px_rgba(220,38,38,0.8)]",children:Ne.title}),s.jsx("span",{className:"text-[7px] text-zinc-500 font-black uppercase tracking-[0.5em] mt-0.5",children:"Physical Engine Pro"})]}),s.jsxs("div",{className:"bg-zinc-900/80 px-4 py-2 rounded-2xl border border-white/5 flex flex-col items-end shadow-inner",children:[s.jsx("span",{className:"text-[7px] text-zinc-600 font-black uppercase tracking-widest leading-none mb-1",children:Ne.balance}),s.jsxs("span",{className:"text-emerald-500 font-black text-xs tabular-nums",children:["$",c.toFixed(1)]})]})]}),s.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4 pt-10 gap-10",children:[s.jsxs("div",{className:"relative w-full max-w-sm aspect-square bg-gradient-to-b from-[#2a2a2e] via-[#1a1a1e] to-[#0a0a0c] rounded-[4rem] p-8 border-[6px] border-[#3a3a3e] shadow-[0_40px_100px_rgba(0,0,0,1),inset_0_4px_10px_rgba(255,255,255,0.1)] overflow-hidden",children:[s.jsx("div",{className:`absolute inset-0 border-[10px] border-red-600/10 rounded-[4rem] transition-all duration-300 ${v?"animate-pulse opacity-100 border-red-600/40":"opacity-0"}`}),s.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex gap-3 z-20",children:[1,2,3,4,5].map(ie=>s.jsx("div",{className:`w-2 h-2 rounded-full shadow-[0_0_15px_currentColor] transition-all duration-300 ${v?"bg-red-500 animate-bounce":"bg-zinc-800 text-zinc-800"}`,style:{animationDelay:`${ie*.1}s`}},ie))}),s.jsxs("div",{className:"h-full w-full bg-[#050505] rounded-[3rem] border-[10px] border-[#111] flex items-center justify-around gap-2 p-5 relative overflow-hidden shadow-[inset_0_0_80px_rgba(0,0,0,1)]",children:[s.jsx("div",{className:"absolute left-[33%] inset-y-0 w-1 bg-gradient-to-r from-transparent via-white/5 to-transparent z-30"}),s.jsx("div",{className:"absolute left-[66%] inset-y-0 w-1 bg-gradient-to-r from-transparent via-white/5 to-transparent z-30"}),!v&&N&&s.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 h-1 bg-red-600 shadow-[0_0_30px_#ef4444] z-[45] animate-pulse"}),p.map((ie,P)=>s.jsxs("div",{className:"flex-1 h-full bg-gradient-to-b from-[#080808] via-[#121212] to-[#080808] rounded-3xl border border-white/5 flex items-center justify-center relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black z-40 pointer-events-none opacity-80"}),s.jsx("div",{className:"absolute inset-y-0 left-0 w-4 bg-gradient-to-r from-black/60 to-transparent z-40 pointer-events-none"}),s.jsx("div",{className:"absolute inset-y-0 right-0 w-4 bg-gradient-to-l from-black/60 to-transparent z-40 pointer-events-none"}),s.jsx("div",{className:`w-full h-full flex flex-col items-center justify-center transition-all ${v?"animate-reel-spin":"animate-reel-bounce"}`,children:v?s.jsxs("div",{className:"flex flex-col gap-16 py-10 opacity-60 filter blur-[3px]",children:[Rn.map((ue,xe)=>s.jsx(Of,{symbol:ue,isSpinning:!0},xe)),Rn.map((ue,xe)=>s.jsx(Of,{symbol:ue,isSpinning:!0},xe+"_dup"))]}):s.jsx(Of,{symbol:ie,isSpinning:!1})})]},P)),s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(135deg,rgba(255,255,255,0.05)_0%,rgba(255,255,255,0)_40%,rgba(255,255,255,0.02)_50%,rgba(255,255,255,0)_100%)] z-50 pointer-events-none"})]}),s.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 w-40 h-1.5 bg-red-600/20 blur-md rounded-full"})]}),s.jsxs("div",{className:"w-full max-w-sm flex flex-col gap-6",children:[s.jsxs("div",{className:"h-16 bg-[#0a0a0c] border-[3px] border-[#1a1c1e] rounded-2xl flex items-center justify-center overflow-hidden shadow-[inset_0_4px_10px_rgba(0,0,0,0.8)] relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/[0.02] to-transparent pointer-events-none"}),N?s.jsxs("div",{className:"animate-win-reveal flex items-center gap-4",children:[s.jsxs("div",{className:"flex -space-x-2",children:[s.jsx("i",{className:"fas fa-star text-yellow-400 text-sm animate-ping"}),s.jsx("i",{className:"fas fa-star text-yellow-400 text-sm animate-ping delay-100"})]}),s.jsxs("span",{className:"text-[#FFFF00] font-black text-2xl tracking-tighter italic drop-shadow-[0_0_15px_rgba(255,255,0,0.5)]",children:["JACKPOT $",N.toFixed(1)]}),s.jsxs("div",{className:"flex -space-x-2",children:[s.jsx("i",{className:"fas fa-star text-yellow-400 text-sm animate-ping delay-200"}),s.jsx("i",{className:"fas fa-star text-yellow-400 text-sm animate-ping delay-300"})]})]}):s.jsxs("div",{className:"flex items-center gap-3 opacity-30",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-red-600 rounded-full animate-pulse"}),s.jsx("span",{className:"text-white font-black text-[9px] uppercase tracking-[0.6em]",children:v?"SYSTEM SPINNING...":"PLACE YOUR STAKE"})]})]}),s.jsxs("div",{className:"bg-gradient-to-b from-[#1a1c1e] to-[#0a0a0c] rounded-[3rem] p-6 border-[3px] border-[#222] shadow-2xl space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex justify-between items-center px-4",children:[s.jsx("span",{className:"text-zinc-600 text-[10px] font-black uppercase tracking-widest",children:Ne.bet}),s.jsx("div",{className:"bg-red-600/10 px-2 py-0.5 rounded border border-red-600/20",children:s.jsx("span",{className:"text-red-500 text-[8px] font-black uppercase",children:"Low Volatility"})})]}),s.jsxs("div",{className:"bg-zinc-950 rounded-[2rem] p-1 border-[2px] border-zinc-900 flex items-center h-18 shadow-[inset_0_4px_12px_rgba(0,0,0,0.6)]",children:[s.jsx("button",{onClick:()=>m(Math.max(10,f-10)),className:"w-14 h-14 bg-[#1a1c1e] border-2 border-zinc-800 rounded-2xl flex items-center justify-center text-zinc-500 active:bg-zinc-800 active:scale-95 transition-all shadow-lg",children:s.jsx("i",{className:"fas fa-minus"})}),s.jsx("div",{className:"flex-1 text-center group",children:s.jsxs("div",{className:"flex items-baseline justify-center gap-1.5",children:[s.jsx("span",{className:"text-white font-black text-3xl tabular-nums tracking-tighter drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:f}),s.jsx("span",{className:"text-zinc-700 font-black text-xs uppercase tracking-widest italic",children:"EGP"})]})}),s.jsx("button",{onClick:()=>m(Math.min(2e3,f+10)),className:"w-14 h-14 bg-[#1a1c1e] border-2 border-zinc-800 rounded-2xl flex items-center justify-center text-zinc-500 active:bg-zinc-800 active:scale-95 transition-all shadow-lg",children:s.jsx("i",{className:"fas fa-plus"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-black/40 p-4 rounded-2xl border border-white/5 flex flex-col items-center group overflow-hidden relative",children:[s.jsx("div",{className:"absolute inset-0 bg-red-600/5 translate-y-full group-hover:translate-y-0 transition-transform duration-500"}),s.jsx("span",{className:"text-zinc-600 text-[8px] font-black uppercase tracking-widest mb-1 z-10",children:"777 Triple"}),s.jsx("span",{className:"text-red-500 font-black text-xl italic font-['Orbitron'] z-10",children:"x2.00"})]}),s.jsxs("div",{className:"bg-black/40 p-4 rounded-2xl border border-white/5 flex flex-col items-center group overflow-hidden relative",children:[s.jsx("div",{className:"absolute inset-0 bg-yellow-500/5 translate-y-full group-hover:translate-y-0 transition-transform duration-500"}),s.jsx("span",{className:"text-zinc-600 text-[8px] font-black uppercase tracking-widest mb-1 z-10",children:"Fruit Set"}),s.jsx("span",{className:"text-[#facc15] font-black text-xl italic font-['Orbitron'] z-10",children:"x1.20"})]})]}),s.jsxs("button",{onClick:pe,disabled:v,className:`w-full h-24 rounded-[2.5rem] relative overflow-hidden transition-all duration-300 shadow-[0_20px_60px_rgba(220,38,38,0.4)] active:translate-y-2 active:shadow-none
                  ${v?"bg-zinc-800 opacity-50 cursor-not-allowed grayscale":"bg-gradient-to-b from-red-500 to-red-800 hover:brightness-110"}
                `,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-45 translate-x-[-150%] animate-shine"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/2 bg-gradient-to-b from-white/10 to-transparent"}),s.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center",children:v?s.jsx("i",{className:"fas fa-circle-notch fa-spin text-4xl text-white/50"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-white font-black text-4xl uppercase tracking-[0.2em] font-['Orbitron'] drop-shadow-[0_4px_10px_rgba(0,0,0,0.5)]",children:Ne.spin}),s.jsx("div",{className:"flex gap-2 mt-1",children:[1,2,3].map(ie=>s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white animate-pulse",style:{animationDelay:`${ie*.2}s`}},ie))})]})})]})]})]}),s.jsx("div",{className:"mt-8 text-center pb-12 opacity-10",children:s.jsx("p",{className:"text-[10px] font-black tracking-[0.8em] text-zinc-500 uppercase",children:"ZEE SECURE GAMING CORE v7.0"})})]}),s.jsx("style",{children:`
        @keyframes reel-spin {
          0% { transform: translateY(-50%); }
          100% { transform: translateY(0%); }
        }
        .animate-reel-spin {
          animation: reel-spin 0.2s linear infinite;
        }
        @keyframes reel-bounce {
          0% { transform: translateY(-10px); }
          50% { transform: translateY(5px); }
          100% { transform: translateY(0px); }
        }
        .animate-reel-bounce {
          animation: reel-bounce 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }
        @keyframes shine {
          0% { transform: translateX(-150%) skewX(-45deg); }
          100% { transform: translateX(250%) skewX(-45deg); }
        }
        .animate-shine {
          animation: shine 3s infinite ease-in-out;
        }
        @keyframes win-reveal {
          0% { transform: scale(0.8); opacity: 0; filter: blur(5px); }
          100% { transform: scale(1); opacity: 1; filter: blur(0px); }
        }
        .animate-win-reveal {
          animation: win-reveal 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }
        @keyframes float {
          0%, 100% { transform: translateY(0) rotate(-12deg); }
          50% { transform: translateY(-5px) rotate(-15deg); }
        }
        .animate-float {
          animation: float 2s ease-in-out infinite;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
      `})]})},eC=({user:i,onBack:t,lang:a,allPlayers:l})=>{const c={ar:{rankings:"  ",members:"  "},en:{rankings:"VIP Elite Rankings",members:"Verified Protocol Members"}}[a];return s.jsxs("div",{className:"min-h-full pb-32 animate-in fade-in duration-700 bg-black text-white overflow-x-hidden",children:[s.jsxs("div",{className:"relative h-[220px] flex flex-col items-center justify-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_40%,rgba(179,143,0,0.15),transparent_70%)]"}),s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/black-linen.png')] opacity-10"}),s.jsx("button",{onClick:t,className:"absolute top-8 left-6 w-10 h-10 bg-zinc-900/80 rounded-xl flex items-center justify-center border border-white/10 text-white z-50",children:s.jsx("i",{className:"fas fa-chevron-left"})}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#b38f00] to-[#ffd700] rounded-3xl flex items-center justify-center shadow-[0_0_40px_rgba(255,215,0,0.3)] mb-2 animate-float",children:s.jsx("i",{className:"fas fa-crown text-black text-4xl"})}),s.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-transparent via-[#ffd700]/30 to-transparent"})]})]}),s.jsxs("div",{className:"px-6 -mt-4 space-y-6 relative z-20",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter text-white leading-none",children:c.rankings}),s.jsx("span",{className:"text-[#ffd700]/50 text-[7px] font-black uppercase tracking-[0.3em] mt-1",children:c.members})]}),s.jsx("div",{className:"w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center border border-white/5 shadow-lg",children:s.jsx("i",{className:"fas fa-list-ol text-[#ffd700] text-xs"})})]}),s.jsx("div",{className:"space-y-3",children:l.length>0?l.map((u,f)=>{var m;return s.jsxs("div",{className:`bg-[#121214] rounded-[2rem] p-4 border flex items-center justify-between group transition-all duration-300 ${u.uid===(i==null?void 0:i.uid)?"border-[#ffd700]/40 bg-[#1a1a1c] shadow-[0_0_20px_rgba(255,215,0,0.05)]":"border-white/5 hover:border-[#ffd700]/20"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black italic border shadow-lg shrink-0 ${f===0?"bg-yellow-500/10 border-yellow-500/50 text-yellow-500":f===1?"bg-zinc-400/10 border-zinc-400/50 text-zinc-400":f===2?"bg-orange-600/10 border-orange-600/50 text-orange-600":"bg-zinc-800/40 border-white/5 text-zinc-600"}`,children:f<3?s.jsx("i",{className:`fas ${f===0?"fa-crown":"fa-trophy"}`}):f+1}),s.jsxs("div",{className:"relative shrink-0",children:[s.jsx("div",{className:`w-11 h-11 rounded-full overflow-hidden border p-0.5 bg-zinc-900 ${f<3?"border-[#ffd700]/30":"border-white/10"}`,children:s.jsx("img",{src:u.profileImage,className:"w-full h-full object-cover rounded-full",alt:""})}),u.uid===(i==null?void 0:i.uid)&&s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-[#121214] animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col min-w-0 text-left",children:[s.jsxs("span",{className:"text-white font-black text-xs uppercase tracking-tight truncate max-w-[110px]",children:[u.username,u.uid===(i==null?void 0:i.uid)&&s.jsx("span",{className:"ml-1 text-[6px] text-emerald-500 bg-emerald-500/10 px-1 rounded",children:"YOU"})]}),s.jsx("p",{className:"text-[7px] text-zinc-600 font-black uppercase tracking-widest mt-0.5",children:"Secure Protocol"})]})]}),s.jsxs("div",{className:"text-right shrink-0",children:[s.jsxs("span",{className:`font-black text-xs tracking-tight ${f<3?"text-[#ffd700]":"text-emerald-500"}`,children:["$",(m=u.balance)==null?void 0:m.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})]}),s.jsxs("div",{className:"flex items-center justify-end gap-1 mt-0.5",children:[s.jsx("i",{className:"fas fa-shield-halved text-[6px] text-zinc-700"}),s.jsx("p",{className:"text-[6px] text-zinc-700 font-black uppercase tracking-widest",children:"Verified"})]})]})]},u.id)}):s.jsxs("div",{className:"py-20 text-center flex flex-col items-center gap-3 opacity-20",children:[s.jsx("div",{className:"w-12 h-12 border-2 border-dashed border-zinc-700 rounded-full flex items-center justify-center",children:s.jsx("i",{className:"fas fa-users-slash text-xl"})}),s.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.4em]",children:"Synchronizing Standings..."})]})})]}),s.jsx("div",{className:"mt-16 text-center opacity-20 pb-12",children:s.jsx("p",{className:"text-[9px] font-black text-zinc-700 uppercase tracking-[0.5em]",children:"BETREX ROYAL HALL OF FAME v2.1"})}),s.jsx("style",{children:`
         @keyframes float {
           0%, 100% { transform: translateY(0); }
           50% { transform: translateY(-10px); }
         }
         .animate-float { animation: float 3s ease-in-out infinite; }
      `})]})},tC=({title:i,icon:t,onFinish:a})=>{const[l,c]=b.useState(0);return b.useEffect(()=>{const p=setInterval(()=>{c(v=>v>=100?(clearInterval(p),100):v+1)},30),x=setTimeout(()=>{a()},3200);return()=>{clearInterval(p),clearTimeout(x)}},[a]),s.jsxs("div",{className:"fixed inset-0 z-[1000] bg-[#07080a] flex flex-col items-center justify-center animate-in fade-in duration-500 overflow-hidden",children:[s.jsx("style",{children:`
        .loader {
            --path: white;
            --dot: #f40af0;
            --duration: 3s;
            width: 44px;
            height: 44px;
            position: relative;
            display: inline-block;
            margin: 0 16px;
        }
        .loader:before {
            content: "";
            width: 6px;
            height: 6px;
            border-radius: 50%;
            position: absolute;
            display: block;
            background: var(--dot);
            top: 37px;
            left: 19px;
            transform: translate(-18px, -18px);
            -webkit-animation: dotRect var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
            animation: dotRect var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
        }
        .loader svg {
            display: block;
            width: 100%;
            height: 100%;
        }
        .loader svg rect,
        .loader svg polygon,
        .loader svg circle {
            fill: none;
            stroke: var(--path);
            stroke-width: 10px;
            stroke-linejoin: round;
            stroke-linecap: round;
        }
        .loader svg polygon {
            stroke-dasharray: 145 76 145 76;
            stroke-dashoffset: 0;
            -webkit-animation: pathTriangle var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
            animation: pathTriangle var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
        }
        .loader svg rect {
            stroke-dasharray: 192 64 192 64;
            stroke-dashoffset: 0;
            -webkit-animation: pathRect 3s cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
            animation: pathRect 3s cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
        }
        .loader svg circle {
            stroke-dasharray: 150 50 150 50;
            stroke-dashoffset: 75;
            -webkit-animation: pathCircle var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
            animation: pathCircle var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
        }
        .loader.triangle {
            width: 48px;
        }
        .loader.triangle:before {
            left: 21px;
            transform: translate(-10px, -18px);
            -webkit-animation: dotTriangle var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
            animation: dotTriangle var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
        }

        @-webkit-keyframes pathTriangle {
            33% { stroke-dashoffset: 74; }
            66% { stroke-dashoffset: 147; }
            100% { stroke-dashoffset: 221; }
        }
        @keyframes pathTriangle {
            33% { stroke-dashoffset: 74; }
            66% { stroke-dashoffset: 147; }
            100% { stroke-dashoffset: 221; }
        }
        @-webkit-keyframes dotTriangle {
            33% { transform: translate(0, 0); }
            66% { transform: translate(10px, -18px); }
            100% { transform: translate(-10px, -18px); }
        }
        @keyframes dotTriangle {
            33% { transform: translate(0, 0); }
            66% { transform: translate(10px, -18px); }
            100% { transform: translate(-10px, -18px); }
        }
        @-webkit-keyframes pathRect {
            25% { stroke-dashoffset: 64; }
            50% { stroke-dashoffset: 128; }
            75% { stroke-dashoffset: 192; }
            100% { stroke-dashoffset: 256; }
        }
        @keyframes pathRect {
            25% { stroke-dashoffset: 64; }
            50% { stroke-dashoffset: 128; }
            75% { stroke-dashoffset: 192; }
            100% { stroke-dashoffset: 256; }
        }
        @-webkit-keyframes dotRect {
            25% { transform: translate(0, 0); }
            50% { transform: translate(18px, -18px); }
            75% { transform: translate(0, -36px); }
            100% { transform: translate(-18px, -18px); }
        }
        @keyframes dotRect {
            25% { transform: translate(0, 0); }
            50% { transform: translate(18px, -18px); }
            75% { transform: translate(0, -36px); }
            100% { transform: translate(-18px, -18px); }
        }
        @-webkit-keyframes pathCircle {
            25% { stroke-dashoffset: 125; }
            50% { stroke-dashoffset: 175; }
            75% { stroke-dashoffset: 225; }
            100% { stroke-dashoffset: 275; }
        }
        @keyframes pathCircle {
            25% { stroke-dashoffset: 125; }
            50% { stroke-dashoffset: 175; }
            75% { stroke-dashoffset: 225; }
            100% { stroke-dashoffset: 275; }
        }
      `}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(244,10,240,0.05),transparent_70%)] pointer-events-none"}),s.jsx("div",{className:"text-center space-y-2 mb-16 px-6 relative z-10 animate-in fade-in duration-1000 slide-in-from-top-4",children:s.jsx("h2",{className:"text-4xl font-black uppercase tracking-tighter text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:i})}),s.jsxs("div",{className:"flex items-center justify-center mb-20 relative z-10 scale-125 md:scale-150",children:[s.jsx("div",{className:"loader",children:s.jsx("svg",{viewBox:"0 0 80 80",children:s.jsx("circle",{cx:"40",cy:"40",r:"32"})})}),s.jsx("div",{className:"loader triangle",children:s.jsx("svg",{viewBox:"0 0 86 80",children:s.jsx("polygon",{points:"43 8 79 72 7 72"})})}),s.jsx("div",{className:"loader",children:s.jsx("svg",{viewBox:"0 0 80 80",children:s.jsx("rect",{x:"8",y:"8",width:"64",height:"64"})})})]}),s.jsxs("div",{className:"w-64 space-y-4 relative z-10",children:[s.jsx("div",{className:"h-1 w-full bg-white/5 rounded-full overflow-hidden border border-white/5 shadow-inner backdrop-blur-sm",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-[#f40af0] to-white shadow-[0_0_15px_#f40af0] transition-all duration-100 ease-linear",style:{width:`${l}%`}})}),s.jsxs("div",{className:"flex justify-between items-center px-1",children:[s.jsx("span",{className:"text-[8px] font-black text-zinc-600 uppercase tracking-widest leading-none",children:"Security Node Sync"}),s.jsxs("span",{className:"text-[10px] font-black text-white uppercase tabular-nums tracking-tighter",children:[Math.round(l),"%"]})]})]}),s.jsx("div",{className:"absolute bottom-10 text-center opacity-10",children:s.jsx("p",{className:"text-[7px] font-black tracking-[1em] text-zinc-500 uppercase",children:"BETREX SECURE CORE v5.0"})})]})},nC=({lang:i,onLanguageChange:t,isSheetMode:a,forcedMode:l,onSuccess:c})=>{const[u,f]=b.useState(l?l==="login":!0),[m,p]=b.useState(""),[x,v]=b.useState(""),[w,N]=b.useState(""),[k,M]=b.useState(""),[L,O]=b.useState(!1),[D,W]=b.useState(!1),[te,he]=b.useState(!1),[pe,Ne]=b.useState(!1),[ie,P]=b.useState(!1),[ue,xe]=b.useState({show:!1,message:"",type:"info"});b.useEffect(()=>{l&&f(l==="login")},[l]);const se={ar:{login:"  ",register:"  ",email:" ",password:" ",confirmPassword:"  ",username:" ",forgot:"  ",noAccount:"  ",hasAccount:"  ",joinNow:" ",signIn:" ",secureGate:"  ",secureDesc:"  ",createDesc:"   ",remember:"",verifyTitle:"  ",verifyDesc:"    ",verifyBtn:"",placeholderUser:"   ",placeholderEmail:"name@secure.com",placeholderPass:"",placeholderConfirm:"   ",fillFields:"     ."},en:{login:"Secure Sign In",register:"Create System Account",email:"Email Address",password:"Password",confirmPassword:"Confirm Password",username:"Username",forgot:"Forgot Password?",noAccount:"Don't have an account?",hasAccount:"Already have an account?",joinNow:"Join Now",signIn:"Sign In",secureGate:"Secure Portal",secureDesc:"Secure Authentication",createDesc:"Create your secure profile",remember:"Remember me",verifyTitle:"Verify Identity",verifyDesc:"We sent a verification link to",verifyBtn:"Got it",placeholderUser:"Choose unique system name",placeholderEmail:"name@secure.com",placeholderPass:"",placeholderConfirm:"Retype password",fillFields:"Please fill in all required fields to continue."}}[i],je=()=>{const V="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let q="";for(let _=0;_<11;_++)q+=V.charAt(Math.floor(Math.random()*V.length));return q},we=(V,q)=>{xe({show:!0,message:V,type:q})},Ce=async(V,q)=>{var z;const _=ve(ye,`User/${V.uid}`);if(!(await zt(_)).exists()){const G=Math.floor(1e10+Math.random()*9e10).toString(),ne=je(),A=q||V.displayName||((z=V.email)==null?void 0:z.split("@")[0])||"User",Q=A.toLowerCase().replace(/\s/g,""),_e={uid:V.uid,id:G,username:A,email:V.email,emailVerified:!1,balance:0,currency:"USD",role:"user",referralCode:ne,appliedReferralCode:null,createdAt:new Date().toISOString(),profileImage:V.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${Q}&backgroundColor=b6e3f4`};await Wa(_,_e),await Wa(ve(ye,`Usernames/${Q}`),V.uid),await Wa(ve(ye,`ReferralCodes/${ne}`),V.uid)}},X=async V=>{if(V.preventDefault(),!m.trim()||!x.trim()){we(se.fillFields,"error");return}O(!0);try{await(await Pj(pa,m,x)).user.reload();const _=pa.currentUser;_&&!_.emailVerified?(he(!0),await vg(_),await lv(pa),O(!1),we(i==="ar"?"     .":"Please verify your secure identity via email.","error")):(we(i==="ar"?"    !":"Secure login successful.","success"),c&&c())}catch(q){O(!1);let _=i==="ar"?"    .":"Secure login failed.";q.code==="auth/invalid-credential"&&(_=i==="ar"?"   .":"Invalid system credentials."),we(_,"error")}},S=async V=>{if(V.preventDefault(),!m.trim()||!x.trim()||!w.trim()||!k.trim()){we(se.fillFields,"error");return}if(x!==w){we(i==="ar"?"   .":"Passwords do not match.","error");return}const q=k.trim().toLowerCase();if(q.length<3){we(i==="ar"?"     3   .":"System name must be at least 3 characters.","error");return}O(!0);try{const _=ve(ye,`Usernames/${q}`);if((await zt(_)).exists()){we(i==="ar"?"   !":"System name is already taken!","error"),O(!1);return}const G=(await Fj(pa,m,x)).user;await vg(G),await Ce(G,k.trim()),we(i==="ar"?"   !  .":"Secure account created! Please check your email.","success"),f(!0)}catch(_){we(_.message,"error")}finally{O(!1)}},$=async()=>{if(!m){we(i==="ar"?"     .":"Please enter email to recover secure access.","info");return}try{await rv(pa,m),we(i==="ar"?"    .":"Secure recovery link sent to your email.","success")}catch(V){we(V.message,"error")}},H=a?"bg-transparent flex flex-col relative":"min-h-screen bg-black flex flex-col relative overflow-hidden";return s.jsxs("div",{className:H,dir:"ltr",children:[s.jsx(Yt,{isVisible:ue.show,message:ue.message,type:ue.type,onClose:()=>xe({...ue,show:!1})}),!a&&s.jsxs(s.Fragment,{children:[s.jsx(M1,{isOpen:ie,onClose:()=>P(!1),onSelect:V=>{t(V.code.toLowerCase()),P(!1)},currentLang:i.toUpperCase()}),s.jsx("div",{className:"absolute top-6 right-6 z-30",children:s.jsxs("button",{onClick:()=>P(!0),className:"flex items-center gap-2 bg-zinc-900/80 backdrop-blur-md border border-white/10 px-3 py-1.5 rounded-xl text-zinc-400 hover:text-red-500 transition-all text-[10px] font-black uppercase tracking-wider active:scale-95 shadow-xl",children:[s.jsx("i",{className:"fas fa-globe"}),s.jsx("span",{className:"bg-zinc-800 px-2 py-0.5 rounded-md text-white",children:i.toUpperCase()})]})})]}),te&&s.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center p-4 bg-black/95 backdrop-blur-xl",children:s.jsxs("div",{className:"bg-zinc-900 border border-red-500/30 rounded-[32px] p-8 max-sm w-full text-center shadow-[0_0_50px_rgba(239,68,68,0.1)]",children:[s.jsx("div",{className:"w-20 h-20 bg-red-600/10 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("i",{className:"fas fa-envelope-open-text text-red-500 text-3xl"})}),s.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:se.verifyTitle}),s.jsxs("p",{className:"text-zinc-400 text-sm leading-relaxed mb-8",children:[se.verifyDesc," ",s.jsx("span",{className:"text-white font-semibold",children:m}),"."]}),s.jsx("button",{onClick:()=>he(!1),className:"w-full bg-red-600 text-white font-bold py-4 rounded-2xl hover:bg-white hover:text-black transition-all shadow-lg",children:se.verifyBtn})]})}),s.jsxs("div",{className:`auth-gradient-top relative ${a?"h-[160px]":"h-[240px]"} flex flex-col items-center pt-10 shrink-0`,children:[s.jsx("div",{className:`bg-zinc-900 rounded-[24px] shadow-2xl mb-4 z-10 animate-float border border-white/5 overflow-hidden transition-all duration-1000 ${a?"scale-90":"scale-100"}`,children:s.jsx("img",{src:"https://i.ibb.co/WvHxbHhd/Picsart-26-01-28-22-50-23-444.jpg",alt:"BETREX",className:"w-20 h-20 object-cover"})}),s.jsxs("div",{className:"flex items-baseline gap-1 z-10",children:[s.jsx("span",{className:"text-2xl font-black text-white font-['Orbitron'] tracking-tighter",children:"BET"}),s.jsx("span",{className:"text-2xl font-normal text-red-600 font-['Trade_Winds'] tracking-tighter",children:"REX"})]}),s.jsx("p",{className:"text-zinc-500 text-[10px] mt-1 font-medium tracking-widest opacity-80 uppercase",children:u?se.secureGate:se.register})]}),s.jsxs("div",{className:`auth-card flex-1 ${a?"mt-0":"-mt-8"} z-20 px-8 pt-6 pb-10 flex flex-col font-['Cairo']`,children:[s.jsxs("form",{className:"space-y-5 max-w-md mx-auto w-full",onSubmit:u?X:S,noValidate:!0,children:[s.jsxs("div",{className:"space-y-4 text-left",children:[!u&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-zinc-600 text-[10px] font-black mb-1.5 ml-1 uppercase tracking-widest",children:se.username}),s.jsxs("div",{className:"bg-zinc-900/50 border border-white/5 rounded-xl flex items-center px-4 focus-within:border-red-500/30 transition-all",children:[s.jsx("i",{className:"far fa-user text-zinc-700 mr-3"}),s.jsx("input",{type:"text",value:k,onChange:V=>M(V.target.value),className:"w-full bg-transparent text-white py-3 outline-none text-sm placeholder-zinc-800",placeholder:se.placeholderUser})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-zinc-600 text-[10px] font-black mb-1.5 ml-1 uppercase tracking-widest",children:se.email}),s.jsxs("div",{className:"bg-zinc-900/50 border border-white/5 rounded-xl flex items-center px-4 focus-within:border-red-500/30 transition-all",children:[s.jsx("i",{className:"far fa-envelope text-zinc-700 mr-3"}),s.jsx("input",{type:"email",value:m,onChange:V=>p(V.target.value),className:"w-full bg-transparent text-white py-3 outline-none text-sm placeholder-zinc-800",placeholder:se.placeholderEmail})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-zinc-600 text-[10px] font-black mb-1.5 ml-1 uppercase tracking-widest",children:se.password}),s.jsxs("div",{className:"bg-zinc-900/50 border border-white/5 rounded-xl flex items-center px-4 focus-within:border-red-500/30 transition-all",children:[s.jsx("i",{className:"fas fa-lock text-zinc-700 mr-3"}),s.jsx("input",{type:D?"text":"password",value:x,onChange:V=>v(V.target.value),className:"w-full bg-transparent text-white py-3 outline-none text-sm placeholder-zinc-800",placeholder:se.placeholderPass}),s.jsx("button",{type:"button",onClick:()=>W(!D),className:"text-zinc-700 hover:text-red-500 transition-colors p-2",children:s.jsx("i",{className:`far ${D?"fa-eye-slash":"fa-eye"}`})})]})]}),!u&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-zinc-600 text-[10px] font-black mb-1.5 ml-1 uppercase tracking-widest",children:se.confirmPassword}),s.jsxs("div",{className:"bg-zinc-900/50 border border-white/5 rounded-xl flex items-center px-4 focus-within:border-red-500/30 transition-all",children:[s.jsx("i",{className:"fas fa-shield-alt text-zinc-700 mr-3"}),s.jsx("input",{type:D?"text":"password",value:w,onChange:V=>N(V.target.value),className:"w-full bg-transparent text-white py-3 outline-none text-sm placeholder-zinc-800",placeholder:se.placeholderConfirm})]})]}),u&&s.jsxs("div",{className:"flex items-center justify-between px-1 pt-1",children:[s.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>Ne(!pe),children:[s.jsx("div",{className:`w-4 h-4 rounded-md border-2 transition-all flex items-center justify-center ${pe?"bg-red-600 border-red-600":"border-zinc-800 bg-zinc-900"}`,children:pe&&s.jsx("i",{className:"fas fa-check text-[8px] text-white"})}),s.jsx("span",{className:"ml-2 text-zinc-500 text-[10px] font-bold uppercase tracking-tighter",children:se.remember})]}),s.jsx("button",{type:"button",onClick:$,className:"text-red-500 text-[10px] font-black hover:text-white transition-colors uppercase tracking-widest",children:se.forgot})]})]}),s.jsx("div",{className:"pt-2 pb-6",children:s.jsx("button",{type:"submit",disabled:L,className:"w-full bg-red-600 text-white font-black py-4 rounded-xl text-sm transition-all duration-300 disabled:opacity-50 hover:bg-red-500 shadow-[0_10px_20px_rgba(239,68,68,0.1)] active:scale-95 flex items-center justify-center uppercase tracking-[0.2em]",children:L?s.jsx("i",{className:"fas fa-circle-notch fa-spin text-lg"}):s.jsx("span",{children:u?se.login:se.register})})})]}),s.jsx("div",{className:"mt-auto pb-10 text-center",children:s.jsxs("p",{className:"text-zinc-600 text-xs font-bold uppercase tracking-widest",children:[u?se.noAccount:se.hasAccount,s.jsx("button",{onClick:()=>f(!u),className:"text-red-500 font-black hover:underline ml-2 transition-colors",children:u?se.joinNow:se.signIn})]})})]})]})},sC=({isOpen:i,onClose:t,lang:a,initialMode:l,onLanguageChange:c})=>{const[u,f]=b.useState(i);return b.useEffect(()=>{i?(f(!0),document.body.style.overflow="hidden"):(f(!1),document.body.style.overflow="unset")},[i]),u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 bg-black/80 z-[1000] backdrop-blur-md ${i?"opacity-100":"opacity-0"}`,onClick:t}),s.jsxs("div",{className:`fixed bottom-0 left-0 right-0 z-[1001] bg-[#07080a] border-t border-white/10 rounded-t-[3rem] max-h-[95vh] overflow-y-auto ${i?"translate-y-0 shadow-[0_-20px_80px_rgba(0,0,0,0.9)] scale-100 opacity-100":"translate-y-full"}`,children:[s.jsx("div",{className:"w-12 h-1.5 bg-zinc-800 rounded-full mx-auto my-6 shrink-0 opacity-40"}),s.jsx("div",{className:"pb-10",children:s.jsx(nC,{lang:a,onLanguageChange:c,isSheetMode:!0,forcedMode:l,onSuccess:t})}),s.jsx("button",{onClick:t,className:"absolute top-6 right-8 w-11 h-11 bg-zinc-900 rounded-full flex items-center justify-center text-zinc-500 border border-white/5 active:scale-90",children:s.jsx("i",{className:"fas fa-times"})}),s.jsx("div",{className:"absolute top-0 left-0 w-48 h-48 bg-red-600/5 blur-[100px] rounded-full pointer-events-none"}),s.jsx("div",{className:"absolute bottom-40 right-0 w-32 h-32 bg-indigo-600/5 blur-[80px] rounded-full pointer-events-none"})]})]}):null},aC=()=>s.jsxs("div",{className:"min-h-screen bg-[#07080a] flex flex-col px-4 pt-4 space-y-8 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl skeleton-box border border-white/5 shadow-lg"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"w-24 h-3 rounded-full skeleton-box"}),s.jsx("div",{className:"w-16 h-2 rounded-full skeleton-box opacity-40"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-28 h-10 rounded-xl skeleton-box border border-white/5"}),s.jsx("div",{className:"w-10 h-10 rounded-xl skeleton-box border border-white/5"})]})]}),s.jsx("div",{className:"w-full aspect-[16/7] rounded-[2.5rem] skeleton-box border border-white/5 relative shadow-2xl",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-10",children:s.jsxs("div",{className:"flex items-baseline gap-1 animate-pulse",children:[s.jsx("span",{className:"text-3xl font-black text-white font-['Orbitron'] tracking-tighter",children:"BET"}),s.jsx("span",{className:"text-3xl font-normal text-red-600 font-['Trade_Winds'] tracking-tighter",children:"REX"})]})})}),s.jsx("div",{className:"w-full h-10 rounded-xl skeleton-box opacity-20 border border-white/5"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{className:"h-24 rounded-[2rem] skeleton-box opacity-50 shadow-lg"}),s.jsx("div",{className:"h-24 rounded-[2rem] skeleton-box opacity-50 shadow-lg"})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex justify-between px-2",children:[s.jsx("div",{className:"w-36 h-4 rounded-full skeleton-box"}),s.jsx("div",{className:"w-20 h-3 rounded-full skeleton-box opacity-30"})]}),s.jsxs("div",{className:"flex gap-4 overflow-hidden",children:[s.jsx("div",{className:"shrink-0 w-44 aspect-[4/5] rounded-[2.5rem] skeleton-box border border-white/5 shadow-2xl"}),s.jsx("div",{className:"shrink-0 w-44 aspect-[4/5] rounded-[2.5rem] skeleton-box border border-white/5 opacity-60"}),s.jsx("div",{className:"shrink-0 w-44 aspect-[4/5] rounded-[2.5rem] skeleton-box border border-white/5 opacity-30"})]})]}),s.jsx("div",{className:"fixed bottom-6 left-8 right-8 h-16 rounded-full skeleton-box border border-white/10 opacity-90 z-50 shadow-[0_10px_30px_rgba(0,0,0,0.8)]"})]}),iC=({user:i,lang:t,onLanguageChange:a})=>{var ae;const[l,c]=b.useState(!0),[u,f]=b.useState([]),[m,p]=b.useState([]),[x,v]=b.useState(!0),[w,N]=b.useState(0),[k,M]=b.useState(!1),[L,O]=b.useState(!1),[D,W]=b.useState(!1),[te,he]=b.useState(!1),[pe,Ne]=b.useState(null),[ie,P]=b.useState(null),[ue,xe]=b.useState([]),[se,je]=b.useState([]),[we,Ce]=b.useState([]),[X,S]=b.useState([]),[$,H]=b.useState(!1),[V,q]=b.useState("login"),[_,T]=b.useState(null),[z,G]=b.useState("home"),ne=b.useRef(null),A=b.useRef(null),Q=b.useRef(null),[_e,ee]=b.useState({show:!1,message:"",type:"info"}),B=["wheel-ai","dice","crash","mines","mines-pro","mines-winner","plinko","plinkog","carx","balloon","spacex","highlow","chicken","coinflip","slot777","play"],C=B.includes(z),K=Z=>({dice:"fa-dice",crash:"fa-rocket",mines:"fa-bomb","mines-pro":"fa-gem","mines-winner":"fa-star",plinko:"fa-braille",plinkog:"fa-futbol",carx:"fa-car-side",balloon:"fa-hot-air-balloon",spacex:"fa-rocket","wheel-ai":"fa-dharmachakra",highlow:"fa-chart-line",chicken:"fa-egg",coinflip:"fa-coins",slot777:"fa-7",play:"fa-gamepad"})[Z]||"fa-gamepad",Ee=Z=>{q(Z),H(!0)},ge=b.useCallback((Z,I)=>{B.includes(Z)?T({id:Z,name:I||Z.toUpperCase().replace("-"," "),icon:K(Z)}):G(Z)},[]),Te=b.useCallback(()=>{_&&(G(_.id),T(null))},[_]);b.useEffect(()=>{const Z=setTimeout(()=>c(!1),2500);return()=>clearTimeout(Z)},[]),b.useEffect(()=>{const Z=I=>{const ce=`auto-${Date.now()}`,ke=new Date().toISOString(),Re=I==="system"?[{ar:"   ",en:"Secure Network Stability Optimized",desc:{ar:"   .",en:"Secure protocol updated."}},{ar:"  ",en:"Secure Server Sync",desc:{ar:"    .",en:"Successful secure sync."}}]:[{ar:"   ",en:"Secure Gift Waiting",desc:{ar:"      .",en:"Check rewards for secure balance."}},{ar:"   AI",en:"Message from AI Coach",desc:{ar:"   .",en:"New secure strategy available."}}],Ae=Re[Math.floor(Math.random()*Re.length)],Oe={id:ce,type:I,timestamp:ke,title:t==="ar"?Ae.ar:Ae.en,message:t==="ar"?Ae.desc.ar:Ae.desc.en};S(Ve=>[Oe,...Ve].slice(0,20))};return ne.current=setInterval(()=>Z("system"),6e4),A.current=setInterval(()=>Z("personal"),18e4),()=>{clearInterval(ne.current),clearInterval(A.current)}},[t]),b.useEffect(()=>{if(i){const Re=ve(ye,`User/${i.uid}`);lt(Re,Oe=>{const Ve=Oe.val();Ve&&Ne({...Ve,email:i.email})});const Ae=ve(ye,"Luck");zt(Ae).then(Oe=>{Oe.exists()||Wa(Ae,{crash:50,mines:50,plinko:50,carx:50,dice:50,wheel:50,balloon:35,spacex:35,highlow:50,chicken:65,coinflip:50,slot777:40})})}const Z=ve(ye,"User");lt(Z,Re=>{const Ae=Re.val();if(Ae){const Oe=Object.values(Ae).sort((Ve,it)=>(it.balance||0)-(Ve.balance||0));je(Oe),xe(Oe.slice(0,3))}});const I=ve(ye,"notify/");lt(I,Re=>{const Ae=Re.val();if(Ae){const Oe=Object.entries(Ae).map(([Ve,it])=>({id:Ve,...it}));Ce(Oe.reverse())}});const ce=ve(ye,"Slides/");lt(ce,Re=>{const Ae=Re.val();if(Ae){const Oe=Object.entries(Ae).map(([Ve,it])=>({id:Ve,imageUrl:typeof it=="string"?it:it.imageUrl||it.img||""})).filter(Ve=>Ve.imageUrl!=="");f(Oe)}});const ke=ve(ye,"Demo/");lt(ke,Re=>{if(Re.exists()){const Ae=Re.val(),Oe=Object.entries(Ae).map(([Ve,it])=>({id:Ve,title:it.title||"Untitled Game",url:it.url||"",imageUrl:it.imageUrl||it.img||""})).filter(Ve=>Ve.url!=="");p(Oe)}else p([]);v(!1)})},[i]);const Ge=()=>{Q.current&&clearInterval(Q.current),u.length>1&&(Q.current=setInterval(()=>{N(Z=>(Z+1)%u.length)},5e3))};b.useEffect(()=>(Ge(),()=>{Q.current&&clearInterval(Q.current)}),[u.length]);const Ue=Z=>{P(Z),ge("play",Z.title)},fe=Z=>{if(!i){ee({show:!0,message:t==="ar"?"    ":"Please Login first to continue",type:"info"}),Ee("login");return}Z()},Ie=()=>{var Z,I,ce,ke,Re,Ae,Oe,Ve,it,He,Nt,rt;return s.jsxs("main",{className:"px-4 pt-4 space-y-8 pb-32 animate-in fade-in duration-700",children:[s.jsx("section",{className:"relative aspect-[16/6.5] w-full rounded-3xl overflow-hidden bg-zinc-900 border border-white/10 shadow-2xl animate-in zoom-in duration-700",children:u.length>0?s.jsxs(s.Fragment,{children:[u.map((Ye,kt)=>s.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${kt===w?"opacity-100":"opacity-0"}`,children:[s.jsx("img",{src:Ye.imageUrl,alt:"Slide",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"})]},Ye.id)),s.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex items-center justify-center space-x-2 z-10",children:u.map((Ye,kt)=>s.jsx("button",{onClick:()=>{N(kt),Ge()},className:`h-1.5 rounded-full transition-all duration-300 ${kt===w?"w-6 bg-red-600 shadow-[0_0_10px_rgba(239,68,68,0.8)]":"w-1.5 bg-white/20"}`,"aria-label":`Go to slide ${kt+1}`},kt))})]}):s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("i",{className:"fas fa-circle-notch fa-spin text-white/10 text-2xl"})})}),s.jsxs("section",{className:"bg-zinc-900/50 h-10 rounded-xl border border-white/5 flex items-center px-4 overflow-hidden",children:[s.jsx("i",{className:"fas fa-bolt text-red-500 text-xs mr-2 animate-pulse"}),s.jsx("div",{className:"flex-1 relative h-4 overflow-hidden",children:s.jsx("span",{className:"absolute left-0 animate-marquee text-zinc-500 text-[10px] font-black uppercase whitespace-nowrap",children:t==="ar"?"   BETREX         ":"Welcome to BETREX  Secure system withdrawals active  Exclusive verified rewards"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{onClick:()=>fe(()=>ge("gift")),className:"relative h-24 bg-gradient-to-br from-teal-600 to-emerald-800 rounded-3xl p-5 overflow-hidden active:scale-95 transition-transform cursor-pointer shadow-lg",children:[s.jsx("h4",{className:"text-white font-black text-sm uppercase",children:t==="ar"?" ":"Fast Secure Cash"}),s.jsx("p",{className:"text-emerald-100 text-[8px] font-bold opacity-60 uppercase",children:t==="ar"?" ":"Claim Secure Bonus"}),s.jsx("i",{className:"fas fa-gift absolute right-4 bottom-4 text-white/10 text-4xl"})]}),s.jsxs("div",{onClick:()=>fe(()=>ge("wheel-ai")),className:"relative h-24 bg-gradient-to-br from-indigo-600 to-purple-800 rounded-3xl p-5 overflow-hidden active:scale-95 transition-transform cursor-pointer shadow-lg border border-red-500/10",children:[s.jsx("h4",{className:"text-white font-black text-sm uppercase",children:t==="ar"?" ":"Lucky Wheel"}),s.jsx("p",{className:"text-purple-100 text-[8px] font-bold uppercase opacity-60",children:t==="ar"?" ":"Spin to Win"}),s.jsx("i",{className:"fas fa-dharmachakra absolute right-4 bottom-4 text-white/10 text-4xl animate-spin-slow"})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsx("h3",{className:"text-sm font-black uppercase tracking-tighter text-white",children:"Secure Casino AI Games"}),s.jsx("button",{onClick:()=>G("all-games"),className:"text-[10px] text-zinc-500 font-black uppercase hover:text-white transition-colors",children:"View Lobby"})]}),s.jsx("div",{className:"flex space-x-4 overflow-x-auto no-scrollbar pb-4 -mx-4 px-4",children:[{id:"mines-winner",name:"Mines Winner",icon:"fa-star",img:"https://i.ibb.co/HpBFcv9v/cb0d4ebb-97dc-409d-abfa-6f06edeb8ef8.jpg",badge:"1WIN"},{id:"slot777",name:"777 Slot",icon:"fa-7",img:"https://i.ibb.co/fzzBX4rP/a4900de0-f4ed-4707-887f-e6e76e21c3f2.jpg",badge:"LEGENDARY"},{id:"coinflip",name:t==="ar"?" ":"Coin Flip",icon:"fa-coins",img:"https://i.ibb.co/GfCkyYvB/coinflip.jpg",badge:"NEW"},{id:"spacex",name:t==="ar"?" ":"SpaceX",icon:"fa-rocket",img:"https://i.ibb.co/z3Ztkw9/2f8f561a-7bf3-4300-9bbc-434c8944e0a6.jpg",badge:"HOT"},{id:"mines-pro",name:t==="ar"?" ":"Mines Pro",icon:"fa-gem",img:"https://images.unsplash.com/photo-1614728263952-84ea256f9679?q=80&w=400",badge:"PRO"},{id:"chicken",name:t==="ar"?" ":"Chicken Road",icon:"fa-egg",img:"https://i.ibb.co/bRFkVS7W/images-1.webp",badge:"NEW"},{id:"highlow",name:t==="ar"?"  AI":"High Low AI",icon:"fa-chart-line",img:"https://i.ibb.co/27mF7Ccm/fc5f4cbd-17dc-4e06-aeb0-6a2d9e6fdf85.jpg",badge:"Trading"},{id:"plinkog",name:t==="ar"?" G":"Plinko G",icon:"fa-futbol",img:"https://i.ibb.co/0728PND/5e94be18-ce69-4925-93a1-1d4f6650f4fd.jpg",badge:"Hot"},{id:"dice",name:t==="ar"?" AI":"Dice AI",icon:"fa-dice",img:"https://i.ibb.co/B9r3BFj/Picsart-26-02-01-21-51-27-386.jpg",badge:"New"},{id:"crash",name:t==="ar"?" AI":"Crash AI",icon:"fa-rocket",img:"https://i.ibb.co/ZRWNq2sq/crash.jpg",badge:"Popular"},{id:"mines",name:t==="ar"?" AI":"Mines AI",icon:"fa-bomb",img:"https://i.ibb.co/KpgbJcNn/mines.jpg"},{id:"balloon",name:t==="ar"?" X":"BalloonX",icon:"fa-hot-air-balloon",img:"https://i.ibb.co/JF3Py5Hq/aeaea9b0-2a2c-4a07-b32c-078e7c4c50f6.jpg"},{id:"plinko",name:t==="ar"?" AI":"Plinko AI",icon:"fa-braille",img:"https://i.ibb.co/DmXhjST/917cd6c1-0801-4830-aaf4-3dc3d6f4dabf.jpg"},{id:"carx",name:t==="ar"?" AI":"Car X AI",icon:"fa-car-side",img:"https://i.ibb.co/Sw644Bbh/carx.jpg"}].map(Ye=>s.jsxs("div",{onClick:()=>ge(Ye.id,Ye.name),className:"shrink-0 w-44 aspect-[4/5] bg-zinc-900 rounded-[2rem] overflow-hidden relative border border-white/10 active:scale-95 transition-all shadow-2xl group",children:[s.jsx("img",{src:Ye.img,className:"absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-110 transition-transform duration-700",alt:""}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0c] via-transparent to-transparent"}),Ye.badge&&s.jsx("div",{className:"absolute top-3 left-3 bg-red-600 text-white text-[7px] font-black px-2 py-0.5 rounded-full uppercase shadow-lg z-20",children:Ye.badge}),s.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[s.jsx("div",{className:"w-10 h-10 bg-black/40 backdrop-blur-md rounded-xl flex items-center justify-center mb-3 border border-white/10",children:s.jsx("i",{className:`fas ${Ye.icon} text-red-500 text-sm`})}),s.jsx("h4",{className:"text-white font-black text-xs uppercase tracking-tight",children:Ye.name}),s.jsx("p",{className:"text-zinc-500 text-[8px] font-bold uppercase tracking-widest mt-1",children:"Secure Payouts"})]})]},Ye.id))})]}),s.jsxs("section",{className:"bg-zinc-950/30 -mx-4 px-4 py-8 border-y border-white/5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"}),s.jsx("h3",{className:"text-sm font-black uppercase tracking-tighter text-white",children:"Demo Secure Arena"})]}),s.jsx("button",{onClick:()=>G("all-games"),className:"text-[10px] font-black uppercase text-[#007bff] hover:underline",children:t==="ar"?" ":"View All"})]}),s.jsx("div",{className:"flex space-x-4 overflow-x-auto no-scrollbar pb-2 min-h-[160px] items-center justify-center",children:x?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-red-600/10 border-t-red-600 rounded-full animate-spin mb-3"}),s.jsx("span",{className:"text-[8px] font-black text-zinc-600 uppercase tracking-widest",children:"Connecting..."})]}):m.length>0?m.map((Ye,kt)=>s.jsxs("div",{onClick:()=>Ue(Ye),className:"shrink-0 w-36 aspect-[3/4.5] bg-[#1a1c1e] rounded-[2rem] overflow-hidden relative border border-white/10 active:scale-95 transition-all shadow-2xl group",children:[s.jsx("img",{src:Ye.imageUrl,className:"w-full h-full object-cover opacity-50 group-hover:scale-110 transition-transform duration-700",alt:""}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"}),s.jsx("div",{className:"absolute top-3 right-3 w-8 h-8 bg-black/40 backdrop-blur-md rounded-xl flex items-center justify-center border border-white/10",children:s.jsx("i",{className:"fas fa-play text-[#007bff] text-[10px]"})}),s.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[s.jsx("p",{className:"text-[11px] font-black text-white uppercase truncate mb-1",children:Ye.title}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[7px] text-zinc-500 font-black uppercase tracking-widest",children:"Secure Play"}),s.jsx("div",{className:"flex space-x-0.5",children:[1,2,3].map(mt=>s.jsx("div",{className:"w-1 h-1 bg-red-600 rounded-full opacity-40"},mt))})]})]})]},Ye.id||kt)):s.jsxs("div",{className:"py-10 w-full text-center flex flex-col items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center border border-white/5",children:s.jsx("i",{className:"fas fa-ghost text-zinc-700 text-xl"})}),s.jsx("div",{className:"text-zinc-600 text-[9px] font-black uppercase tracking-[0.4em]",children:t==="ar"?"   ":"NO GAMES AVAILABLE"})]})})]}),s.jsxs("section",{className:"pt-6 pb-2",children:[s.jsx("div",{className:"flex items-center justify-center mb-10",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("i",{className:"fas fa-trophy text-[#FFFF00] text-2xl animate-bounce mb-2"}),s.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter text-white",children:t==="ar"?"  ":"Royal Podium Stage"}),s.jsx("div",{className:"h-0.5 w-32 bg-gradient-to-r from-transparent via-[#FFFF00]/50 to-transparent"})]})}),s.jsxs("div",{className:"flex items-end justify-center gap-2 px-2 max-w-sm mx-auto h-[240px]",children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center group animate-in slide-in-from-left-10 duration-700",children:[s.jsxs("div",{className:"relative mb-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-zinc-400 p-0.5 bg-zinc-800 shadow-[0_0_15px_rgba(16,185,129,0.3)]",children:s.jsx("img",{src:((Z=ue[1])==null?void 0:Z.profileImage)||"https://api.dicebear.com/7.x/avataaars/svg?seed=2",className:"w-full h-full object-cover rounded-full",alt:""})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-zinc-400 rounded-full flex items-center justify-center text-black text-[9px] font-black border-2 border-[#0f1113]",children:"2"})]}),s.jsx("span",{className:"text-white font-black text-[9px] uppercase tracking-tighter mb-1 truncate w-20 text-center",children:((I=ue[1])==null?void 0:I.username)||"---"}),s.jsxs("div",{className:"w-full h-24 bg-gradient-to-t from-zinc-900 via-zinc-800 to-zinc-600 rounded-t-2xl border-x border-t border-white/10 shadow-2xl flex flex-col items-center justify-center p-2 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),s.jsxs("span",{className:"text-zinc-400 font-black text-xs relative z-10",children:["$",((ke=(ce=ue[1])==null?void 0:ce.balance)==null?void 0:ke.toFixed(0))||"0"]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col items-center z-10 animate-in zoom-in duration-1000",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx("i",{className:"fas fa-crown absolute -top-6 left-1/2 -translate-x-1/2 text-[#ffd700] text-xl drop-shadow-[0_0_10px_rgba(255,215,0,0.8)] animate-pulse"}),s.jsxs("div",{className:"w-18 h-18 rounded-full overflow-hidden border-4 border-[#ffd700] p-0.5 bg-zinc-800 shadow-[0_0_30px_rgba(255,215,0,0.4)] relative",children:[s.jsx("img",{src:((Re=ue[0])==null?void 0:Re.profileImage)||"https://api.dicebear.com/7.x/avataaars/svg?seed=1",className:"w-full h-full object-cover rounded-full",alt:""}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#ffd700]/20 to-transparent"})]}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-8 h-8 bg-[#ffd700] rounded-full flex items-center justify-center text-black text-xs font-black border-4 border-[#0f1113] shadow-lg",children:"1"})]}),s.jsx("span",{className:"text-white font-black text-[11px] uppercase tracking-tighter mb-1 truncate w-24 text-center",children:((Ae=ue[0])==null?void 0:Ae.username)||"---"}),s.jsxs("div",{className:"w-full h-36 bg-gradient-to-t from-yellow-950 via-[#facc15] to-[#fef9c3] rounded-t-2xl border-x-2 border-t-2 border-[#ffd700]/30 shadow-[0_0_50px_rgba(255,215,0,0.2)] flex flex-col items-center justify-center p-2 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"}),s.jsxs("span",{className:"text-black font-black text-sm relative z-10 drop-shadow-sm",children:["$",((Ve=(Oe=ue[0])==null?void 0:Oe.balance)==null?void 0:Ve.toFixed(0))||"0"]}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-white/50 animate-pulse"})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col items-center group animate-in slide-in-from-right-10 duration-700",children:[s.jsxs("div",{className:"relative mb-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-orange-600 p-0.5 bg-zinc-800 shadow-[0_0_15px_rgba(234,88,12,0.3)]",children:s.jsx("img",{src:((it=ue[2])==null?void 0:it.profileImage)||"https://api.dicebear.com/7.x/avataaars/svg?seed=3",className:"w-full h-full object-cover rounded-full",alt:""})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-orange-600 rounded-full flex items-center justify-center text-white text-[9px] font-black border-2 border-[#0f1113]",children:"3"})]}),s.jsx("span",{className:"text-white font-black text-[9px] uppercase tracking-tighter mb-1 truncate w-20 text-center",children:((He=ue[2])==null?void 0:He.username)||"---"}),s.jsxs("div",{className:"w-full h-18 bg-gradient-to-t from-zinc-900 via-orange-950 to-orange-600 rounded-t-2xl border-x border-t border-white/10 shadow-2xl flex flex-col items-center justify-center p-2 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),s.jsxs("span",{className:"text-orange-200 font-black text-xs relative z-10",children:["$",((rt=(Nt=ue[2])==null?void 0:Nt.balance)==null?void 0:rt.toFixed(0))||"0"]})]})]})]}),s.jsx("div",{className:"mt-12 flex justify-center px-4",children:s.jsxs("button",{onClick:()=>G("vip-club"),className:"group relative w-full max-w-sm h-16 rounded-2xl bg-[#0a0a0c] border border-[#facc15]/30 overflow-hidden shadow-[0_15px_40px_rgba(0,0,0,0.4)] active:scale-[0.97] transition-all",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#b38f00] via-[#facc15] to-[#b38f00] opacity-10 group-hover:opacity-20 transition-opacity"}),s.jsx("div",{className:"absolute inset-0 w-1/2 h-full bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 translate-x-[-200%] group-hover:translate-x-[300%] transition-transform duration-1000 ease-in-out"}),s.jsxs("div",{className:"relative z-10 h-full w-full flex items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#facc15] to-[#b38f00] rounded-xl flex items-center justify-center shadow-[0_0_20px_rgba(250,204,21,0.3)] group-hover:rotate-[360deg] transition-transform duration-700",children:s.jsx("i",{className:"fas fa-crown text-black text-base"})}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-white font-black text-sm uppercase tracking-widest italic font-['Orbitron']",children:"Go VIP Club"}),s.jsx("span",{className:"text-[#facc15]/50 text-[7px] font-bold uppercase tracking-[0.3em]",children:"Premium Secure Entry"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-1 w-8 bg-[#facc15]/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-[#facc15] w-1/2 animate-pulse"})}),s.jsx("i",{className:"fas fa-chevron-right text-[#facc15] text-xs group-hover:translate-x-1 transition-transform"})]})]})]})})]})]})};if(l&&z==="home")return s.jsx(aC,{});const me=[...we,...X].sort((Z,I)=>new Date(I.timestamp).getTime()-new Date(Z.timestamp).getTime());return s.jsxs("div",{className:"min-h-screen bg-[#07080a] text-white flex flex-col",dir:"ltr",children:[s.jsx(Yt,{isVisible:_e.show,message:_e.message,type:_e.type,onClose:()=>ee({..._e,show:!1})}),_&&s.jsx("div",{className:"fixed inset-0 z-[1000]",children:s.jsx(tC,{title:_.name,icon:_.icon,onFinish:Te})}),s.jsx(sC,{isOpen:$,onClose:()=>H(!1),lang:t,initialMode:V,onLanguageChange:a}),s.jsx(xE,{isOpen:k,onClose:()=>M(!1),lang:t,notifications:me}),s.jsx(NE,{isOpen:D,onClose:()=>W(!1),lang:t,user:i,userData:pe}),s.jsx(jE,{isOpen:te,onClose:()=>he(!1),lang:t,user:i,userData:pe}),s.jsx(bE,{isOpen:L,onClose:()=>O(!1),userData:pe,lang:t,onLanguageChange:a,onFreeCashClick:()=>fe(()=>ge("gift")),onWheelClick:()=>fe(()=>ge("wheel-ai")),onNavigate:Z=>{Z==="deposit"?fe(()=>W(!0)):Z==="withdraw"?fe(()=>he(!0)):ge(Z)}}),!C&&s.jsx("header",{className:"sticky top-0 z-40 px-4 py-4 flex items-center justify-between bg-[#07080a]/90 backdrop-blur-xl border-b border-white/5 shrink-0",children:i?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{onClick:()=>G("profile"),className:"w-9 h-9 rounded-lg overflow-hidden border border-white/10 p-0.5 bg-zinc-900 cursor-pointer",children:s.jsx("img",{src:pe==null?void 0:pe.profileImage,className:"w-full h-full object-cover rounded-md",alt:""})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs font-black text-white truncate max-w-[80px]",children:(pe==null?void 0:pe.username)||"User"}),s.jsxs("span",{className:"text-[8px] font-black text-zinc-500 uppercase tracking-widest",children:["ID: ",(pe==null?void 0:pe.id)||"----"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"bg-zinc-900 px-3 py-1 rounded-lg border border-white/5 flex flex-col items-end",children:[s.jsx("span",{className:"text-[7px] font-black text-zinc-600 uppercase",children:"Secure Balance"}),s.jsxs("span",{className:"text-xs font-black text-red-500",children:["$",((ae=pe==null?void 0:pe.balance)==null?void 0:ae.toFixed(1))||"0.0"]})]}),s.jsxs("button",{onClick:()=>M(!0),className:"w-9 h-9 bg-zinc-900 rounded-lg flex items-center justify-center text-zinc-500 relative border border-white/5",children:[s.jsx("i",{className:"fas fa-bell text-sm"}),me.length>0&&s.jsx("span",{className:"absolute top-2 right-2 w-1.5 h-1.5 bg-red-500 rounded-full"})]})]})]}):s.jsxs("div",{className:"flex items-center justify-between w-full px-2",children:[s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-2xl font-black text-white font-['Orbitron'] tracking-tighter",children:"BET"}),s.jsx("span",{className:"text-2xl font-normal text-red-600 font-['Trade_Winds'] tracking-tighter",children:"REX"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>Ee("login"),className:"px-5 py-2 rounded-xl bg-zinc-900 border border-white/10 text-white font-black text-[10px] uppercase tracking-widest active:scale-95 transition-all shadow-lg",children:t==="ar"?"":"Login"}),s.jsx("button",{onClick:()=>Ee("register"),className:"px-5 py-2 rounded-xl bg-red-600 text-white font-black text-[10px] uppercase tracking-widest active:scale-95 transition-all shadow-[0_0_15px_rgba(239,68,68,0.3)]",children:t==="ar"?"":"Register"})]})]})}),s.jsxs("div",{className:"flex-1",children:[z==="home"&&Ie(),z==="profile"&&s.jsx(vE,{user:i,userData:pe,onBack:()=>G("home"),onNavigate:Z=>{Z==="withdraw"?fe(()=>he(!0)):Z==="deposit"?fe(()=>W(!0)):ge(Z)},lang:t}),z==="gift"&&s.jsx(yE,{user:i,onBack:()=>G("home"),lang:t}),z==="wheel-ai"&&s.jsx(EE,{user:i,onBack:()=>G("home"),lang:t}),z==="dice"&&s.jsx(CE,{user:i,onBack:()=>G("home"),lang:t,onAuthRequired:()=>Ee("login")}),z==="crash"&&s.jsx(TE,{user:i,onBack:()=>G("home"),lang:t,onDepositClick:()=>fe(()=>W(!0)),onAuthRequired:()=>Ee("login")}),z==="mines"&&s.jsx(IE,{user:i,onBack:()=>G("home"),lang:t,onDepositClick:()=>fe(()=>W(!0)),onAuthRequired:()=>Ee("login")}),z==="mines-pro"&&s.jsx(OE,{user:i,onBack:()=>G("home"),lang:t,onDepositClick:()=>fe(()=>W(!0)),onAuthRequired:()=>Ee("login")}),z==="mines-winner"&&s.jsx(LE,{user:i,onBack:()=>G("home"),lang:t,onAuthRequired:()=>Ee("login")}),z==="plinko"&&s.jsx(FE,{user:i,onBack:()=>G("home"),lang:t,onDepositClick:()=>fe(()=>W(!0)),onAuthRequired:()=>Ee("login")}),z==="plinkog"&&s.jsx(PE,{user:i,onBack:()=>G("home"),lang:t,onAuthRequired:()=>Ee("login")}),z==="carx"&&s.jsx(BE,{user:i,onBack:()=>G("home"),lang:t,onAuthRequired:()=>Ee("login")}),z==="balloon"&&s.jsx(HE,{user:i,onBack:()=>G("home"),lang:t,onAuthRequired:()=>Ee("login")}),z==="spacex"&&s.jsx($E,{user:i,onBack:()=>G("home"),lang:t}),z==="highlow"&&s.jsx(qE,{user:i,onBack:()=>G("home"),lang:t,onAuthRequired:()=>Ee("login")}),z==="chicken"&&s.jsx(XE,{user:i,onBack:()=>G("home"),lang:t,onDepositClick:()=>fe(()=>W(!0)),onAuthRequired:()=>Ee("login")}),z==="coinflip"&&s.jsx(ZE,{user:i,onBack:()=>G("home"),lang:t,onDepositClick:()=>fe(()=>W(!0)),onAuthRequired:()=>Ee("login")}),z==="slot777"&&s.jsx(JE,{user:i,onBack:()=>G("home"),lang:t,onAuthRequired:()=>Ee("login")}),z==="vip-club"&&s.jsx(eC,{user:i,allPlayers:se,onBack:()=>G("home"),lang:t}),z==="play"&&ie&&s.jsx(wE,{url:ie.url,title:ie.title,onBack:()=>G("home")}),z==="all-games"&&s.jsx(_E,{onPlay:Ue,onAiPlay:Z=>ge(Z.id,Z.name),onBack:()=>G("home"),lang:t}),z==="history"&&s.jsx(SE,{user:i,lang:t,onBack:()=>G("home")})]}),!C&&s.jsx("div",{className:"fixed bottom-4 left-6 right-6 z-50 pointer-events-none",children:s.jsx("nav",{className:"max-w-md mx-auto pointer-events-auto bg-zinc-900/90 backdrop-blur-2xl border border-white/5 rounded-full shadow-2xl flex items-center justify-around px-1 py-1",children:[{id:"menu",icon:"fa-grip-vertical",label:t==="ar"?"":"Menu"},{id:"all-games",icon:"fa-gamepad",label:t==="ar"?"":"Games"},{id:"home",icon:"fa-house",label:t==="ar"?"":"Home"},{id:"deposit",icon:"fa-wallet",label:t==="ar"?"":"Deposit"},{id:"profile",icon:"fa-user",label:t==="ar"?"":"Profile"}].map(Z=>{const I=z===Z.id||Z.id==="deposit"&&D;return s.jsxs("button",{onClick:()=>{Z.id==="menu"?O(!0):Z.id==="deposit"?fe(()=>W(!0)):Z.id==="profile"?fe(()=>G("profile")):G(Z.id)},className:"relative flex-1 flex flex-col items-center justify-center py-1 group",children:[s.jsx("i",{className:`fas ${Z.icon} text-[13px] ${I?"text-red-500":"text-zinc-500"}`}),s.jsx("span",{className:`text-[7px] font-black uppercase tracking-tighter mt-0.5 ${I?"text-red-500":"text-zinc-600"}`,children:Z.label}),I&&s.jsx("div",{className:"absolute top-0 w-1 h-1 bg-red-600 rounded-full shadow-[0_0_8px_#ef4444]"})]},Z.id)})})})]})},rC=()=>{const[i,t]=b.useState(!0),[a,l]=b.useState(null),[c,u]=b.useState(!0),[f,m]=b.useState(()=>{try{const v=localStorage.getItem("zee_lang");return v==="ar"||v==="en"?v:"en"}catch{return"en"}});b.useEffect(()=>{const v=Hj(pa,w=>{w&&w.emailVerified?l(w):l(null),t(!1)},w=>{console.error("Firebase Auth Error:",w),t(!1)});return()=>v()},[]);const p=b.useCallback(v=>{m(v),localStorage.setItem("zee_lang",v)},[]),x=b.useCallback(()=>{u(!1)},[]);return c?s.jsx(pE,{onFinish:x,lang:f}):s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#07080a"},children:i?s.jsx("div",{style:{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center"},children:s.jsx("div",{className:"w-10 h-10 border-2 border-red-600 border-t-transparent rounded-full animate-spin"})}):s.jsx(iC,{user:a,lang:f,onLanguageChange:p})})},O1=document.getElementById("root");if(!O1)throw new Error("Could not find root element to mount to");const xb=document.getElementById("fallback-msg");xb&&(xb.style.display="none");const lC=n_.createRoot(O1);lC.render(s.jsx(Ww.StrictMode,{children:s.jsx(rC,{})}));
